(this["webpackJsonpfoi-lab-web"]=this["webpackJsonpfoi-lab-web"]||[]).push([[0],{169:function(e,t){e.exports={MenuProps:{PaperProps:{style:{maxHeight:224,width:250}}},limitType:[{id:"min",name:"min"},{id:"max",name:"max"},{id:"between",name:"between"}]}},200:function(e,t,a){e.exports=a(308)},232:function(e,t){},234:function(e,t){},263:function(e,t){},306:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){"use strict";a.r(t);var s=a(0),i=a.n(s),l=a(16),n=a.n(l),o=a(38),r=a(68),c=a(56),d=a.n(c),h=(a(206),a(105)),m=a(154),p=(a(209),a(349)),u=a(13),g=a.n(u),E=a(358),b=a(359),C=a(360),_=a(379),f=a(164),L=a.n(f),y=a(351);const S=e=>{e=(e+="").replace("#","");if(!/[0-9A-Fa-f]/g.test(e)||3!==e.length&&6!==e.length)throw new Error("input is not a valid hex color.");if(3===e.length){let t=e[0],a=e[1],s=e[2];e=t+t+a+a+s+s}let t=(e=e.toUpperCase(e))[0]+e[1],a=e[2]+e[3],s=e[4]+e[5];return parseInt(t,16)+", "+parseInt(a,16)+", "+parseInt(s,16)},R={transition:"all 0.33s cubic-bezier(0.685, 0.0473, 0.346, 1)"},k={paddingRight:"15px",paddingLeft:"15px",marginRight:"auto",marginLeft:"auto"},w={fontFamily:'"Ubuntu", sans-serif',fontWeight:"300",lineHeight:"1.5em"},v=["#9c27b0","#ab47bc","#8e24aa","#af2cc5"],x=["#ff9800","#ffa726","#fb8c00","#ffa21a"],P=["#f44336","#ef5350","#e53935","#f55a4e"],T=["#4caf50","#66bb6a","#43a047","#5cb860"],N=["#00acc1","#26c6da","#00acc1","#00d3ee"],I=["#e91e63","#ec407a","#d81b60","#eb3573"],A=["#999","#777","#3C4858","#AAAAAA","#D2D2D2","#DDD","#b4b4b4","#555555","#333","#a9afbb","#eee","#e7e7e7"],F={boxShadow:"0 10px 30px -12px rgba("+S("#000")+", 0.42), 0 4px 25px 0px rgba("+S("#000")+", 0.12), 0 8px 10px -5px rgba("+S("#000")+", 0.2)"},O={boxShadow:"0 4px 20px 0 rgba("+S("#000")+",.14), 0 7px 10px -5px rgba("+S(v[0])+",.4)"},D={boxShadow:"0 4px 20px 0 rgba("+S("#000")+",.14), 0 7px 10px -5px rgba("+S(N[0])+",.4)"},V={boxShadow:"0 4px 20px 0 rgba("+S("#000")+",.14), 0 7px 10px -5px rgba("+S(T[0])+",.4)"},M={boxShadow:"0 4px 20px 0 rgba("+S("#000")+",.14), 0 7px 10px -5px rgba("+S(x[0])+",.4)"},U={boxShadow:"0 4px 20px 0 rgba("+S("#000")+",.14), 0 7px 10px -5px rgba("+S(P[0])+",.4)"},H={boxShadow:"0 4px 20px 0 rgba("+S("#000")+",.14), 0 7px 10px -5px rgba("+S(I[0])+",.4)"},W={background:"linear-gradient(60deg, "+x[1]+", "+x[2]+")",...M},B={background:"linear-gradient(60deg, "+T[1]+", "+T[2]+")",...V},j={background:"linear-gradient(60deg, "+P[1]+", "+P[2]+")",...U},z={background:"linear-gradient(60deg, "+N[1]+", "+N[2]+")",...D},K={background:"linear-gradient(60deg, "+v[1]+", "+v[2]+")",...O},Y={background:"linear-gradient(60deg, "+I[1]+", "+I[2]+")",...H},q=(S("#000"),S("#000"),{border:"0",borderRadius:"3px",boxShadow:"0 10px 20px -12px rgba("+S("#000")+", 0.42), 0 3px 20px 0px rgba("+S("#000")+", 0.12), 0 8px 10px -5px rgba("+S("#000")+", 0.2)",padding:"10px 0",transition:"all 150ms ease 0s"}),$={color:A[2],textDecoration:"none",fontWeight:"300",marginTop:"30px",marginBottom:"25px",minHeight:"32px",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif","& small":{color:A[1],fontWeight:"400",lineHeight:"1"}};var G={button:{minHeight:"auto",minWidth:"auto",backgroundColor:A[0],color:"#FFF",boxShadow:"0 2px 2px 0 rgba("+S(A[0])+", 0.14), 0 3px 1px -2px rgba("+S(A[0])+", 0.2), 0 1px 5px 0 rgba("+S(A[0])+", 0.12)",border:"none",borderRadius:"3px",position:"relative",padding:"12px 30px",margin:".3125rem 1px",fontSize:"12px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0",willChange:"box-shadow, transform",transition:"box-shadow 0.2s cubic-bezier(0.4, 0, 1, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1)",lineHeight:"1.42857143",textAlign:"center",whiteSpace:"nowrap",verticalAlign:"middle",touchAction:"manipulation",cursor:"pointer","&:hover,&:focus":{color:"#FFF",backgroundColor:A[0],boxShadow:"0 14px 26px -12px rgba("+S(A[0])+", 0.42), 0 4px 23px 0px rgba("+S("#000")+", 0.12), 0 8px 10px -5px rgba("+S(A[0])+", 0.2)"},"& .fab,& .fas,& .far,& .fal, &.material-icons":{position:"relative",display:"inline-block",top:"0",marginTop:"-1em",marginBottom:"-1em",fontSize:"1.1rem",marginRight:"4px",verticalAlign:"middle"},"& svg":{position:"relative",display:"inline-block",top:"0",width:"18px",height:"18px",marginRight:"4px",verticalAlign:"middle"},"&$justIcon":{"& .fab,& .fas,& .far,& .fal,& .material-icons":{marginTop:"0px",position:"absolute",width:"100%",transform:"none",left:"0px",top:"0px",height:"100%",lineHeight:"41px",fontSize:"20px"}}},white:{"&,&:focus,&:hover":{backgroundColor:"#FFF",color:A[0]}},rose:{backgroundColor:I[0],boxShadow:"0 2px 2px 0 rgba("+S(I[0])+", 0.14), 0 3px 1px -2px rgba("+S(I[0])+", 0.2), 0 1px 5px 0 rgba("+S(I[0])+", 0.12)","&:hover,&:focus":{backgroundColor:I[0],boxShadow:"0 14px 26px -12px rgba("+S(I[0])+", 0.42), 0 4px 23px 0px rgba("+S("#000")+", 0.12), 0 8px 10px -5px rgba("+S(I[0])+", 0.2)"}},primary:{backgroundColor:v[0],boxShadow:"0 2px 2px 0 rgba("+S(v[0])+", 0.14), 0 3px 1px -2px rgba("+S(v[0])+", 0.2), 0 1px 5px 0 rgba("+S(v[0])+", 0.12)","&:hover,&:focus":{backgroundColor:v[0],boxShadow:"0 14px 26px -12px rgba("+S(v[0])+", 0.42), 0 4px 23px 0px rgba("+S("#000")+", 0.12), 0 8px 10px -5px rgba("+S(v[0])+", 0.2)"}},info:{backgroundColor:N[0],boxShadow:"0 2px 2px 0 rgba("+S(N[0])+", 0.14), 0 3px 1px -2px rgba("+S(N[0])+", 0.2), 0 1px 5px 0 rgba("+S(N[0])+", 0.12)","&:hover,&:focus":{backgroundColor:N[0],boxShadow:"0 14px 26px -12px rgba("+S(N[0])+", 0.42), 0 4px 23px 0px rgba("+S("#000")+", 0.12), 0 8px 10px -5px rgba("+S(N[0])+", 0.2)"}},success:{backgroundColor:T[0],boxShadow:"0 2px 2px 0 rgba("+S(T[0])+", 0.14), 0 3px 1px -2px rgba("+S(T[0])+", 0.2), 0 1px 5px 0 rgba("+S(T[0])+", 0.12)","&:hover,&:focus":{backgroundColor:T[0],boxShadow:"0 14px 26px -12px rgba("+S(T[0])+", 0.42), 0 4px 23px 0px rgba("+S("#000")+", 0.12), 0 8px 10px -5px rgba("+S(T[0])+", 0.2)"}},warning:{backgroundColor:x[0],boxShadow:"0 2px 2px 0 rgba("+S(x[0])+", 0.14), 0 3px 1px -2px rgba("+S(x[0])+", 0.2), 0 1px 5px 0 rgba("+S(x[0])+", 0.12)","&:hover,&:focus":{backgroundColor:x[0],boxShadow:"0 14px 26px -12px rgba("+S(x[0])+", 0.42), 0 4px 23px 0px rgba("+S("#000")+", 0.12), 0 8px 10px -5px rgba("+S(x[0])+", 0.2)"}},danger:{backgroundColor:P[0],boxShadow:"0 2px 2px 0 rgba("+S(P[0])+", 0.14), 0 3px 1px -2px rgba("+S(P[0])+", 0.2), 0 1px 5px 0 rgba("+S(P[0])+", 0.12)","&:hover,&:focus":{backgroundColor:P[0],boxShadow:"0 14px 26px -12px rgba("+S(P[0])+", 0.42), 0 4px 23px 0px rgba("+S("#000")+", 0.12), 0 8px 10px -5px rgba("+S(P[0])+", 0.2)"}},simple:{"&,&:focus,&:hover":{color:"#FFF",background:"transparent",boxShadow:"none"},"&$rose":{"&,&:focus,&:hover,&:visited":{color:I[0]}},"&$primary":{"&,&:focus,&:hover,&:visited":{color:v[0]}},"&$info":{"&,&:focus,&:hover,&:visited":{color:N[0]}},"&$success":{"&,&:focus,&:hover,&:visited":{color:T[0]}},"&$warning":{"&,&:focus,&:hover,&:visited":{color:x[0]}},"&$danger":{"&,&:focus,&:hover,&:visited":{color:P[0]}}},transparent:{"&,&:focus,&:hover":{color:"inherit",background:"transparent",boxShadow:"none"}},disabled:{opacity:"0.65",pointerEvents:"none"},lg:{padding:"1.125rem 2.25rem",fontSize:"0.875rem",lineHeight:"1.333333",borderRadius:"0.2rem"},sm:{padding:"0.40625rem 1.25rem",fontSize:"0.6875rem",lineHeight:"1.5",borderRadius:"0.2rem"},round:{borderRadius:"30px"},block:{width:"100% !important"},link:{"&,&:hover,&:focus":{backgroundColor:"transparent",color:A[0],boxShadow:"none"}},justIcon:{paddingLeft:"12px",paddingRight:"12px",fontSize:"20px",height:"41px",minWidth:"41px",width:"41px","& .fab,& .fas,& .far,& .fal,& svg,& .material-icons":{marginRight:"0px"},"&$lg":{height:"57px",minWidth:"57px",width:"57px",lineHeight:"56px","& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"32px",lineHeight:"56px"},"& svg":{width:"32px",height:"32px"}},"&$sm":{height:"30px",minWidth:"30px",width:"30px","& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"17px",lineHeight:"29px"},"& svg":{width:"17px",height:"17px"}}}};const Z=Object(p.a)(G);function Q(e){const t=Z(),{color:a,round:s,children:l,disabled:n,simple:o,size:r,block:c,link:d,justIcon:h,className:m,muiClasses:p,onClick:u,...E}=e,b=g()({[t.button]:!0,[t[r]]:r,[t[a]]:a,[t.round]:s,[t.disabled]:n,[t.simple]:o,[t.block]:c,[t.link]:d,[t.justIcon]:h,[m]:m});return i.a.createElement(y.a,Object.assign({},E,{onClick:u,classes:p,className:b}),l)}var X=a(357),J=a(356),ee=a(354),te=a(177),ae=a(355),se=a(353),ie=a(103),le=a.n(ie),ne=a(162),oe=a.n(ne),re=a(25),ce=a.n(re);var de={todaysDate:ce()().format("MMM Do YY"),TODAYS_DATE:"MOwp20-LLoepq-81239Oekm",TOKEN_ID:"lsoOPss-JDneoa-Owqp1299aS",PRIVILAGE_ID:"lsoOPss-JDneoa-Pqelx4nas",DEFAULT_ERROR_ALERT:"Oops, something went wrong!",Location_error:"Location is Required",Checklist_process:"Checklist Process is Required",Sample_id:"Sample Id is Required.",Shipping_Address:"Shipping Address is Required.",Billing_contact:"Billing Contact is Required.",Billing_Email:"Billing Email Id is Required.",Kit:"Kit is Required.",Qauntity:"quantity is Required.",Tracking_id:"Tracking Id is Required.",Shipping_Service:"Shipping Service is Required.",PRE_DEFINED_VALUES:{PACKING:["Select One","Single Box","Multiple Box"]},emailRegex:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/},he=a(159),me=a.n(he),pe=a(160),ue=a.n(pe),ge=a(4),Ee=a.n(ge);var be=me.a.create({httpsAgent:new ue.a.Agent({rejectUnauthorized:!1}),crossdomain:!0});const Ce={authorization:"Bearer "+localStorage.getItem(de.TOKEN_ID),Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":Ee.a.SERVER},_e={authorization:"Bearer "+localStorage.getItem(de.TOKEN_ID),"Access-Control-Allow-Origin":Ee.a.SERVER};var fe={F9md4cafLc98pfX8fTp6pW9P:"admin",admin:"F9md4cafLc98pfX8fTp6pW9P",sLVXTwSnwM56Z2HmVmTN5jGb:"manager",manager:"sLVXTwSnwM56Z2HmVmTN5jGb",QxhXJ3sxuga6ssderbN66NDz:"employee",employee:"QxhXJ3sxuga6ssderbN66NDz",USTwhNzMQt9jaGZRDtr6SybV:"customer",customer:"USTwhNzMQt9jaGZRDtr6SybV"};var Le=function(){return Ee.a.DEBUG&&console.log(...arguments),!0};const ye=de.todaysDate;var Se=new class{constructor(){this.showNotification=(e,t)=>{c.store.addNotification({message:t,type:e,insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:5e3,onScreen:!0}})},this._onLoad=e=>{let t=localStorage.getItem(de.TODAYS_DATE);t||localStorage.setItem(de.TODAYS_DATE,ye),t!=ye&&(localStorage.removeItem(de.TODAYS_DATE),localStorage.removeItem(de.TOKEN_ID),localStorage.removeItem(de.PRIVILAGE_ID)),localStorage.getItem(de.TOKEN_ID)?localStorage.getItem(de.TOKEN_ID)&&be({method:"get",url:Ee.a.SERVER+"users/",headers:Ce}).then(t=>{localStorage.setItem(de.PRIVILAGE_ID,t.data.role),this.authenticated=!0,e(!0)}).catch(e=>{this.authenticated=!1,window.history.replaceState(null,null,"/")}):(this.authenticated=!1,window.history.replaceState(null,null,"/login"))},this.login=(e,t)=>{let{email:a,password:s}=e;if(Le(`Login data: Email => ${a} & Password ${s}`),!a)return this.showNotification("danger","Please provide Email"),t(!1);if(!de.emailRegex.test(a))return this.showNotification("danger","Invalid Email"),t(!1);if(!s)return this.showNotification("danger","Please provide Password"),t(!1);const i={email:a.toLowerCase().trim(),password:s.trim()};be({method:"post",url:Ee.a.SERVER+"users/authenticate",data:i}).then(e=>{h.a.event({category:"USER",action:"USER LOGIN "});const a=e.data;e&&(localStorage.setItem(de.TOKEN_ID,a.token),be({method:"get",url:Ee.a.SERVER+"users/",headers:{authorization:"Bearer "+a.token,Accept:"application/json","Content-Type":"application/json"}}).then(e=>{localStorage.setItem(de.TODAYS_DATE,ye),localStorage.setItem(de.PRIVILAGE_ID,e.data.role),this.authenticated=!0,this.showNotification("success","Hi, "+e.data.fname+" "+e.data.surname),window.location.reload(),t(a)}).catch(e=>{this.showNotification("danger","Login failed")}))}).catch(e=>{console.log(e),e&&this.showNotification("danger","Login failed")})},this.logout=()=>{localStorage.removeItem(de.TOKEN_ID),localStorage.removeItem(de.PRIVILAGE_ID),this.authenticated=!1,window.history.replaceState(null,null,"/"),window.location.reload(!1)},this.isAuthenticated=()=>this.authenticated,this.changeUser=e=>(this.authenticated=!1,localStorage.setItem(de.PRIVILAGE_ID,e),window.location.reload(!1),i.a.createElement(r.a,{to:"/"})),this.authRole=()=>{if(localStorage.getItem(de.PRIVILAGE_ID))return fe[localStorage.getItem(de.PRIVILAGE_ID)];be({method:"get",url:Ee.a.SERVER+"users/",headers:Ce}).then(e=>(localStorage.setItem(de.PRIVILAGE_ID,e.data.role),fe[e.data.role])).catch(e=>null)},this.authenticated=!0,this._onLoad(()=>console.log("Loading..."))}};var Re=e=>({buttonLink:{[e.breakpoints.down("md")]:{display:"flex",marginLeft:"30px",width:"auto"}},links:{width:"20px",height:"20px",zIndex:"4",[e.breakpoints.down("md")]:{display:"block",width:"30px",height:"30px",color:A[9],marginRight:"15px"}},linkText:{zIndex:"4",...w,fontSize:"14px"},popperClose:{pointerEvents:"none"},pooperResponsive:{[e.breakpoints.down("md")]:{zIndex:"1640",position:"static",float:"none",width:"auto",marginTop:"0",backgroundColor:"transparent",border:"0",WebkitBoxShadow:"none",boxShadow:"none",color:"black"}},popperNav:{[e.breakpoints.down("sm")]:{position:"static !important",left:"unset !important",top:"unset !important",transform:"none !important",willChange:"unset !important","& > div":{boxShadow:"none !important",marginLeft:"0rem",marginRight:"0rem",transition:"none !important",marginTop:"0px !important",marginBottom:"0px !important",padding:"0px !important",backgroundColor:"transparent !important","& ul li":{color:"#FFF !important",margin:"10px 15px 0!important",padding:"10px 15px !important","&:hover":{backgroundColor:"hsla(0,0%,78%,.2)",boxShadow:"none"}}}}},dropdown:{borderRadius:"3px",border:"0",boxShadow:"0 2px 5px 0 rgba("+S("#000")+", 0.26)",top:"100%",zIndex:"1000",minWidth:"160px",padding:"5px 0",margin:"2px 0 0",fontSize:"14px",textAlign:"left",listStyle:"none",backgroundColor:"#FFF",WebkitBackgroundClip:"padding-box",backgroundClip:"padding-box"},dropdownItem:{...w,fontSize:"13px",padding:"10px 20px",margin:"0 5px",borderRadius:"2px",WebkitTransition:"all 150ms linear",MozTransition:"all 150ms linear",OTransition:"all 150ms linear",MsTransition:"all 150ms linear",transition:"all 150ms linear",display:"block",clear:"both",fontWeight:"400",lineHeight:"1.42857143",color:A[8],whiteSpace:"nowrap",height:"unset",minHeight:"unset","&:hover":{backgroundColor:v[0],color:"#FFF",...O}}});var ke=e=>({...Re(e),search:{"& > div":{marginTop:"0"},[e.breakpoints.down("sm")]:{margin:"10px 15px !important",float:"none !important",paddingTop:"1px",paddingBottom:"1px",padding:"0!important",width:"60%",marginTop:"40px","& input":{color:"#FFF"}}},linkText:{zIndex:"4",...w,fontSize:"14px",margin:"0px"},buttonLink:{[e.breakpoints.down("sm")]:{display:"flex",margin:"10px 15px 0",width:"-webkit-fill-available","& svg":{width:"24px",height:"30px",marginRight:"15px",marginLeft:"-15px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"24px",lineHeight:"30px",width:"24px",height:"30px",marginRight:"15px",marginLeft:"-15px"},"& > span":{justifyContent:"flex-start",width:"100%"}}},searchButton:{[e.breakpoints.down("sm")]:{top:"-50px !important",marginRight:"22px",float:"right"}},margin:{zIndex:"4",margin:"0"},searchIcon:{width:"17px",zIndex:"4"},notifications:{zIndex:"4",[e.breakpoints.up("md")]:{position:"absolute",top:"2px",border:"1px solid #FFF",right:"4px",fontSize:"9px",background:P[0],color:"#FFF",minWidth:"16px",height:"16px",borderRadius:"10px",textAlign:"center",lineHeight:"16px",verticalAlign:"middle",display:"block"},[e.breakpoints.down("sm")]:{...w,fontSize:"14px",marginRight:"8px"}},manager:{[e.breakpoints.down("sm")]:{width:"100%"},display:"inline-block"},searchWrapper:{[e.breakpoints.down("sm")]:{width:"-webkit-fill-available",margin:"10px 15px 0"},display:"inline-block"}});const we=Object(p.a)(ke),ve=[];var xe=()=>{const e=we(),[t,a]=i.a.useState(null),[s,l]=i.a.useState(null),n=()=>{a(null)},o=()=>{l(null)};return i.a.createElement("div",null,i.a.createElement("div",{className:e.manager},i.a.createElement(Q,{color:window.innerWidth>959?"transparent":"white",justIcon:window.innerWidth>959,simple:!(window.innerWidth>959),"aria-owns":t?"notification-menu-list-grow":null,"aria-haspopup":"true",onClick:e=>{t&&t.contains(e.target)?a(null):a(e.currentTarget)},className:e.buttonLink},i.a.createElement(oe.a,{className:e.icons}),i.a.createElement("span",{className:e.notifications},ve.length),i.a.createElement(_.a,{mdUp:!0,implementation:"css"},i.a.createElement("p",{onClick:n,className:e.linkText},"Notification"))),i.a.createElement(se.a,{open:Boolean(t),anchorEl:t,transition:!0,disablePortal:!0,className:g()({[e.popperClose]:!t})+" "+e.popperNav},t=>{let{TransitionProps:a,placement:s}=t;return i.a.createElement(ee.a,Object.assign({},a,{id:"notification-menu-list-grow",style:{transformOrigin:"bottom"===s?"center top":"center bottom"}}),i.a.createElement(te.a,null,i.a.createElement(ae.a,{onClickAway:n},i.a.createElement(J.a,{role:"menu"},ve.map(t=>i.a.createElement(X.a,{onClick:n,className:e.dropdownItem},t))))))})),i.a.createElement("div",{className:e.manager},i.a.createElement(Q,{color:window.innerWidth>959?"transparent":"white",justIcon:window.innerWidth>959,simple:!(window.innerWidth>959),"aria-owns":s?"profile-menu-list-grow":null,"aria-haspopup":"true",onClick:e=>{e.preventDefault(),s&&s.contains(e.target)?l(null):l(e.currentTarget)},className:e.buttonLink},i.a.createElement(le.a,{className:e.icons}),i.a.createElement(_.a,{mdUp:!0,implementation:"css"},i.a.createElement("p",{className:e.linkText},"Profile"))),i.a.createElement(se.a,{open:Boolean(s),anchorEl:s,transition:!0,disablePortal:!0,className:g()({[e.popperClose]:!s})+" "+e.popperNav},t=>{let{TransitionProps:a,placement:s}=t;return i.a.createElement(ee.a,Object.assign({},a,{id:"profile-menu-list-grow",style:{transformOrigin:"bottom"===s?"center top":"center bottom"}}),i.a.createElement(te.a,null,i.a.createElement(ae.a,{onClickAway:o},i.a.createElement(J.a,{role:"menu"},i.a.createElement(X.a,{onClick:()=>Se.logout(),className:e.dropdownItem},"Logout")))))})))};var Pe=()=>({appBar:{backgroundColor:"transparent",boxShadow:"none",borderBottom:"0",marginBottom:"0",position:"absolute",width:"100%",paddingTop:"10px",zIndex:"1029",color:A[7],border:"0",borderRadius:"3px",padding:"10px 0",transition:"all 150ms ease 0s",minHeight:"50px",display:"block"},container:{...k,minHeight:"50px"},flex:{flex:1},title:{...w,letterSpacing:"unset",lineHeight:"30px",fontSize:"18px",borderRadius:"3px",textTransform:"none",color:"inherit",margin:"0","&:hover,&:focus":{background:"transparent"}},appResponsive:{top:"8px"},primary:{backgroundColor:v[0],color:"#FFF",...q},info:{backgroundColor:N[0],color:"#FFF",...q},success:{backgroundColor:T[0],color:"#FFF",...q},warning:{backgroundColor:x[0],color:"#FFF",...q},danger:{backgroundColor:P[0],color:"#FFF",...q}});const Te=Object(p.a)(Pe);function Ne(e){const t=Te();const{color:a}=e,s=g()({[" "+t[a]]:a});return i.a.createElement(E.a,{className:t.appBar+s},i.a.createElement(b.a,{className:t.container},i.a.createElement("div",{className:t.flex},i.a.createElement(Q,{color:"transparent",href:"#",className:t.title},function(){var t;return e.routes.map(e=>(-1!==window.location.href.indexOf(e.layout+e.path)&&(t=e.name),null)),t}())),i.a.createElement(_.a,{smDown:!0,implementation:"css"},i.a.createElement(xe,null)),i.a.createElement(_.a,{mdUp:!0,implementation:"css"},i.a.createElement(C.a,{color:"inherit","aria-label":"open drawer",onClick:e.handleDrawerToggle},i.a.createElement(L.a,null)))))}var Ie={block:{color:"inherit",padding:"15px",textTransform:"uppercase",borderRadius:"3px",textDecoration:"none",position:"relative",display:"block",...w,fontWeight:"500",fontSize:"12px"},left:{float:"left!important",display:"block"},right:{padding:"15px 0",margin:"0",fontSize:"14px",float:"right!important"},footer:{bottom:"0",borderTop:"1px solid "+A[11],padding:"15px 0",...w},container:k,a:{color:v,textDecoration:"none",backgroundColor:"transparent"},list:{marginBottom:"0",padding:"0",marginTop:"0"},inlineBlock:{display:"inline-block",padding:"0px",width:"auto"}};const{REACT_APP_VERSION:Ae}=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_COMPANY_BRIEF:"Fuel Testing and Analysis",REACT_APP_CLIENT_ID:"FOI-XLPA-YTHF-8599-POYO",REACT_APP_COMPANY_NAME:"FOI Laboratories,",REACT_APP_COMPANY_HREF:"https://foilab.com/",REACT_APP_REPORTS_SERVER:"https://api.foilab.com/api/",REACT_APP_USER_CONTROLLER_SERVER:"https://api.foilab.com/api/",REACT_APP_DATA_CONTROLLER_SERVER:"https://api.foilab.com/api/",REACT_APP_SERVER:"https://api.foilab.com/api/",REACT_APP_VERSION:"$npm_package_version",REACT_APP_DEBUG:"false",REACT_APP_COMPANY_NAME_SHORT:"FOI Labs,",REACT_APP_SAMPLE_CONTROLLER_SERVER:"https://api.foilab.com/api/"}),Fe=Object(p.a)(Ie);function Oe(){const e=Fe();return i.a.createElement("footer",{className:e.footer},i.a.createElement("div",{className:e.container},i.a.createElement("p",{className:e.right},i.a.createElement("span",null,"© ",1900+(new Date).getYear()," ",i.a.createElement("a",{href:ge.COMPANY_HREF,className:e.a},ge.COMPANY_NAME_SHORT),"   v."+Ae))))}var De=a(62),Ve=a(383),Me=a(313),Ue=a(314),He=a(362),We=a(361);var Be=e=>({drawerPaper:{background:"linear-gradient(to right bottom, #1eb9cc, #189fb0)",border:"none",position:"fixed",top:"0",bottom:"0",left:"0",zIndex:"1",...F,width:260,[e.breakpoints.up("md")]:{width:260,position:"fixed",height:"100%"},[e.breakpoints.down("sm")]:{width:260,...F,position:"fixed",display:"block",top:"0",height:"100vh",right:"0",left:"auto",zIndex:"1032",visibility:"visible",overflowY:"visible",borderTop:"none",textAlign:"left",paddingRight:"0px",paddingLeft:"0",transform:"translate3d(260px, 0, 0)",...R}},drawerPaperRTL:{[e.breakpoints.up("md")]:{left:"auto !important",right:"0 !important"},[e.breakpoints.down("sm")]:{left:"0  !important",right:"auto !important"}},logo:{position:"relative",padding:"15px 15px",zIndex:"4","&:after":{content:'""',position:"absolute",bottom:"0",height:"1px",right:"15px",width:"calc(100% - 30px)",backgroundColor:"rgba("+S(A[6])+", 0.3)"}},logoLink:{...w,textTransform:"uppercase",padding:"5px 0",display:"block",fontSize:"18px",textAlign:"left",fontWeight:"400",lineHeight:"30px",textDecoration:"none",backgroundColor:"transparent","&,&:hover":{color:"#FFF"}},logoLinkRTL:{textAlign:"right"},logoImage:{width:"70px",display:"inline-block",maxHeight:"30px",marginLeft:"20px",marginRight:"15px"},img:{width:"70px",top:"22px",position:"absolute",verticalAlign:"middle",border:"0"},background:{position:"absolute",zIndex:"1",height:"100%",width:"100%",display:"block",top:"0",left:"0",backgroundSize:"cover",backgroundPosition:"center center","&:after":{position:"absolute",zIndex:"3",width:"100%",height:"100%",content:'""',display:"block",background:"#000",opacity:".8"}},list:{marginTop:"20px",paddingLeft:"0",paddingTop:"0",paddingBottom:"0",marginBottom:"0",listStyle:"none",position:"unset"},item:{position:"relative",display:"block",textDecoration:"none","&:hover,&:focus,&:visited,&":{color:"#FFF"}},itemLink:{width:"auto",transition:"all 300ms linear",margin:"10px 15px 0",borderRadius:"3px",position:"relative",display:"block",padding:"10px 15px",backgroundColor:"transparent",...w},itemIcon:{width:"24px",height:"30px",fontSize:"24px",lineHeight:"30px",float:"left",marginRight:"15px",textAlign:"center",verticalAlign:"middle",color:"rgba("+S("#FFF")+", 0.8)"},itemIconRTL:{marginRight:"3px",marginLeft:"15px",float:"right"},itemText:{...w,margin:"0",lineHeight:"30px",fontSize:"14px",color:"#FFF"},itemTextRTL:{textAlign:"right"},whiteFont:{color:"#FFF"},purple:{backgroundColor:v[0],...O,"&:hover,&:focus":{backgroundColor:v[0],...O}},blue:{backgroundColor:N[0],boxShadow:"0 12px 20px -10px rgba("+S(N[0])+",.28), 0 4px 20px 0 rgba("+S("#000")+",.12), 0 7px 8px -5px rgba("+S(N[0])+",.2)","&:hover,&:focus":{backgroundColor:N[0],boxShadow:"0 12px 20px -10px rgba("+S(N[0])+",.28), 0 4px 20px 0 rgba("+S("#000")+",.12), 0 7px 8px -5px rgba("+S(N[0])+",.2)"}},green:{backgroundColor:T[0],boxShadow:"0 12px 20px -10px rgba("+S(T[0])+",.28), 0 4px 20px 0 rgba("+S("#000")+",.12), 0 7px 8px -5px rgba("+S(T[0])+",.2)","&:hover,&:focus":{backgroundColor:T[0],boxShadow:"0 12px 20px -10px rgba("+S(T[0])+",.28), 0 4px 20px 0 rgba("+S("#000")+",.12), 0 7px 8px -5px rgba("+S(T[0])+",.2)"}},orange:{backgroundColor:x[0],boxShadow:"0 12px 20px -10px rgba("+S(x[0])+",.28), 0 4px 20px 0 rgba("+S("#000")+",.12), 0 7px 8px -5px rgba("+S(x[0])+",.2)","&:hover,&:focus":{backgroundColor:x[0],boxShadow:"0 12px 20px -10px rgba("+S(x[0])+",.28), 0 4px 20px 0 rgba("+S("#000")+",.12), 0 7px 8px -5px rgba("+S(x[0])+",.2)"}},red:{backgroundColor:P[0],boxShadow:"0 12px 20px -10px rgba("+S(P[0])+",.28), 0 4px 20px 0 rgba("+S("#000")+",.12), 0 7px 8px -5px rgba("+S(P[0])+",.2)","&:hover,&:focus":{backgroundColor:P[0],boxShadow:"0 12px 20px -10px rgba("+S(P[0])+",.28), 0 4px 20px 0 rgba("+S("#000")+",.12), 0 7px 8px -5px rgba("+S(P[0])+",.2)"}},sidebarWrapper:{position:"relative",height:"calc(100vh - 75px)",overflow:"auto",width:"260px",zIndex:"4",overflowScrolling:"touch"},activePro:{[e.breakpoints.up("md")]:{position:"absolute",width:"100%",bottom:"13px"}}});const je=Object(p.a)(Be);function ze(e){const t=je();function a(e){return window.location.href.indexOf(e)>-1}const{color:s,logo:l,image:n,logoText:o,routes:r}=e;var c=i.a.createElement(Me.a,{className:t.list},r.map((l,n)=>{var o,r=" ";"/upgrade-to-pro"===l.path?(r=t.activePro+" ",o=g()({[" "+t[s]]:!0})):o=g()({[" "+t[s]]:a(l.layout+l.path)});const c=g()({[" "+t.whiteFont]:a(l.layout+l.path)});return i.a.createElement(De.b,{to:l.layout+l.path,className:r+t.item,activeClassName:"active",key:n},i.a.createElement(Ue.a,{button:!0,className:t.itemLink+o},"string"===typeof l.icon?i.a.createElement(We.a,{className:g()(t.itemIcon,c,{[t.itemIconRTL]:e.rtlActive})},l.icon):i.a.createElement(l.icon,{className:g()(t.itemIcon,c,{[t.itemIconRTL]:e.rtlActive})}),i.a.createElement(He.a,{primary:e.rtlActive?l.rtlName:l.name,className:g()(t.itemText,c,{[t.itemTextRTL]:e.rtlActive}),disableTypography:!0})))})),d=i.a.createElement("div",{className:t.logo},i.a.createElement("a",{href:"#",className:g()(t.logoLink,{[t.logoLinkRTL]:e.rtlActive}),target:"_blank"},i.a.createElement("div",{className:t.logoImage},i.a.createElement("img",{src:l,alt:"logo",className:t.img})),o));return i.a.createElement("div",null,i.a.createElement(_.a,{mdUp:!0,implementation:"css"},i.a.createElement(Ve.a,{variant:"temporary",anchor:e.rtlActive?"left":"right",open:e.open,classes:{paper:g()(t.drawerPaper,{[t.drawerPaperRTL]:e.rtlActive})},onClose:e.handleDrawerToggle,ModalProps:{keepMounted:!0}},d,i.a.createElement("div",{className:t.sidebarWrapper},c),void 0!==n?i.a.createElement("div",{className:t.background,style:{backgroundImage:"url("+n+")"}}):null)),i.a.createElement(_.a,{smDown:!0,implementation:"css"},i.a.createElement(Ve.a,{anchor:e.rtlActive?"right":"left",variant:"permanent",open:!0,classes:{paper:g()(t.drawerPaper,{[t.drawerPaperRTL]:e.rtlActive})}},d,i.a.createElement("div",{className:t.sidebarWrapper},c),void 0!==n?i.a.createElement("div",{className:t.background,style:{backgroundImage:"url("+n+")"}}):null)))}var Ke=a(172),Ye=a.n(Ke),qe=a(174),$e=a.n(qe),Ge=a(173),Ze=a.n(Ge),Qe=a(6),Xe=a(15),Je=a.n(Xe),et=a(364),tt=a(365),at=a(366),st=a(368),it=a(367),lt=a(42),nt=a.n(lt),ot=(a(24),a(18)),rt=a.n(ot),ct=a(363);const dt=Object(p.a)({grid:{padding:"0 15px !important"}});function ht(e){const t=dt(),{children:a,...s}=e;return i.a.createElement(ct.a,Object.assign({item:!0},s,{className:t.grid}),a)}const mt=Object(p.a)({grid:{margin:"0 -15px !important",width:"unset"}});function pt(e){const t=mt(),{children:a,...s}=e;return i.a.createElement(ct.a,Object.assign({container:!0},s,{className:t.grid}),a)}var ut={card:{border:"0",marginBottom:"30px",marginTop:"30px",borderRadius:"6px",color:"rgba("+S("#000")+", 0.87)",background:"#FFF",width:"100%",boxShadow:"0 1px 4px 0 rgba("+S("#000")+", 0.14)",position:"relative",display:"flex",flexDirection:"column",minWidth:"0",wordWrap:"break-word",fontSize:".875rem"},cardPlain:{background:"transparent",boxShadow:"none"},cardProfile:{marginTop:"30px",textAlign:"center"},cardChart:{"& p":{marginTop:"0px",paddingTop:"0px"}}};const gt=Object(p.a)(ut);function Et(e){const t=gt(),{className:a,children:s,plain:l,profile:n,chart:o,...r}=e,c=g()({[t.card]:!0,[t.cardPlain]:l,[t.cardProfile]:n,[t.cardChart]:o,[a]:void 0!==a});return i.a.createElement("div",Object.assign({className:c},r),s)}var bt={cardHeader:{padding:"0.75rem 1.25rem",marginBottom:"0",borderBottom:"none",background:"transparent",zIndex:"3 !important","&$cardHeaderPlain,&$cardHeaderIcon,&$cardHeaderStats,&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{margin:"0 15px",padding:"0",position:"relative",color:"#FFF"},"&:first-child":{borderRadius:"calc(.25rem - 1px) calc(.25rem - 1px) 0 0"},"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{"&:not($cardHeaderIcon)":{borderRadius:"10px",marginTop:"-20px",padding:"15px"}},"&$cardHeaderStats svg":{fontSize:"36px",lineHeight:"56px",textAlign:"center",width:"36px",height:"36px",margin:"10px 10px 4px"},"&$cardHeaderStats i,&$cardHeaderStats .material-icons":{fontSize:"36px",lineHeight:"56px",width:"56px",height:"56px",textAlign:"center",overflow:"unset",marginBottom:"1px"},"&$cardHeaderStats$cardHeaderIcon":{textAlign:"right"}},cardHeaderPlain:{marginLeft:"0px !important",marginRight:"0px !important"},cardHeaderStats:{"& $cardHeaderIcon":{textAlign:"right"},"& h1,& h2,& h3,& h4,& h5,& h6":{margin:"0 !important"}},cardHeaderIcon:{"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{background:"transparent",boxShadow:"none"},"& i,& .material-icons":{width:"33px",height:"33px",textAlign:"center",lineHeight:"33px"},"& svg":{width:"24px",height:"24px",textAlign:"center",lineHeight:"33px",margin:"5px 4px 0px"}},warningCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":{...W}},successCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":{...B}},dangerCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":{...j}},infoCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":{...z}},primaryCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":{...K}},roseCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":{...Y}}};const Ct=Object(p.a)(bt);function _t(e){const t=Ct(),{className:a,children:s,color:l,plain:n,stats:o,icon:r,...c}=e,d=g()({[t.cardHeader]:!0,[t[l+"CardHeader"]]:l,[t.cardHeaderPlain]:n,[t.cardHeaderStats]:o,[t.cardHeaderIcon]:r,[a]:void 0!==a});return i.a.createElement("div",Object.assign({className:d},c),s)}var ft={cardIcon:{"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{borderRadius:"100px / 20px",backgroundColor:A[1],padding:"15px",marginTop:"-20px",marginRight:"15px",float:"left"}},warningCardHeader:W,successCardHeader:B,dangerCardHeader:j,infoCardHeader:z,primaryCardHeader:K,roseCardHeader:Y};const Lt=Object(p.a)(ft);function yt(e){const t=Lt(),{className:a,children:s,color:l,...n}=e,o=g()({[t.cardIcon]:!0,[t[l+"CardHeader"]]:l,[a]:void 0!==a});return i.a.createElement("div",Object.assign({className:o},n,{style:{boxShadow:"0px 2px 10px rgba(0,0,0,0.2), \n      0px 10px 20px rgba(0,0,0,0.3), \n      0px 30px 60px 1px rgba(0,0,0,0.5)"}}),s)}var St={cardBody:{padding:"0.9375rem 20px",flex:"1 1 auto",WebkitBoxFlex:"1",position:"relative"},cardBodyPlain:{paddingLeft:"5px",paddingRight:"5px"},cardBodyProfile:{marginTop:"15px"}};const Rt=Object(p.a)(St);function kt(e){const t=Rt(),{className:a,children:s,plain:l,profile:n,...o}=e,r=g()({[t.cardBody]:!0,[t.cardBodyPlain]:l,[t.cardBodyProfile]:n,[a]:void 0!==a});return i.a.createElement("div",Object.assign({className:r},o),s)}var wt={successText:{color:T[0]},upArrowCardCategory:{width:"16px",height:"16px"},stats:{color:A[0],display:"inline-flex",fontSize:"12px",lineHeight:"22px","& svg":{top:"4px",width:"16px",height:"16px",position:"relative",marginRight:"3px",marginLeft:"3px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{top:"4px",fontSize:"16px",position:"relative",marginRight:"3px",marginLeft:"3px"}},cardCategory:{color:A[0],margin:"0",fontSize:"14px",marginTop:"0",paddingTop:"10px",marginBottom:"0"},cardCategoryWhite:{color:"rgba("+S("#FFF")+",.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},cardTitle:{color:A[2],marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:A[1],fontWeight:"400",lineHeight:"1"}},cardTitleWhite:{color:"#FFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:A[1],fontWeight:"400",lineHeight:"1"}},formControl:{marginTop:28,minWidth:"100%"},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},InputLabelGrey:{color:"black"},MultilineTest:{"& .MuiTextField-root":{width:"115ch"}},urlLink:{color:"#66CCFF",textDecorationLine:"underline"},CardFooterAlignment:{float:"right"},SIFbutton:{marginRight:5,marginLeft:5},hidden:{display:"none"},FileNameAlignment:{float:"left"}};var vt=new class{constructor(){this.showNotification=(e,t)=>{c.store.addNotification({message:t,type:e,insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:5e3,onScreen:!0}})},this.register=async(e,t,a)=>{const s={managerid:e.managerid,company:e.company,email:e.email.toLowerCase().trim(),fname:e.fname.trim(),surname:e.surname.trim(),phone:10===e.phone.replace(/[^0-9]/g,"").length?e.phone.replace(/[^0-9]/g,"").slice(0,10):" ",address:e.address.trim(),city:e.city.trim(),state:e.state.trim(),country:e.country.trim(),zipcode:e.zipcode.trim(),role:t,clientid:e.clientid?e.clientid.trim():" "};be({method:"post",url:ge.USER_CONTROLLER_SERVER+"users/register",headers:Ce,data:s}).then(e=>{e.data&&"success"===e.data.status?(this.showNotification(e.data.status,t+" created"),a({message:e.data.message,token:e.data.token})):e.data&&e.data.status&&this.showNotification(e.data.status,e.data.message)}).catch(e=>{e.message&&this.showNotification("danger",de.DEFAULT_ERROR_ALERT)})},this.getTokenUser=e=>{be({method:"get",url:ge.USER_CONTROLLER_SERVER+"users/",headers:Ce}).then(t=>{e(t.data)}).catch(()=>{this.authenticated=!1})},this.getUsersList=(e,t,a)=>{const s={};e&&(s.search=e),t&&(s.issiftable=t),be({method:"get",url:ge.USER_CONTROLLER_SERVER+"users/all",headers:Ce,params:s}).then(e=>{a(e.data)}).catch(e=>{console.log(e)})},this.getUserById=(e,t)=>{be({method:"get",url:ge.USER_CONTROLLER_SERVER+"users/"+e,headers:Ce}).then(e=>{var a=e.data;a.phone?a.phone=a.phone.toString().slice(0,3)+"-"+a.phone.toString().slice(3,6)+"-"+a.phone.toString().slice(6,10):a.phone=" ",t(a)}).catch(()=>{})},this.resetPassword=(e,t)=>{be({method:"post",url:ge.USER_CONTROLLER_SERVER+"users/forgot",headers:Ce,data:{email:e}}).then(()=>{this.showNotification("success","Password has been reset"),t({message:"New password is sent to your mail "})}).catch(()=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),t({message:"Please try again"})})},this.changePassword=(e,t)=>{const a={password:e};be({method:"post",url:ge.USER_CONTROLLER_SERVER+"users/password",headers:Ce,data:a}).then(()=>{this.showNotification("success","Password changed"),t()}).catch(()=>{this.showNotification("success","Sorry, cannot change password at this moment")})},this.updateUser=(e,t)=>{e.phone&&(e.phone=10===e.phone.replace(/[^0-9]/g,"").length?e.phone.replace(/[^0-9]/g,"").slice(0,10):" "),be({method:"put",url:ge.USER_CONTROLLER_SERVER+"users/"+e.id,headers:Ce,data:e}).then(()=>{this.showNotification("success","User details updated"),t()}).catch(()=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT)})},this.deleteUser=(e,t)=>{be({method:"delete",url:ge.USER_CONTROLLER_SERVER+"users/"+e,headers:Ce}).then(e=>{let a=e&&e.data||null;console.log(a.data),a&&a.status?(this.showNotification("success",a.data.message||"User deleted sucessfully"),t(a.data)):this.showNotification("danger","Operation failed")}).catch(()=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT)})},this.createCustomer=(e,t)=>{be({method:"post",url:ge.USER_CONTROLLER_SERVER+"clients/create",headers:Ce,data:{name:e.companyName}}).then(e=>{e.data&&(t(e.data),this.showNotification("success","Customer created"))}).catch(()=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT)})},this.getCustomerList=e=>{be({method:"get",url:ge.USER_CONTROLLER_SERVER+"clients/all",headers:Ce}).then(t=>{e(t.data)}).catch(()=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT)})},this.getCustomerById=(e,t)=>{be({method:"get",url:ge.USER_CONTROLLER_SERVER+"clients/"+e,headers:Ce}).then(e=>{t(e.data)}).catch(()=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT)})},this.deleteCustomer=(e,t)=>{be({method:"delete",url:ge.USER_CONTROLLER_SERVER+"clients/"+e,headers:Ce}).then(()=>{this.showNotification("success","customer deleted"),t()}).catch(()=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT)})},this.updateCustomer=(e,t)=>{be({method:"put",url:ge.USER_CONTROLLER_SERVER+"clients/"+e.id,headers:Ce,data:e}).then(()=>{this.showNotification("success","customer updated"),t()}).catch(()=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT)})},this.createClientLocation=(e,t)=>{var a=e;a.phone&&(a.phone=a.phone.replace(/[^0-9]/g,"")?a.phone.replace(/[^0-9]/g,""):" "),be({method:"post",url:ge.USER_CONTROLLER_SERVER+"clients/location/add",headers:Ce,data:a}).then(e=>{e.data&&e.data.status&&(this.showNotification("success",e.data.status),t(e.data))}).catch(()=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT)})},this.getCustomerLocationByID=(e,t)=>{be({method:"get",url:ge.USER_CONTROLLER_SERVER+"clients/location/"+e,headers:Ce}).then(e=>{if(e.data&&e.data.data){var a=e.data.data;a&&a.phone&&(a.phone=a.phone.toString().slice(0,3)+"-"+a.phone.toString().slice(3,6)+"-"+a.phone.toString().slice(6,10)),t(a)}}).catch(()=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT)})},this.getCustomerLocationByClient=(e,t)=>{be({method:"get",url:ge.USER_CONTROLLER_SERVER+"clients/location/client/"+e,headers:Ce}).then(e=>{t(e.data)}).catch(()=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT)})},this.updateClientLocation=(e,t)=>{var a=e.location;a.phone&&(a.phone=a.phone.replace(/[^0-9]/g,"")||" "),be({method:"put",url:ge.USER_CONTROLLER_SERVER+"clients/location/update/"+e.id,headers:Ce,data:a}).then(()=>{this.showNotification("success","Location updated"),t()}).catch(()=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT)})},this.deleteClientLocation=(e,t)=>{be({method:"delete",url:ge.USER_CONTROLLER_SERVER+"clients/location/"+e,headers:Ce}).then(()=>{this.showNotification("success","Location deleted"),t()}).catch(()=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT)})},this.getAllLocation=e=>{be({method:"get",url:ge.USER_CONTROLLER_SERVER+"clients/location/getall",headers:Ce}).then(t=>{let{data:a}=t;a&&e(a)}).catch(()=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT)})},this.getUsersByCustomerID=(e,t)=>{be({method:"get",url:ge.USER_CONTROLLER_SERVER+"users/client/"+e,headers:Ce}).then(e=>{t(e.data)}).catch(()=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT)})},this.makeUserPrimary=(e,t)=>{be({method:"post",url:ge.USER_CONTROLLER_SERVER+"users/primary/",headers:Ce,data:e}).then(e=>{this.showNotification("success","User is now primary"),t(!0)}).catch(()=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT)})},this.createPrivilege=(e,t)=>{be({method:"post",url:ge.USER_CONTROLLER_SERVER+"permission/create",headers:Ce,data:e}).then(e=>{e.data.status&&(this.showNotification("success",e.data.status||"Privilage created"),t(e.data))}).catch(()=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT)})},this.getUserPrivilege=(e,t)=>{be({method:"get",url:ge.USER_CONTROLLER_SERVER+"permission/"+e.clientid+"/user/"+e.userid,headers:Ce}).then(e=>{e.data&&e.data&&t(e.data||[])}).catch(()=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT)})},this.getUserPrivilegeByToken=(e,t)=>{be({method:"get",url:ge.USER_CONTROLLER_SERVER+"permission/get",headers:Ce,params:{c:e}}).then(e=>{e.data&&t(e.data||{})}).catch(e=>{console.log(e)})},this.getUserPrivilegeOptions=e=>{e([{selection:"Admin",selectionKey:"admin"},{selection:"User",selectionKey:"user"},{selection:"Location",selectionKey:"location"},{selection:"Order",selectionKey:"order"},{selection:"SIF",selectionKey:"sif"},{selection:"Trending",selectionKey:"trending"}])},this.updatePrivilege=(e,t)=>{be({method:"put",url:ge.USER_CONTROLLER_SERVER+"permission/update/"+e.privilegeid,headers:Ce,data:e}).then(e=>{e.data&&(this.showNotification("warning",e.data.message||"Permission updated"),t(e.data))}).catch(()=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT)})},this.deletePrivilege=(e,t)=>{t()}}};const xt=ge.SAMPLE_CONTROLLER_SERVER+"GCFTIROilReport";var Pt=new class{constructor(){this.showNotification=(e,t)=>{c.store.addNotification({message:t,type:e,insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:5e3,onScreen:!0}})},this.createSIF=async(e,t)=>{e.requireCustomLabIDSection&&(e.labid||(this.showNotification("danger","Opted for custom Lab ID but Lab ID Invalid"),t(!1))),delete e.requireCustomLabIDSection,be({method:"post",url:ge.SAMPLE_CONTROLLER_SERVER+"sample/create",headers:Ce,data:e}).then(e=>{this.showNotification("success",e.data.message||"SIF created"),e.data&&e.data.data&&t(e.data.data)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.getSIFList=(e,t)=>{let{limit:a="",filter:s=""}=e;be({method:"get",url:ge.SAMPLE_CONTROLLER_SERVER+"sample",headers:Ce,params:{limit:a,filter:s}}).then(e=>{e.data&&e.data.sif.length?t(e.data):t(!1)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT)})},this.searchSIFList=(e,t,a)=>{be({method:"get",url:ge.SAMPLE_CONTROLLER_SERVER+"sample/search?limit="+e,headers:Ce,params:t}).then(e=>a(e.data)).catch(e=>{console.log("api error",e),this.showNotification("danger",de.DEFAULT_ERROR_ALERT)})},this.searchSIFListCount=(e,t)=>{be({method:"get",url:ge.SAMPLE_CONTROLLER_SERVER+"sample/search/count",headers:Ce,params:e}).then(e=>(e.data&&!e.data.status&&this.showNotification("info","No result found"),t(e.data))).catch(e=>{console.log("api error",e),this.showNotification("danger",de.DEFAULT_ERROR_ALERT)})},this.searchSIFListSingleParam=(e,t)=>{be({method:"post",url:ge.SAMPLE_CONTROLLER_SERVER+"sample/search",headers:Ce,data:{searchquery:e}}).then(e=>{const a=e.data||[];t(a)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),t(e.message)})},this.getSIFById=(e,t)=>{be({method:"get",url:ge.SAMPLE_CONTROLLER_SERVER+"sample/id",headers:Ce,params:{id:e}}).then(e=>{t(e.data)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.updateSIFById=(e,t,a)=>{be({method:"post",url:ge.SAMPLE_CONTROLLER_SERVER+"sample/update/"+e,headers:Ce,data:t}).then(e=>{const t=e.data;return t.status?(this.showNotification("warning",e.data.message||"SIF updated"),a(t)):(this.showNotification("danger","Operation failed"),a([]))}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.deleteSIF=(e,t)=>{be({method:"delete",url:ge.SAMPLE_CONTROLLER_SERVER+"sample/"+e,headers:Ce}).then(e=>e.data?(this.showNotification("success","SIF deleted"),t(e.data)):(this.showNotification("danger","Cannot delete SIF"),t(!1))).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.changeSIFStatus=(e,t)=>{let{labid:a,status:s}=e;const i={status:s,labid:a};be({method:"put",url:ge.SAMPLE_CONTROLLER_SERVER+"sample/updatestatus/",headers:Ce,data:i}).then(e=>{console.log("SIF STATUS || CHANGE || "+s),this.showNotification("info","SIF changed to "+s)}).catch(e=>{console.log(e)}).finally(()=>t(!1))},this.getSampleList=e=>{be({method:"get",url:ge.SAMPLE_CONTROLLER_SERVER+"sample/",headers:Ce}).then(t=>e(t.data)).catch(e=>{console.log(e)})},this.getSamplePendingList=e=>{var t=[];be({method:"get",url:ge.SAMPLE_CONTROLLER_SERVER+"sample/",headers:Ce}).then(a=>{a.data.map(e=>!e.isApproved&&t.push(e)),e({list:t})}).catch(e=>{console.log(e)})},this.getRecentSampleList=e=>{var t=[];be({method:"get",url:ge.SAMPLE_CONTROLLER_SERVER+"sample/",headers:Ce}).then(a=>{a.data.map(e=>!!e.isapproved&&t.push(e)),e({list:t})}).catch(()=>{})},this.getSampleById=(e,t)=>{be({method:"get",url:ge.SAMPLE_CONTROLLER_SERVER+"sample/id?id="+e,headers:Ce}).then(a=>{a.data.map(a=>a.id===e&&t(a))}).catch(()=>{})},this.getAllTestOnLaiIb=(e,t)=>{be({method:"get",url:ge.SAMPLE_CONTROLLER_SERVER+"sample/test/"+e,headers:Ce}).then(e=>{t(e.data)}).catch(()=>{})},this.updateSampleTestResult=(e,t)=>{be({method:"post",url:ge.SAMPLE_CONTROLLER_SERVER+"sample/test/result/",headers:Ce,data:e}).then(e=>{this.showNotification("warning","Updated sample test results"),t(e.data)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.updateSample=(e,t)=>{be({method:"post",url:ge.SAMPLE_CONTROLLER_SERVER+"sample/update",headers:Ce,data:e}).then(e=>{this.showNotification("warning","Updated"),t(e)}).catch(()=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT)})},this.approveSample=(e,t)=>{e.isApproved=!0,be({method:"post",url:ge.SAMPLE_CONTROLLER_SERVER+"sample/update",headers:Ce,data:e}).then(e=>{this.showNotification("success","Sample approved"),t(e)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.downloadpdf=e=>{this.showNotification("warning","Reteriving PDF. Please wait..."),window.open(`${ge.REPORTS_SERVER}reports/SIF_${e}.pdf`)},this.generateAndDownloadpdf=e=>{this.showNotification("warning","Reteriving PDF. Please wait..."),be({method:"get",url:ge.SAMPLE_CONTROLLER_SERVER+"report/getpdf?labid="+e,headers:Ce}).then(t=>{t.data&&("danger"==t.data.status&&this.showNotification(t.data.status||"danger",t.data.message||"Cannot generate PDF right now."),t.data&&t.data.path&&this.downloadpdf(e))}).catch(e=>{console.log("PDF FETCH ERROR || "+e)})},this.sendMail=(e,t)=>{let{labid:a}=e;be({method:"get",url:ge.SAMPLE_CONTROLLER_SERVER+"report/mailpdf?labid="+a,headers:Ce}).then(e=>{this.showNotification("success","Mail sent for "+a),t(e.data)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.mailMultiSIF=(e,t)=>{this.showNotification("warning","Preparing mail. Please wait.."),be({method:"post",url:ge.SAMPLE_CONTROLLER_SERVER+"report/mailbulkpdf",headers:Ce,data:{labids:e}}).then(e=>{console.log("MULTI MAIL || SUCCESS")}).catch(e=>{console.log("MULTI MAIL ERROR "+e)}).finally(()=>{this.showNotification("success","Mail Sent..."),t(!0)})},this.mailMultiPersonalSIF=(e,t,a)=>{this.showNotification("warning","Preparing mail. Please wait.."),be({method:"post",url:ge.SAMPLE_CONTROLLER_SERVER+"report/personalmailbulkpdf",headers:Ce,data:{labids:e,mailids:t}}).then(e=>{e.data&&a(e.data)}).catch(e=>{console.log("MULTI MAIL ERROR || "+e)}).finally(()=>{this.showNotification("success","Mail sent...")})},this.getPendingLabtestsByLabTestFilter=async e=>{if(!e.test_id||!e.start_date||!e.end_date)return[];try{const{data:t}=await be({method:"get",url:ge.SAMPLE_CONTROLLER_SERVER+"sample/work-flow/lab-test-value",headers:Ce,params:e});return Le(t.data),t}catch(t){return Le(t),[]}},this.updatePendingLabtestsByLabTestFilter=async e=>{let{lab_ref:t,test_ref:a,result:s}=e;if(!t||!a||!s)return Le("INvalid data",t,a,s),null;try{const{data:e}=await be({method:"put",url:ge.SAMPLE_CONTROLLER_SERVER+"sample/work-flow/lab-test-value",headers:Ce,params:{lab_ref:t},data:{result:s,test_ref:a}});return Le(e.data),e}catch(i){return Le(i),null}},this.disposeFuelTest=async(e,t)=>{if(!t||!t)return Le({labRef:e,test_ref:t,message:"Missing data"}),!1;try{const{data:a}=await be({method:"PUT",url:`${ge.SAMPLE_CONTROLLER_SERVER}sample/dispose/fuel-test/${e}/${t}`,headers:Ce});return Le(a.data),a}catch(a){return Le(a),[]}},this.getWorkOrderSectionReportByDate=async e=>{if(!e.test_id||!e.start_date||!e.end_date)return[];try{const{data:t}=await be({method:"get",url:ge.SAMPLE_CONTROLLER_SERVER+"sample/work-flow/report/lab-test-value",headers:Ce,params:e,responseType:"blob"}),a=`${e.test_name}-${e.start_date} to ${e.end_date}.xlsx`,s=window.URL.createObjectURL(new Blob([t])),i=document.createElement("a");return i.href=s,i.setAttribute("download",a),document.body.appendChild(i),i.click(),t}catch(t){return Le(t),[]}},this.createOrder=async(e,t)=>{e.phone=10===e.phone.replace(/[^0-9]/g,"").length?e.phone.replace(/[^0-9]/g,"").slice(0,10):"",null===e.location?this.showNotification("danger",de.Location_error):""===e.shipping_address&&""===e.shipping_city&&""===e.shipping_state&&""===e.shipping_country&&""===e.shipping_zipcode?this.showNotification("danger",de.Shipping_Address):0===e.email.length?this.showNotification("danger",de.Billing_Email):""===e.phone||10!==e.phone.length?this.showNotification("danger",de.Billing_contact):null===e.kit?this.showNotification("danger",de.Kit):""===e.quantity?this.showNotification("danger",de.Qauntity):!1===e.isShippingTrackable&&null!==e.shipping_service&&""!==e.tracking_id?this.showNotification("warning","This Shipping Service not Trackable"):null!==e.shipping_service&&""===e.tracking_id&&!0===e.isShippingTrackable?this.showNotification("danger",de.Tracking_id):""!==e.tracking_id&&null===e.shipping_service?this.showNotification("danger",de.Shipping_Service):be({method:"post",url:ge.SAMPLE_CONTROLLER_SERVER+"order",headers:Ce,data:e}).then(e=>{e.data&&!0===e.data.status?(this.showNotification("success",e.data.message||"Order created"),t(e.data.data)):!1===e.data.status&&this.showNotification("warning",e.data.message)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.getOrderList=(e,t)=>{let{sortStatus:a}=e;be({method:"get",url:ge.SAMPLE_CONTROLLER_SERVER+"order",headers:Ce,params:{sortStatus:a}}).then(e=>{e.data?t(e.data):t(!1)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT)})},this.getOrderById=(e,t)=>{be({method:"get",url:ge.SAMPLE_CONTROLLER_SERVER+"order/",headers:Ce,params:{order_id:e}}).then(a=>{if(a.data.data.order_id===e){var s=a.data.data;s.phone?s.phone=s.phone.toString().slice(0,3)+"-"+s.phone.toString().slice(3,6)+"-"+s.phone.toString().slice(6,10):s.phone=" ",t(s)}return!1}).catch(()=>{})},this.updateOrderById=(e,t,a)=>{t.phone=10===t.phone.replace(/[^0-9]/g,"").length?t.phone.replace(/[^0-9]/g,"").slice(0,10):"",null===t.location?this.showNotification("danger",de.Location_error):""===t.shipping_address&&""===t.shipping_city&&""===t.shipping_state&&""===t.shipping_country&&""===t.shipping_zipcode?this.showNotification("danger",de.Shipping_Address):0===t.email.length?this.showNotification("danger",de.Billing_Email):""===t.phone||10!==t.phone.length?this.showNotification("danger",de.Billing_contact):null===t.kit?this.showNotification("danger",de.Kit):""===t.quantity?this.showNotification("danger",de.Qauntity):!1===t.isShippingTrackable&&null!==t.shipping_service&&""!==t.tracking_id?this.showNotification("warning","This Shipping Service not Trackable"):null!==t.shipping_service&&""===t.tracking_id&&!0===t.isShippingTrackable?this.showNotification("danger",de.Tracking_id):""!==t.tracking_id&&null===t.shipping_service?this.showNotification("danger",de.Shipping_Service):be({method:"put",url:ge.SAMPLE_CONTROLLER_SERVER+"order/"+e,headers:Ce,data:t}).then(e=>{const t=e.data;return t.status?(this.showNotification("warning","Order updated Successfully"),a(t.data)):(this.showNotification("danger","Operation failed"),a([]))}).catch(e=>{this.showNotification("danger",e.response.data.message||de.DEFAULT_ERROR_ALERT),console.log(e)})},this.deleteOrder=(e,t)=>{be({method:"delete",url:ge.SAMPLE_CONTROLLER_SERVER+"order/"+e,headers:Ce}).then(e=>e.data?(this.showNotification("success","Order deleted"),t(e.data)):(this.showNotification("danger","Cannot delete Order"),t(!1))).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.searchOrder=(e,t)=>{be({method:"get",url:ge.SAMPLE_CONTROLLER_SERVER+"order/search",headers:Ce,params:{search:e}}).then(e=>{const a=e.data||[];t(a)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),t(e.message)})},this.getOrderCountList=e=>{be({method:"get",url:ge.SAMPLE_CONTROLLER_SERVER+"order/get_count",headers:Ce}).then(t=>{t.data&&t.data.data?e(t.data):e(!1)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT)})},this.getShippingSeviceList=e=>{be({method:"get",url:ge.SAMPLE_CONTROLLER_SERVER+"shipping/service/",headers:Ce}).then(t=>e(t.data)).catch(e=>{console.log(e)})},this.createCheckout=async(e,t)=>{be({method:"post",url:ge.SAMPLE_CONTROLLER_SERVER+"record_checklist/",headers:Ce,data:e}).then(e=>{e.data&&!0===e.data.status?(this.showNotification("success","Checklist Created Successfully"),t(e.data.data)):!1===e.status&&this.showNotification("danger",e.message)}).catch(t=>{null===e.location?this.showNotification("danger",de.Location_error):0===e.selected_checklists.length?this.showNotification("danger",de.Checklist_process):(this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(t))})},this.getCheckoutList=e=>{be({method:"get",url:ge.SAMPLE_CONTROLLER_SERVER+"record_checklist/",headers:Ce}).then(t=>e(t.data)).catch(e=>{console.log(e)})},this.getCheckoutById=(e,t)=>{be({method:"get",url:ge.SAMPLE_CONTROLLER_SERVER+"record_checklist/",headers:Ce,params:{id:e}}).then(a=>a.data.data._id===e&&t(a.data.data)).catch(()=>{})},this.updateCheckoutById=(e,t,a)=>{null===t.location?this.showNotification("danger",de.Location_error):0===t.selected_checklists.length?this.showNotification("danger",de.Checklist_process):be({method:"put",url:ge.SAMPLE_CONTROLLER_SERVER+"record_checklist/"+e,headers:Ce,data:t}).then(e=>{const t=e.data;return t.status?(this.showNotification("warning","Checklist Updated Successfully"),a(t)):(this.showNotification("danger","Operation failed"),a([]))}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.deleteCheckout=(e,t)=>{be({method:"delete",url:ge.SAMPLE_CONTROLLER_SERVER+"record_checklist/"+e,headers:Ce}).then(e=>e.data?(this.showNotification("success","Checkout deleted Successfully"),t(e.data)):(this.showNotification("danger","Cannot delete Checkout"),t(!1))).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.searchCheckout=(e,t)=>{be({method:"get",url:ge.SAMPLE_CONTROLLER_SERVER+"record_checklist/search",headers:Ce,params:{search:e}}).then(e=>{const a=e.data||[];t(a)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),t(e.message)})},this.getCheckoutTestList=e=>{be({method:"get",url:ge.SAMPLE_CONTROLLER_SERVER+"record_checklist/test/",headers:Ce}).then(t=>e(t.data)).catch(e=>{console.log(e)})},this.createEnv_labreport=async(e,t)=>{const a=new RegExp(/\s/).test(e.lab_id);if(null===e.location)this.showNotification("danger",de.Location_error);else if(""===e.lab_id)this.showNotification("danger","Lab ID is required");else if(!1===/^[A-Z0-9]*$/.test(e.lab_id))this.showNotification("danger","Only capital letter Allowed in LabID");else if(!0===a)this.showNotification("danger","Spacing Not Allowed in LabID");else if(null===e.reportPDF)this.showNotification("danger","PDF file is required");else{const a=new FormData;a.append("report",e.reportPDF),a.append("location",e.location||null),a.append("labid",e.lab_id),a.append("additional_email",e.emailCollection),a.append("project_number",e.project_no),a.append("coc",e.coc_number),a.append("po",e.po),a.append("reported_at",e.reportDate),be({method:"post",url:ge.SAMPLE_CONTROLLER_SERVER+"env_labreport/",headers:Ce,data:a}).then(e=>{e.data&&(this.showNotification("success","Environmental Lab Reports Created Successfully"),t(e.data.data))}).catch(e=>{this.showNotification("danger",e.response.data.error_message||de.DEFAULT_ERROR_ALERT),console.log(e)})}},this.getAllEnv_labreport=e=>{be({method:"get",url:ge.SAMPLE_CONTROLLER_SERVER+"env_labreport/",headers:Ce}).then(t=>e(t.data)).catch(e=>{console.log(e)})},this.getEnv_labreportById=(e,t)=>{be({method:"get",url:ge.SAMPLE_CONTROLLER_SERVER+"env_labreport/",headers:Ce,params:{id:e}}).then(e=>!!e.data&&t(e.data.data)).catch(e=>{console.log(e)})},this.updateEnv_labreport=(e,t,a)=>{const s=new RegExp(/\s/).test(t.lab_id);if(null===t.location)this.showNotification("danger",de.Location_error);else if(""===t.lab_id)this.showNotification("danger","Lab ID is required");else if(!1===/^[A-Z0-9]*$/.test(t.lab_id))this.showNotification("danger","Only capital letter Allowed in LabID");else if(!0===s)this.showNotification("danger","Spacing Not Allowed in LabID");else{const s=new FormData;s.append("report",t.reportPDF),s.append("location",t.location||null),s.append("labid",t.lab_id),s.append("additional_email",t.emailCollection),s.append("project_number",t.project_no),s.append("coc",t.coc_number),s.append("po",t.po),s.append("reported_at",t.reportDate),be({method:"put",url:ge.SAMPLE_CONTROLLER_SERVER+"env_labreport/"+e,headers:Ce,data:s}).then(e=>{const t=e.data;if(t.status)return this.showNotification("warning","Environmental Lab Reports Updated Successfully"),a(t)}).catch(e=>{this.showNotification("danger",e.response.data.error_message||de.DEFAULT_ERROR_ALERT),console.log(e)})}},this.deleteEnv_labreport=(e,t)=>{be({method:"delete",url:ge.SAMPLE_CONTROLLER_SERVER+"env_labreport/"+e,headers:Ce}).then(e=>e.data?(this.showNotification("success","Environmental Lab Reports deleted Successfully"),t(e.data)):(this.showNotification("danger","Cannot delete Environmental Lab Reports"),t(!1))).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.downloadReportpdf=e=>{""!==e?(this.showNotification("warning","Reteriving PDF. Please wait..."),window.open(ge.REPORTS_SERVER+e+"?auth="+Ce.authorization)):""===e&&this.showNotification("danger","Cannot generate PDF right now.")},this.searchEnvLabReport=(e,t)=>{be({method:"get",url:ge.SAMPLE_CONTROLLER_SERVER+"env_labreport/search",headers:Ce,params:{search:e}}).then(e=>{const a=e.data||[];t(a)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),t(e.message)})},this.sendMailtoClient=(e,t)=>{console.log(e),be({method:"get",url:ge.SAMPLE_CONTROLLER_SERVER+"env_labreport/mail/"+e,headers:Ce}).then(a=>{this.showNotification("success","Mail sent for"+e),t(a.data)}).catch(e=>{this.showNotification("danger",e.response.data.error_message||de.DEFAULT_ERROR_ALERT),console.log(e)})},this.GC_FTIR_OIL_Report_Create=async(e,t)=>{const a=new RegExp(/\s/).test(e.lab_id);if(null===e.location)this.showNotification("danger",de.Location_error);else if(""===e.lab_id)this.showNotification("danger","Lab ID is required");else if(!1===/^[A-Z0-9]*$/.test(e.lab_id))this.showNotification("danger","Only capital letter Allowed in LabID");else if(!0===a)this.showNotification("danger","Spacing Not Allowed in LabID");else if(null===e.reportPDF)this.showNotification("danger","PDF file is required");else{const a=new FormData;a.append("report",e.reportPDF),a.append("location",e.location||null),a.append("labid",e.lab_id),a.append("additional_email",e.emailCollection),a.append("sample_id",e.sample_id),a.append("wo",e.wo),a.append("po",e.po),a.append("reported_at",e.reportDate),be({method:"post",url:xt,headers:Ce,data:a}).then(e=>{e.data&&(this.showNotification("success","GC FTIR OIL Report Created Successfully"),t(e.data.data))}).catch(e=>{this.showNotification("danger",e.response.data.error_message||de.DEFAULT_ERROR_ALERT),console.log(e)})}},this.GC_FTIR_OIL_Report_GetAll=e=>{be({method:"get",url:xt,headers:Ce}).then(t=>e(t.data)).catch(e=>{console.log(e)})},this.GC_FTIR_OIL_Report_GetByID=(e,t)=>{be({method:"get",url:xt,headers:Ce,params:{id:e}}).then(e=>!!e.data&&t(e.data.data)).catch(e=>{console.log(e)})},this.GC_FTIR_OIL_Report_Update=(e,t,a)=>{const s=new RegExp(/\s/).test(t.lab_id);if(null===t.location)this.showNotification("danger",de.Location_error);else if(""===t.lab_id)this.showNotification("danger","Lab ID is required");else if(!1===/^[A-Z0-9]*$/.test(t.lab_id))this.showNotification("danger","Only capital letter Allowed in LabID");else if(!0===s)this.showNotification("danger","Spacing Not Allowed in LabID");else{const s=new FormData;s.append("report",t.reportPDF),s.append("location",t.location||null),s.append("labid",t.lab_id),s.append("additional_email",t.emailCollection),s.append("sample_id",t.sample_id),s.append("wo",t.wo),s.append("po",t.po),s.append("reported_at",t.reportDate),be({method:"put",url:`${xt}/${e}`,headers:Ce,data:s}).then(e=>{const t=e.data;if(t.status)return this.showNotification("warning","GC FTIR OIL Report Updated Successfully"),a(t)}).catch(e=>{this.showNotification("danger",e.response.data.error_message||de.DEFAULT_ERROR_ALERT),console.log(e)})}},this.GC_FTIR_OIL_Report_Delete=(e,t)=>{be({method:"delete",url:`${xt}/${e}`,headers:Ce}).then(e=>e.data?(this.showNotification("success","GC FTIR OIL Report deleted Successfully"),t(e.data)):(this.showNotification("danger","Cannot delete GC FTIR OIL Report"),t(!1))).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.GC_FTIR_OIL_Report_Download_PDF=e=>{""!==e?(this.showNotification("warning","Reteriving PDF. Please wait..."),window.open(ge.REPORTS_SERVER+e+"?auth="+Ce.authorization)):""===e&&this.showNotification("danger","Cannot generate PDF right now.")},this.GC_FTIR_OIL_Report_Search=(e,t)=>{be({method:"get",url:xt+"/search",headers:Ce,params:{search:e}}).then(e=>{const a=e.data||[];t(a)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),t(e.message)})},this.GC_FTIR_OIL_Report_MailClient=(e,t)=>{be({method:"get",url:`${xt}/mail/${e}`,headers:Ce}).then(a=>{this.showNotification("success","Mail sent for"+e),t(a.data)}).catch(e=>{this.showNotification("danger",e.response.data.error_message||de.DEFAULT_ERROR_ALERT),console.log(e)})}}};var Tt=new class{constructor(){this.showNotification=(e,t)=>{c.store.addNotification({message:t,type:e,insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:5e3,onScreen:!0}})},this.getPopulationAndStoreDataByTag=e=>{be({method:"get",url:ge.DATA_CONTROLLER_SERVER+"sample/populate/api-collect",headers:Ce}).then(t=>{const{data:{fuelServices:a=[],packageServices:s=[],reportCompanies:i=[]}}=t.data;return e({fuelServices:a,packageServices:s,reportCompanies:i})}).catch(t=>(Le(t,"getPopulationAndStoreDataByTagError"),e({fuelServices:[],packageServices:[],reportCompanies:[]})))},this.createFuel=(e,t)=>{const a={name:e.fuelName};be({method:"post",url:ge.DATA_CONTROLLER_SERVER+"fuel/create",headers:Ce,data:a}).then(a=>{this.showNotification("success","New fuel "+e.fuelName+" created"),t(a.data)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.getFuelList=e=>{be({method:"get",url:ge.DATA_CONTROLLER_SERVER+"fuel/",headers:Ce}).then(t=>{e(t.data)}).catch(()=>{e([])})},this.deleteFuel=(e,t)=>{be({method:"delete",url:ge.DATA_CONTROLLER_SERVER+"fuel/"+e,headers:Ce}).then(e=>{this.showNotification("success","Fuel deleted sucessfully"),t(e.data)}).catch(()=>{this.showNotification("success","Cannot delete fuel at this moment"),t([])})},this.fuelById=(e,t)=>{be({method:"get",url:ge.DATA_CONTROLLER_SERVER+"fuel/",headers:Ce}).then(a=>{a.data.map(a=>a.id===e&&t(a))}).catch(()=>{})},this.updateFuel=(e,t)=>{be({method:"post",url:ge.DATA_CONTROLLER_SERVER+"fuel/"+e.id,headers:Ce,data:e}).then(e=>{this.showNotification("warning","Fuel details updated"),t(e.data)}).catch(()=>{t([])})},this.getLabTestResultType=e=>{e([{id:"celsius",name:"Celsius"},{id:"convert_to_celsius",name:"Convert to Celsius"},{id:"ppm",name:"ppm"},{id:"other",name:"Other"}])},this.createLabTest=(e,t)=>{be({method:"post",url:ge.DATA_CONTROLLER_SERVER+"labtest/create",headers:Ce,data:e}).then(e=>{this.showNotification("success","New laboratory test added"),t(e.data)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.getLabTestList=e=>{be({method:"get",url:ge.DATA_CONTROLLER_SERVER+"labtest",headers:Ce}).then(t=>{e(t.data)}).catch(e=>{console.log(e)})},this.getLabTestListByDate=(e,t,a)=>{e&&t?be({method:"get",url:ge.DATA_CONTROLLER_SERVER+"sample/work-flow/data/get-locations-by-date-on-sampl-test",headers:Ce,params:{start_date:e,end_date:t}}).then(e=>{let{data:t={}}=e;a(t)}).catch(e=>{console.log(e)}):a([])},this.getLabTestList=e=>{be({method:"get",url:ge.DATA_CONTROLLER_SERVER+"labtest",headers:Ce}).then(t=>{e(t.data)}).catch(e=>{console.log(e)})},this.getLabTestById=(e,t)=>{be({method:"get",url:ge.DATA_CONTROLLER_SERVER+"labtest/"+e,headers:Ce}).then(e=>{t(e.data)}).catch(e=>{console.log(e)})},this.updateLabTest=(e,t)=>{be({method:"post",url:ge.DATA_CONTROLLER_SERVER+"labtest/"+e.id,headers:Ce,data:e}).then(e=>{this.showNotification("warning","Laboratory test updated"),t(e)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.deleteLabTest=(e,t)=>{be({method:"delete",url:ge.DATA_CONTROLLER_SERVER+"labtest/"+e,headers:Ce}).then(e=>{this.showNotification("success","Laboratory test deleted"),t(e)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.createFuelKit=(e,t)=>{const a={name:e};be({method:"post",url:ge.DATA_CONTROLLER_SERVER+"kit/create",headers:Ce,data:a}).then(e=>{this.showNotification("success","Created fuel kit"),t(e.data)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.getKitList=e=>{be({method:"get",url:ge.DATA_CONTROLLER_SERVER+"kit/",headers:Ce}).then(t=>{e(t.data)}).catch(e=>{console.log(e)})},this.getKitById=(e,t)=>{be({method:"get",url:ge.DATA_CONTROLLER_SERVER+"kit/",headers:Ce}).then(a=>{a.data&&a.data.map(a=>a.id===e&&t(a))}).catch(e=>{console.log(e)})},this.updateFuelKit=(e,t)=>{be({method:"post",url:ge.DATA_CONTROLLER_SERVER+"kit/"+e.id,headers:Ce,data:e}).then(e=>{this.showNotification("warning","Fuel kit updated"),t(e.data)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.deletetKit=(e,t)=>{be({method:"delete",url:ge.DATA_CONTROLLER_SERVER+"kit/"+e,headers:Ce}).then(e=>{this.showNotification("success","Fuel kit deleted"),t(e.data)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.createPackage=(e,t)=>{be({method:"post",url:ge.DATA_CONTROLLER_SERVER+"package/create",headers:Ce,data:e}).then(e=>{this.showNotification("success","New package created"),t(e.data)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.getAllPackage=e=>{be({method:"get",url:ge.DATA_CONTROLLER_SERVER+"package/",headers:Ce}).then(t=>{e(t.data)}).catch(e=>{console.log(e)})},this.updatePackage=(e,t)=>{be({method:"post",url:ge.DATA_CONTROLLER_SERVER+"package/"+e.id,headers:Ce,data:e}).then(e=>{this.showNotification("warning","Package updated"),t(e.data)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.getPackageById=(e,t)=>{be({method:"get",url:ge.DATA_CONTROLLER_SERVER+"package/"+e,headers:Ce}).then(e=>{t(e.data)}).catch(e=>{console.log(e)})},this.deletePackage=(e,t)=>{be({method:"delete",url:ge.DATA_CONTROLLER_SERVER+"package/"+e,headers:Ce}).then(e=>{this.showNotification("success","Package deleted"),t(e.data)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.getComponentMake=e=>{e([{id:"",name:"Select one"},{id:"AA",name:"AA"},{id:"cat",name:"Cat"},{id:"cummins",name:"Cummins"},{id:"detroitdiesel",name:"Detroit Diesel"},{id:"generac",name:"Generac"},{id:"katolight",name:"Katolight"},{id:"kohler",name:"Kohler"},{id:"mitshubishi",name:"Mitshubishi"},{id:"olympian",name:"Olympian"},{id:"waukesha",name:"Waukesha"},{id:"perkins",name:"Perkins"},{id:"em",name:"EM"},{id:"johndeere",name:"John Deere"},{id:"onan",name:"Onan"},{id:"other",name:"Other"}])},this.getRushList=e=>{e([{id:"standard",days:"3",name:"Standard"},{id:"rush24",days:"1",name:"Rush 24"},{id:"rush48",days:"2",name:"Rush 48"}])},this.reportCompanyCreate=(e,t)=>{var a={name:e.name,address:e.address,city:e.city,state:e.state,zipcode:e.zipcode,phone1:10===e.phone1.replace(/[^0-9]/g,"").length?e.phone1.replace(/[^0-9]/g,"").slice(0,10):null,phone2:10===e.phone2.replace(/[^0-9]/g,"").length?e.phone2.replace(/[^0-9]/g,"").slice(0,10):null};be({method:"post",url:ge.DATA_CONTROLLER_SERVER+"reportcom/create/",headers:Ce,data:a}).then(a=>{if(a.data){const s=a.data.data;this.reportLogoUpload(e.logo,s.id,()=>{}),this.showNotification("success","New reporting company created"),t(s)}}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.reportCompanyList=e=>{be({method:"get",url:ge.DATA_CONTROLLER_SERVER+"reportcom/",headers:Ce}).then(t=>{e(t.data)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.reportCompanyGetId=(e,t)=>{be({method:"get",url:ge.DATA_CONTROLLER_SERVER+"reportcom/"+e,headers:Ce}).then(e=>{var a=e.data;a&&(a.phone1?a.phone1=a.phone1.toString().slice(0,3)+"-"+a.phone1.toString().slice(3,6)+"-"+a.phone1.toString().slice(6,10):a.phone1=" ",a.phone2?a.phone2=a.phone2.toString().slice(0,3)+"-"+a.phone2.toString().slice(3,6)+"-"+a.phone2.toString().slice(6,10):a.phone2=" "),t(a)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.reportCompanyUpdate=(e,t)=>{var a={name:e.name,address:e.address,city:e.city,state:e.state,zipcode:e.zipcode,phone1:10===e.phone1.replace(/[^0-9]/g,"").length?e.phone1.replace(/[^0-9]/g,"").slice(0,10):null,phone2:10===e.phone2.replace(/[^0-9]/g,"").length?e.phone2.replace(/[^0-9]/g,"").slice(0,10):null};be({method:"put",url:ge.DATA_CONTROLLER_SERVER+"reportcom/"+e.selectedid,headers:Ce,data:a}).then(e=>{this.showNotification("warning","Update success"),t(e.data)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.reportLogoUpload=(e,t,a)=>{if(e){var s=new FormData;return s.append("logo",e),void be({method:"post",url:ge.DATA_CONTROLLER_SERVER+"reportcom/logo/?id="+t,headers:_e,data:s}).then(e=>{this.showNotification("success","Logo uploaded"),a(e)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})}this.showNotification("danger","No logo for company")},this.reportCompanyDelete=(e,t)=>{be({method:"delete",url:ge.DATA_CONTROLLER_SERVER+"reportcom/"+e,headers:Ce}).then(e=>{this.showNotification("success","Reporting company deleted"),t(e.data)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.createShippingMethod=async(e,t)=>{const a={name:e.name,cost:e.cost,duration:e.duration};be({method:"post",url:ge.DATA_CONTROLLER_SERVER+"shipping/methods",headers:Ce,data:a}).then(e=>{this.showNotification("success",e.data.message||"Shipping Method created"),e.data&&e.data.data&&t(e.data.data)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.getShippingMethodList=e=>{be({method:"get",url:ge.DATA_CONTROLLER_SERVER+"shipping/methods",headers:Ce}).then(t=>e(t.data)).catch(e=>{console.log(e)})},this.getShippingMethodById=(e,t)=>{be({method:"get",url:ge.DATA_CONTROLLER_SERVER+"shipping/methods/"+e,headers:Ce}).then(a=>a.data.data.id===e&&t(a.data.data)).catch(()=>{})},this.updateShippingMehtodById=(e,t,a)=>{be({method:"put",url:ge.DATA_CONTROLLER_SERVER+"shipping/methods/"+e,headers:Ce,data:t}).then(e=>{const t=e.data;return t.status?(this.showNotification("warning",e.data.message||"Shipping Mathod updated"),a(t)):(this.showNotification("danger","Operation failed"),a([]))}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.deleteShippingMethod=(e,t)=>{be({method:"delete",url:ge.DATA_CONTROLLER_SERVER+"shipping/methods/"+e,headers:Ce}).then(e=>{this.showNotification("success","Shipping Method deleted"),t(e.data)}).catch(e=>{this.showNotification("danger",de.DEFAULT_ERROR_ALERT),console.log(e)})},this.getAdminChecklist=e=>{be({method:"get",url:ge.DATA_CONTROLLER_SERVER+"checklist",headers:Ce}).then(t=>e(t.data.data)).catch(e=>{console.log(e)})}}};var Nt=null;class It extends i.a.Component{constructor(e){super(e),this.componentDidMount=()=>{this._loadData(),this.setState({role:Se.authRole()})},this._loadData=()=>{this.setState({isLoading:!0}),this.getSIFList()},this.getSIFList=()=>{var e={limit:10};this.state.isPendingSIFView&&(e.filter="pending"),this.state.isArchivedSIFView&&(e.filter="archived"),this.state.isCompletedSIFView&&(e.filter="completed"),Pt.getSIFList(e,e=>{let{sif:t=[],count:a={}}=e;this.setState({sifList:t||[],sifPendingCount:a.pending||0,sifCompletedCount:a.completed||0,sifArchivedCount:a.archived||0}),this.setState({isLoading:!1})})},this.getpdf=e=>{Pt.downloadpdf(e,e=>{})},this._renderAdminDash=()=>{const{classes:e}=this.props;return i.a.createElement("div",null,this._renderHeader(),i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Recent SIF")),i.a.createElement(kt,null,this.state.isLoading?i.a.createElement(Je.a,{type:"ThreeDots",color:"#a5d1e6",height:50,width:50}):i.a.createElement("div",{className:e.tableResponsive},i.a.createElement(et.a,{className:e.table},i.a.createElement(tt.a,{className:e.info},i.a.createElement(at.a,{className:e.tableHeadRow},i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"pdf"}," PDF "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"customer"}," Customer "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"company"}," Company "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"labid"}," Lab ID "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"email"}," Email "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"status"}," Status "))),i.a.createElement(st.a,null,this.state.sifList.length?this.state.sifList.map((t,a)=>i.a.createElement(at.a,{key:a,tabIndex:-1,className:e.tableBodyRow},i.a.createElement(it.a,{className:e.tableCell,key:a},i.a.createElement(nt.a,{onClick:()=>this.getpdf(t.labid)})),i.a.createElement(it.a,{className:e.tableCell,key:"customername"+a}," ",t.customer," "),i.a.createElement(it.a,{className:e.tableCell,key:"company"+a}," ",t.company," "),i.a.createElement(it.a,{className:e.tableCell,key:"labid"+a}," ",t.labid," "),i.a.createElement(it.a,{className:e.tableCell,key:"additionamemail"+a}," ",t.additionalemail.length?t.additionalemail.length+1:1," "),i.a.createElement(it.a,{className:e.tableCell,key:"status"+a}," ",t.status?t.status.slice(0,1).toUpperCase()+t.status.slice(1):""," "))):i.a.createElement(at.a,null,"No records available")))))))))},this._renderManagerDashboard=()=>this._renderAdminDash(),this._renderEmployeeDashboard=()=>this._renderAdminDash(),this._renderCustomerDashboard=()=>{const{classes:e}=this.props;return i.a.createElement("div",null,this._renderHeader(),i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Recent Result")),i.a.createElement(kt,null,this.isLoading?i.a.createElement(Je.a,{type:"ThreeDots",color:"#a5d1e6",height:50,width:50}):i.a.createElement("div",{className:e.tableResponsive},i.a.createElement(et.a,{className:e.table},i.a.createElement(tt.a,{className:e.info},i.a.createElement(at.a,{className:e.tableHeadRow},i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"pdf"}," PDF "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"labid"}," Lab ID "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"sample-id"}," Sample ID "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"customer"}," Location "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"status"}," Status "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"company"}," Received "))),i.a.createElement(st.a,null,this.state.sifList.length?this.state.sifList.map((t,a)=>i.a.createElement(at.a,{key:a,tabIndex:-1,className:e.tableBodyRow},i.a.createElement(it.a,{className:e.tableCell,key:a},i.a.createElement(nt.a,{onClick:()=>this.getpdf(t.labid)})),i.a.createElement(it.a,{className:e.tableCell,key:"labid-"+a}," ",t.labid," "),i.a.createElement(it.a,{className:e.tableCell,key:"sample-id-"+a}," ",t.sampleid," "),i.a.createElement(it.a,{className:e.tableCell,key:"customername"+a}," ",t.wolocation," "),i.a.createElement(it.a,{className:e.tableCell,key:"status"+a}," ",t.status?t.status.slice(0,1).toUpperCase()+t.status.slice(1):""," "),i.a.createElement(it.a,{className:e.tableCell,key:"company"+a}," ",rt()(t.datein).format("ll")," "))):i.a.createElement(at.a,null,"No records available")))))))))},this._renderHeader=()=>{const{classes:e}=this.props;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:"customer"===this.state.role?6:4},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info",stats:!0,icon:!0},i.a.createElement(yt,{color:"info"},i.a.createElement(We.a,null,"P")),i.a.createElement("p",{className:e.cardCategory},"Pending test"),i.a.createElement("h3",{className:e.cardTitle},this.state.sifPendingCount," ")))),i.a.createElement(ht,{xs:12,sm:12,md:"customer"===this.state.role?6:4},i.a.createElement(Et,null,i.a.createElement(_t,{color:"success",stats:!0,icon:!0},i.a.createElement(yt,{color:"success"},i.a.createElement(We.a,null,"C")),i.a.createElement("p",{className:e.cardCategory},"Completed test"),i.a.createElement("h3",{className:e.cardTitle},this.state.sifCompletedCount)))),"customer"===this.state.role?null:i.a.createElement(ht,{xs:12,sm:12,md:4},i.a.createElement(Et,null,i.a.createElement(_t,{color:"warning",stats:!0,icon:!0},i.a.createElement(yt,{color:"warning"},i.a.createElement(We.a,null,"A")),i.a.createElement("p",{className:e.cardCategory},"Archived test"),i.a.createElement("h3",{className:e.cardTitle},this.state.sifArchivedCount)))))},this.state={sifList:[],sifPendingCount:0,sifArchivedCount:0,sifCompletedCount:0,isLoading:!0,isPendingSIFView:!1,isArchivedSIFView:!1,isCompletedSIFView:!1,role:"customer"}}render(){switch(Se.authRole()){case"admin":Nt=this._renderAdminDash();break;case"manager":Nt=this._renderManagerDashboard();break;case"employee":Nt=this._renderEmployeeDashboard();break;case"customer":Nt=this._renderCustomerDashboard();break;default:Nt=null}return Nt}}var At=Object(Qe.a)(()=>wt)(It),Ft=a(369),Ot=a(387),Dt=a(378),Vt=a(370),Mt=a(389),Ut=a(386),Ht=a(372),Wt=a(381),Bt=a(384),jt=a(165),zt=a(17),Kt=a.n(zt),Yt=a(19),qt=a.n(Yt),$t=a(107),Gt=a(9);var Zt={cardFooter:{padding:"0",paddingTop:"10px",margin:"0 15px 10px",borderRadius:"0",justifyContent:"space-between",alignItems:"center",display:"flex",backgroundColor:"transparent",border:"0"},cardFooterProfile:{marginTop:"-15px"},cardFooterPlain:{paddingLeft:"5px",paddingRight:"5px",backgroundColor:"transparent"},cardFooterStats:{borderTop:"1px solid "+A[10],marginTop:"20px","& svg":{position:"relative",top:"4px",marginRight:"3px",marginLeft:"3px",width:"16px",height:"16px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"16px",position:"relative",top:"4px",marginRight:"3px",marginLeft:"3px"}},cardFooterChart:{borderTop:"1px solid "+A[10]}};const Qt=Object(p.a)(Zt);function Xt(e){const t=Qt(),{className:a,children:s,plain:l,profile:n,stats:o,chart:r,...c}=e,d=g()({[t.cardFooter]:!0,[t.cardFooterPlain]:l,[t.cardFooterProfile]:n,[t.cardFooterStats]:o,[t.cardFooterChart]:r,[a]:void 0!==a});return i.a.createElement("div",Object.assign({className:d},c),s)}var Jt=a(94),ea=a.n(Jt),ta=a(95),aa=a.n(ta);var sa={disabled:{"&:before":{backgroundColor:"transparent !important"}},underline:{"&:hover:not($disabled):before,&:before":{borderColor:"black !important",borderWidth:"1px !important"},"&:after":{borderColor:v[0]}},underlineError:{"&:after":{borderColor:P[0]}},underlineSuccess:{"&:after":{borderColor:T[0]}},chip:{},chips:{},labelRoot:{...w,color:"black !important",fontWeight:"400",fontSize:"14px",lineHeight:"1.42857",letterSpacing:"unset"},labelRootError:{color:P[0]},labelRootSuccess:{color:T[0]},feedback:{position:"absolute",top:"18px",right:"0",zIndex:"2",display:"block",width:"24px",height:"24px",textAlign:"center",pointerEvents:"none"},marginTop:{marginTop:"16px"},formControl:{paddingBottom:"10px",margin:"27px 0 0 0",position:"relative",verticalAlign:"unset"}},ia=a(166),la=a.n(ia);const na=Object(p.a)(sa);function oa(e){const t=na(),{formControlProps:a,labelText:s,id:l,labelProps:n,inputProps:o,error:r,success:c,onChange:d}=e,h=g()({[" "+t.labelRootError]:r,[" "+t.labelRootSuccess]:c&&!r}),m=g()({[t.underlineError]:r,[t.underlineSuccess]:c&&!r,[t.underline]:!0}),p=g()({[t.marginTop]:void 0===s});return i.a.createElement(Ft.a,Object.assign({},a,{className:a.className+" "+t.formControl}),void 0!==s?i.a.createElement(Ot.a,Object.assign({className:t.labelRoot+h,htmlFor:l},n),s):null,i.a.createElement(Vt.a,Object.assign({onChange:d,classes:{root:p,disabled:t.disabled,underline:m},id:l},o)),r?i.a.createElement(ea.a,{className:t.feedback+" "+t.labelRootError}):c?i.a.createElement(aa.a,{className:t.feedback+" "+t.labelRootSuccess}):null)}function ra(e){const t=na(),{formControlProps:a,labelText:s,id:l,labelProps:n,inputProps:o,error:r,success:c,onChange:d}=e,h=g()({[" "+t.labelRootError]:r,[" "+t.labelRootSuccess]:c&&!r}),m=g()({[t.underlineError]:r,[t.underlineSuccess]:c&&!r,[t.underline]:!0}),p=g()({[t.marginTop]:void 0===s});return i.a.createElement(Ft.a,Object.assign({},a,{className:a.className+" "+t.formControl}),void 0!==s?i.a.createElement(Ot.a,Object.assign({className:t.labelRoot+h,htmlFor:l},n),s):null,i.a.createElement(la.a,Object.assign({classes:{root:p,disabled:t.disabled,underline:m},id:l,onChange:d},o)),r?i.a.createElement(ea.a,{className:t.feedback+" "+t.labelRootError}):c?i.a.createElement(aa.a,{className:t.feedback+" "+t.labelRootSuccess}):null)}function ca(e){const t=na(),{formControlProps:a,labelText:s,id:l,labelProps:n,inputProps:o,error:r,success:c,onChange:d,onKeyDown:h,onPaste:m}=e,p=g()({[" "+t.labelRootError]:r,[" "+t.labelRootSuccess]:c&&!r}),u=g()({[t.underlineError]:r,[t.underlineSuccess]:c&&!r,[t.underline]:!0}),E=g()({[t.marginTop]:void 0===s});return i.a.createElement(Ft.a,Object.assign({},a,{className:a.className+" "+t.formControl}),void 0!==s?i.a.createElement(Ot.a,Object.assign({className:t.labelRoot+p,htmlFor:l},n),s):null,i.a.createElement(Vt.a,Object.assign({onChange:d,onPaste:m,onKeyDown:h,classes:{root:E,disabled:t.disabled,underline:u},id:l},o)),r?i.a.createElement(ea.a,{className:t.feedback+" "+t.labelRootError}):c?i.a.createElement(aa.a,{className:t.feedback+" "+t.labelRootSuccess}):null)}function da(e){const t=na(),{formControlProps:a,labelText:s,id:l,selectProps:n,error:o,success:r,onChange:c,valuekey:d,value:h,selectedValue:m,inputProps:p}=e,u={PaperProps:{style:{maxHeight:224,width:250}}};return i.a.createElement(Ft.a,Object.assign({},a,{className:a.className+" "+t.formControl}),void 0!==s?i.a.createElement(Ot.a,{htmlFor:l,className:t.labelRoot,id:l+"-selection"},s):null,i.a.createElement(Dt.a,Object.assign({labelId:l+"-selection",id:l+"-selection",value:m,onChange:c},p,{input:i.a.createElement(Vt.a,{id:l+"-multiple-chip"}),renderValue:e=>i.a.createElement("div",{className:t.chips},e.map(e=>i.a.createElement(Mt.a,{key:e.id,label:d.map(t=>"email"===t.trim()&&""!==e[t]&&"undefined"!==e[t]&&null!==e[t]?" - "+e[t]||!1:(e[t]||" ")+" "),className:t.chip}))),MenuProps:u},n),h.map(e=>i.a.createElement(X.a,{key:e.id,value:e},d.map(t=>"email"===t.trim()&&""!==e[t]&&"undefined"!==e[t]&&null!==e[t]?" -"+e[t]:e[t]+" ")))),o?i.a.createElement(ea.a,{className:t.feedback+" "+t.labelRootError}):r?i.a.createElement(aa.a,{className:t.feedback+" "+t.labelRootSuccess}):null)}var ha=a(380);var ma={autocomplete:{minHeight:"auto",minWidth:"auto",backgroundColor:"#FFF",color:"#FFF",border:"none",borderRadius:"3px",position:"relative",padding:"12px 0px",margin:".3125rem 1px",fontSize:"10px",fontWeight:"400",letterSpacing:"0",willChange:"box-shadow, transform",lineHeight:"1.42857143",textAlign:"center",whiteSpace:"nowrap",verticalAlign:"middle",touchAction:"manipulation",cursor:"pointer","&:hover,&:focus":{color:"#FFF",backgroundColor:"#FFF"[0]}},white:{"&,&:focus,&:hover":{backgroundColor:"#FFF",color:"#FFF"[0]}},transparent:{"&,&:focus,&:hover":{color:"inherit",background:"transparent",boxShadow:"none"}},lg:{padding:"1.125rem 2.25rem",fontSize:"0.875rem",lineHeight:"1.333333",borderRadius:"0.2rem"},sm:{padding:"0.40625rem 1.25rem",fontSize:"0.6875rem",lineHeight:"1.5",borderRadius:"0.2rem"}};const pa=Object(p.a)(ma);function ua(e){const t=pa(),{color:a,children:s,size:l,className:n,muiClasses:o,onClick:r,...c}=e,d=g()({[t.autocomplete]:!0,[t[l]]:l,[t[a]]:a,[n]:n});return i.a.createElement(ha.a,Object.assign({},c,{onClick:r,classes:o,className:d}),s)}var ga={customerList:[],fuelList:[],packageList:[],labTestList:[],sifList:[],sifPendingCount:0,sifArchivedCount:0,sifCompletedCount:0,componentMakeList:[],rushList:[],reportCompList:[],isSIFLoading:!0,locationList:[],onShowSIFTab:!0,isCreateSIF:!1,selectedPriority:[],dueDate:rt()().tz("America/Los_Angeles").add("3","days").format("LL"),selectedFuelTest:[],company:"",selectedCustomer:[],customerId:"",customerName:"",tankCapacity:"",tankQuantity:"",componentModel:"",po:"",wo:"",woLocation:"",selectedFuelTypes:[],applicableTest:[],labId:"",sampleid:"",sampleLoc:"",comment:"",isEditSIF:!1,woZipCode:"",componentMake:"",selectedSif:{},collectionDate:"",serialNumber:"",selectedCustomerError:!1,isDisabled:!1,emailCollection:[],value:"",emailError:null,selectedPackage:[],triggerMessage:"",page:0,rowsPerPage:10,SelectedComponentMake:[],originalSIFList:[],isPendingSIFView:!1,isCompletedSIFView:!1,isArchivedSIFView:!1,selectedReportComp:[],selectedpdf:null,searchValue:"",multiLabIDSelected:[],index:0,disabledNext:!1,disabledPrev:!1,sifStatus:"Available SIF",defaultLocation:"",location_value:{},locationupdatedId:"",Available_SifList:[],dataAvailable:!1,dataValue:[],customercomment:"",comments:[],selectedFuelTestComment:"",selectedTestResult:"",customLabID:"",requireCustomLabIDSection:!1,createdDate:rt()().format("LL")};const Ea={PaperProps:{style:{maxHeight:224,width:250}}};class ba extends i.a.Component{constructor(e){var t;super(e),t=this,this.componentDidMount=()=>{this._onLoad()},this._onLoad=()=>{try{let e=sessionStorage.getItem("location-list");e=JSON.parse(e),e&&e instanceof Array&&e.length&&this.setState({locationList:e})}catch(e){console.log(e)}Tt.getPopulationAndStoreDataByTag(e=>{let{fuelServices:t=[],packageServices:a=[],reportCompanies:s=[]}=e;this.setState({fuelList:t,packageList:a,reportCompList:[{name:"Select One",id:null}].concat(s||[])})}),this.getSIFList(),vt.getUsersList("customer",!0,e=>{this.setState({customerList:e})}),Tt.getLabTestList(e=>{this.setState({labTestList:e})}),Tt.getComponentMake(e=>{this.setState({componentMakeList:e})}),Tt.getRushList(e=>{this.setState({rushList:e})}),vt.getAllLocation(e=>{let{data:t}=e;t&&t instanceof Array&&(this.setState({locationList:t}),sessionStorage.setItem("location-list",JSON.stringify(t)))})},this.getSIFList=function(){var e={limit:1e3};t.state.isPendingSIFView&&(e.filter="pending"),t.state.isArchivedSIFView&&(e.filter="archived"),t.state.isCompletedSIFView&&(e.filter="completed"),Pt.getSIFList(e,a=>{if(a){const i=a.count;try{t.setState({sifStatus:e.filter,sifList:a.sif||[],sifPendingCount:i.pending||t.state.sifPendingCount,sifCompletedCount:i.completed||t.state.sifCompletedCount,sifArchivedCount:i.archived||t.state.sifArchivedCount})}catch(s){console.log(s)}}t.setState({isSIFLoading:!1,Available_SifList:t.state.sifList})})},this._handleReset=()=>{this.setState({isCreateSIF:!1,selectedPriority:[],dueDate:rt()().tz("America/Los_Angeles").add("3","days").format("LL"),selectedFuelTest:[],company:"",selectedCustomer:[],customerId:"",customerName:"",tankCapacity:"",tankQuantity:"",componentModel:"",po:"",wo:"",woLocation:"",selectedFuelTypes:[],applicableTest:[],labId:"",sampleid:"",sampleLoc:"",comment:"",isEditSIF:!1,woZipCode:"",componentMake:"",selectedSif:{},collectionDate:"",serialNumber:"",selectedCustomerError:!1,isDisabled:!1,emailCollection:[],value:"",emailError:null,selectedPackage:[],triggerMessage:"",SelectedComponentMake:[],isPendingSIFView:!1,isCompletedSIFView:!1,isArchivedSIFView:!1,selectedReportComp:[],selectedpdf:null,defaultLocation:"",locationupdatedId:"",location_value:{},selectedFuelTestComment:"",comments:[],customLabID:"",requireCustomLabIDSection:!1,createdDate:rt()().format("LL")})},this._handleLocationSelection=e=>{if(e){var t;t=e.name.trim();var a={city:"",state:"",country:""};"undefined"!==e.city&&null!==e.city&&""!==e.city&&(a.city=e.city+", "||!1),"undefined"!==e.state&&null!==e.state&&""!==e.state&&(a.state=e.state+", "||!1),"undefined"!==e.country&&null!==e.country&&""!==e.country&&(a.country=e.country||" ");var s=[];e.email&&e.email.length>0&&e.email.map(e=>void 0!==e&&"undefined"!==e&&null!==e&&""!==e&&s.push(e)),void 0!==e.primaryemail&&"undefined"!==e.primaryemail&&null!==e.primaryemail&&""!==e.primaryemail&&s.push(e.primaryemail);var i=this.state.selectedReportComp||[];void 0!==e.reportcomp&&"undefined"!==e.reportcomp&&null!==e.reportcomp&&""!==e.reportcomp&&this.state.reportCompList.map(t=>t.id===e.reportcomp&&(i=[t])),this.state.locationList.map((a,s)=>(a.name===t&&(this.setState({defaultLocation:a.name,locationupdatedId:e._id,customerNames:a.name}),this.setState({location_value:{name:t}})),!1)),this.setState({locationId:e._id,selectedCustomer:[e],customerId:e.id,customerName:t,company:"",woLocation:a.city+a.state+a.country,woZipCode:e.zipcode||"",emailCollection:s||[],selectedReportComp:i||[]})}else this.setState({selectedCustomer:[],customerId:"",customerName:"",company:"",defaultLocation:""})},this._handlePrioritySelection=e=>{this.setState({selectedPriority:[e.target.value],dueDate:rt()().tz("America/Los_Angeles").add(e.target.value.days,"days").format("LL")})},this._handleReportCompSelection=e=>{e.target.value.id?this.setState({selectedReportComp:[e.target.value]}):this.setState({selectedReportComp:[]})},this._handleComponentMakeSelection=e=>{e.target.value.id?this.setState({SelectedComponentMake:[e.target.value]}):this.setState({SelectedComponentMake:[]})},this._handleFuelSelection=e=>{const t=e.target.value;var a=[];let s=[];t.test.length&&t.test.map(e=>-1===a.indexOf(e.id)&&a.push(e.id)),a.map(e=>(this.state.labTestList.map(t=>t.id===e&&s.push(t)),!0)),this.setState({selectedFuelTypes:[t],applicableTest:s,selectedPackage:[],selectedFuelTest:[]})},this._handlePackageSelection=e=>{const t=e.target.value,a=t.test;var s=[],i=[];this.state.applicableTest.map(e=>s.push(e.id)),a.length&&a.map(e=>i.push(e.testid));var l=[];s.map(e=>(i.map(t=>e===t&&l.push(t)),!0));var n=[];l.map(e=>(this.state.applicableTest.map(t=>t.id===e?n.push(t):null),!0)),this.setState({selectedPackage:[t],selectedFuelTest:n})},this._handleTestResultSelection=e=>{const t=e.target.value;this.setState({selectedTestResult:t});var a=this.state.selectedFuelTest,s={},i=null;a.map((e,l)=>"Microbial Growth"===e.name&&(i=l,(s=a[l]).result=t,!0)),a[i]=s,this.setState({selectedFuelTest:a})},this._handleTestSelection=e=>{let t=e.target.value;this.setState({selectedFuelTest:t})},this.onFileSelect=e=>{this.setState({selectedpdf:e.target.files[0]})},this.handleKeyDown=e=>{if(["Enter","Tab",","].includes(e.key)){e.preventDefault();var t=this.state.value.trim();t&&this._handleEmailIsValid(t)&&this.setState({emailCollection:[...this.state.emailCollection,this.state.value],value:""})}},this._handleEmailAddChange=e=>{this.setState({value:e.target.value,emailError:null})},this._handleEmailRemoveChange=e=>{this.setState({emailCollection:this.state.emailCollection.filter(t=>t!==e)})},this._handleEmailPasteChange=e=>{e.preventDefault();var t=e.clipboardData.getData("text").match(/[\w\d\.-]+@[\w\d\.-]+\.[\w\d\.-]+/g);if(t){var a=t.filter(e=>!this._handleEmailIsInList(e));this.setState({emailCollection:[...this.state.emailCollection,...a]})}},this._handleChangePage=(e,t)=>{this.setState({page:t})},this._handleChangeRowsPerPage=e=>{this.setState({rowsPerPage:parseInt(+e.target.value)}),this.setState({page:0})},this.onCreateSIF=()=>{var e=[];this.state.selectedFuelTest.map(t=>"Microbial Growth"===t.name?e.push({testid:t.id,name:t.name,dataAvailable:!0}):e.push({testid:t.id,name:t.name,dataAvailable:!1}));const t={customerid:this.state.customerId,locationid:this.state.customerId,customer:this.state.customerName,location:this.state.customerName,company:this.state.company,priority:this.state.selectedPriority.length?this.state.selectedPriority[0].id:"standard",due:this.state.dueDate,tankcapacity:this.state.tankCapacity,quantitytank:this.state.tankQuantity,componentmodel:this.state.componentModel,po:this.state.po,wo:this.state.wo,wolocation:this.state.woLocation.trim(),wozipcode:this.state.woZipCode,additionalemail:this.state.emailCollection,fuel:this.state.selectedFuelTypes.length?this.state.selectedFuelTypes[0]._id:"",fueltest:e,sampleid:this.state.sampleid,sampleLoc:this.state.sampleLoc,comment:this.state.comment,serial:this.state.serialNumber,reportcomp:this.state.selectedReportComp.length?this.state.selectedReportComp[0]._id:""};this.state.SelectedComponentMake.length&&(t.componentmake=this.state.SelectedComponentMake[0].name||" "),this.state.collectionDate&&(t.collectiondate=this.state.collectionDate),this.state.selectedCustomer.length&&(t.customeraddress=this.state.selectedCustomer[0].address,t.customercity=this.state.selectedCustomer[0].city,t.customerstate=this.state.selectedCustomer[0].state,t.customercountry=this.state.selectedCustomer[0].country,t.customerzipcode=this.state.selectedCustomer[0].zipcode),this.state.selectedPackage&&this.state.selectedPackage.length&&(t.package=this.state.selectedPackage[0]._id);const{requireCustomLabIDSection:a,customLabID:s}=this.state;a&&(t.labid=s,t.requireCustomLabIDSection=a,t.datein=this.state.createdDate),Pt.createSIF(t,e=>{e&&(this.setState({triggerMessage:i.a.createElement("h1",null,"Save Lab ID for reference: "+(e.labid||" "))}),this.getSIFList())})},this.deleteSIF=e=>{Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to delete",buttons:[{label:"Delete",onClick:()=>{Pt.deleteSIF(e,e=>{e&&this.getSIFList()})}},{label:"Cancel",onClick:()=>console.log("cancel delete")}]})},this.getSIFbyID=e=>{const t=this.state.sifList.findIndex(t=>t.labid===e);this._setToggleButtonAvailability(t),this._handleReset(),Pt.getSIFById(e,(e,a)=>{if(this.state.dataValue=["Select One"],e){let a=[];this.state.fuelList.map(t=>t._id===e.fuel&&a.push(t));var s=[],i=[];a.length&&a.map(e=>(e.test.length&&e.test.map(e=>-1===s.indexOf(e._id)&&s.push(e._id)),!1)),s.map(e=>(this.state.labTestList.map(t=>t._id===e&&i.push(t)),!0));const r=[];e.fueltest&&e.fueltest.length&&e.fueltest.map(e=>(this.state.labTestList.map(t=>{if(e.testid===t.id){var a=t;return a._id=e._id,a.result=e.result,a.comment=e.comment,r.push(a),!0}return!1}),!1));const c=[];e.componentmake&&"undefined"!==e.componentmake&&null!==e.componentmake&&""!==e.componentmake&&this.state.componentMakeList.map(t=>t.id===e.componentmake.split(" ").join("").toLowerCase()&&c.push(t));var l=[];this.state.reportCompList.map(t=>e.reportcomp===t.id&&l.push(t));var n=[];"undefined"!==e.package&&null!==e.package&&""!==e.package&&this.state.packageList.map(t=>{t._id===e.package&&(n=[t])}),this.setState({selectedSif:e,isEditSIF:!0,locationid:this.state.locationid,location:this.state.customerName,customerName:this.state.customerName,SelectedComponentMake:c,selectedFuelTypes:a,applicableTest:i,selectedFuelTest:r,priority:e.priority,company:e.company?e.company:e.customer,labid:e.labid,dueDate:rt()(e.due).format("LL"),tankCapacity:e.tankcapacity,tankQuantity:e.quantitytank,componentMake:e.componentmake,componentModel:e.componentmodel,po:e.po,wo:e.wo,woLocation:e.wolocation,woZipCode:e.wozipcode,emailCollection:e.additionalemail?e.additionalemail:[],sampleid:e.sampleid,sampleLoc:e.samplelocation,collectionDate:e.collectiondate?rt()(e.collectiondate).format("YYYY-MM-DD"):"",comment:e.comment,serialNumber:e.serial,selectedReportComp:l,selectedPackage:n,index:t},()=>{console.log(`getSIFbyID::: API CollectionDate: ${e.collectiondate}  State: ${this.state.collectionDate}  Formatted: ${rt()(e.collectiondate).format("YYYY-MM-DD")}`)}),this.state.locationList.map((e,t)=>(this.state.selectedSif.customer===e.name&&this.setState({defaultLocation:this.state.selectedSif.customer}),!1));const d=this.state.labid;this.state.Available_SifList.map((e,t)=>{e.labid===d?this.setState({index:t}):console.log("")});this.state.labTestList.map(e=>{!0===e.dataAvailable&&"Microbial Growth"===e.name?this.setState({dataValue:this.state.dataValue.concat(e.dataValue||[])}):console.log("")});var o=[];this.state.dataValue.map(t=>e.dataValue===t&&o.push(t));let h=this.state.dataValue[0];e.fueltest.map((e,t)=>{if("Microbial Growth"!==e.name||"Negative"!==e.result&&"Positive"!==e.result)"Microbial Growth"===e.name&&this.setState({selectedTestResult:h});else{let t=e.result;this.setState({selectedTestResult:t})}return!1}),this.setState(()=>{this.state.comments.push(this.state.comment)})}})},this.updateSifByID=()=>{const e=this.state.labid,t=[];this.state.selectedFuelTest.map(e=>{const a=e.result||e.dataAvailable&&1==e.dataValue.length&&e.dataValue[0]||"";return t.push({testid:e.id,name:e.name,result:a,comment:e.comment,_id:e._id})}),this.setState(()=>{this.state.comments.push(this.state.comment)});const a={locationid:this.state.locationupdatedId,location:this.state.customerName,customerName:this.state.customerName,tankcapacity:this.state.tankCapacity,quantitytank:this.state.tankQuantity,componentmodel:this.state.componentModel,po:this.state.po,wo:this.state.wo,wolocation:this.state.woLocation,wozipcode:this.state.woZipCode,additionalemail:this.state.emailCollection,fuel:this.state.selectedFuelTypes.length?this.state.selectedFuelTypes[0]._id:"",fueltest:t,sampleid:this.state.sampleid,sampleLoc:this.state.sampleLoc,comment:this.state.comment,comments:this.state.comments,serial:this.state.serialNumber,reportcomp:this.state.selectedReportComp.length?this.state.selectedReportComp[0].id:""};this.state.collectionDate&&(a.collectiondate=this.state.collectionDate),this.state.SelectedComponentMake.length&&(a.componentmake=this.state.SelectedComponentMake[0].name||" "),this.state.selectedPackage&&this.state.selectedPackage.length&&(a.package=this.state.selectedPackage[0]._id),Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to update",buttons:[{label:"Update",onClick:()=>{Pt.updateSIFById(e,a,e=>{e.status&&this.getSIFList()})}},{label:"Cancel",onClick:()=>console.log("cancel Update")}]})},this.changeSIFStatus=e=>{const t={labid:[this.state.selectedSif.labid],status:e};Pt.changeSIFStatus(t,e=>{this.getSIFList()})},this.changeMultipleSIFStatus=e=>{const t={status:e,labid:this.state.multiLabIDSelected};Pt.changeSIFStatus(t,e=>{this._resetCheck(),this.getSIFList()})},this._handleResultValue=e=>{var t=this.state.selectedFuelTest,a={},s=null;t.map((i,l)=>i.id===e.target.id&&(s=l,a=t[l],console.log(t),1==a.dataValue.length&&(a.dataValue=[e.target.value]),a.result=e.target.value,!0)),t[s]=a,this.setState({selectedFuelTest:t})},this._handleCustomerCommentValue=e=>{this.setState({comment:e.target.value})},this._handleSearchFilter=()=>{this.setState({isSIFLoading:!0}),Pt.searchSIFListSingleParam(this.state.searchValue,e=>{e&&this.setState({sifList:e,isSIFLoading:!1,page:0,isPendingSIFView:!1,isCompletedSIFView:!1,isArchivedSIFView:!1,searchValue:""})})},this._handleSearchValue=e=>{this.setState({searchValue:e.target.value})},this._sendMail=()=>{Object(Gt.confirmAlert)({title:"Send",message:"Are you sure you want to send this report",buttons:[{label:"Send",onClick:()=>{Pt.mailMultiSIF([this.state.selectedSif.labid])}},{label:"Cancel",onClick:()=>console.log("cancel send report")}]})},this._handleCollectionDate=e=>{this.setState({collectionDate:e.target.value})},this.getpdf=(e,t)=>{t?Pt.generateAndDownloadpdf(e,e=>{}):Pt.downloadpdf(e,e=>{})},this._resetCheck=()=>{var e=[];this.state.sifList.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((t,a)=>(document.getElementById(t.labid).checked=!1,e.push(t.labid))),document.getElementById("select-all").checked=!1,this.setState({multiLabIDSelected:[]})},this._handleMultiSIFsend=()=>{this.state.multiLabIDSelected&&this.state.multiLabIDSelected.length&&Pt.mailMultiSIF(this.state.multiLabIDSelected,()=>{this._resetCheck()})},this._handleMultiSelect=e=>{var t=this.state.multiLabIDSelected;e.target.checked?t.includes(e.target.id)||t.push(e.target.id):t.includes(e.target.id)&&(t=t.filter(t=>t!==e.target.id)),document.getElementById("select-all").checked=!1,this.setState({multiLabIDSelected:t})},this._handleSelectAll=e=>{if(e.target.checked){var t=[];this.state.sifList.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((e,a)=>(document.getElementById(e.labid).checked=!0,t.push(e.labid))),this.setState({multiLabIDSelected:t})}},this._handleRequireCustomLabIDSection=()=>this.setState({requireCustomLabIDSection:!this.state.requireCustomLabIDSection}),this._deleteFuelTextSelected=async e=>{const{id:t}=e,{selectedSif:{labid:a}}=this.state,{status:s=!1}=await Pt.disposeFuelTest(a,t);s&&Pt.getSIFById(a,(e,t)=>{const a=[];this.state.fuelList.map(t=>t._id===e.fuel&&a.push(t));const s=[],i=[];a.length&&a.map(e=>(e.test.length&&e.test.map(e=>-1===s.indexOf(e._id)&&s.push(e._id)),!1)),s.map(e=>(this.state.labTestList.map(t=>t._id===e&&i.push(t)),!0));const l=[];e.fueltest&&e.fueltest.length&&e.fueltest.map(e=>(this.state.labTestList.map(t=>{if(e.testid===t.id){var a=t;return a._id=e._id,a.result=e.result,a.comment=e.comment,l.push(a),!0}return!1}),!1)),this.setState({selectedFuelTypes:a,applicableTest:i,selectedFuelTest:l})})},this._handleCreatedDate=e=>{this.setState({createdDate:e.target.value})},this._renderTestUpdate=()=>{const{classes:e}=this.props,{disabledNext:t,disabledPrev:a}=this.state;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:8},i.a.createElement(Et,null,i.a.createElement(kt,null,this.state.selectedFuelTest.length?this.state.selectedFuelTest.map(t=>i.a.createElement("div",null,1==t.dataAvailable?t.dataValue.length>1?i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(ht,null,i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(Ot.a,{className:e.InputLabelGrey,id:"fuel-type-selection"},"Result for "+t.name),i.a.createElement(Dt.a,{single:!0,required:!0,labelId:"package-selection",id:"package-selection",value:this.state.selectedTestResult?this.state.selectedTestResult:[],onChange:this._handleTestResultSelection,input:i.a.createElement(Vt.a,{id:"select-multiple-chip"}),renderValue:t=>i.a.createElement("div",{className:e.chips},i.a.createElement(Mt.a,{label:t,className:e.chip})),MenuProps:Ea},this.state.dataValue.map(e=>i.a.createElement(X.a,{value:e}," ",e," "))))),i.a.createElement(ht,null,i.a.createElement(Kt.a,{onClick:()=>this._deleteFuelTextSelected(t),style:{color:$t.a[500]}}))):i.a.createElement(ht,{xs:10,sm:10,md:10},i.a.createElement(ht,null,i.a.createElement(oa,{labelText:"Result for "+t.name,id:t.id,onChange:this._handleResultValue,inputProps:{type:"text",value:t.dataValue[0]},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,null,i.a.createElement(Kt.a,{onClick:()=>this._deleteFuelTextSelected(t),style:{color:$t.a[500]}}))):i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(i.a.Fragment,null,i.a.createElement(ht,null,i.a.createElement(oa,{labelText:"Result for "+t.name,id:t.id,onChange:this._handleResultValue,inputProps:{type:"text",value:t.result},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,null,i.a.createElement(Kt.a,{onClick:()=>this._deleteFuelTextSelected(t),style:{color:$t.a[500]}})))))):null),i.a.createElement(Xt,null,this.state.isEditSIF?i.a.createElement(Q,{onClick:this.updateSifByID,color:"success"},"Update"):null,this.state.isEditSIF||this.state.isCreateSIF?i.a.createElement(Q,{onClick:this._handleReset,color:"success"},"Reset"):null))),i.a.createElement(ht,{xs:12,sm:12,md:4},i.a.createElement(Et,null,i.a.createElement(kt,null,this.state.isEditSIF?i.a.createElement(Q,{color:"info"}," ",this.state.labid," "):null,this.state.isEditSIF?i.a.createElement(Q,{onClick:()=>this.getpdf(this.state.selectedSif.labid,!0),color:"info"},"Download PDF"):null,this.state.isEditSIF?i.a.createElement(Q,{onClick:this._sendMail,color:"info"},"Submit to client"):null,this.state.isEditSIF?i.a.createElement(Q,{onClick:()=>this.changeSIFStatus("completed"),color:"info"},"Complete"):null,this.state.isEditSIF?i.a.createElement(Q,{onClick:()=>this.changeSIFStatus("archived"),color:"info"},"Archive"):null,this.state.isEditSIF?i.a.createElement("div",null,i.a.createElement(Q,{onClick:this.toggleNext.bind(this),disabled:t,color:"info"}," Previous "),i.a.createElement(Q,{onClick:this.togglePrev.bind(this),disabled:a,color:"info"}," Next ")):null)),i.a.createElement(Et,null,i.a.createElement(kt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Ut.a,{label:"laboratory Comment",onChange:this._handleCustomerCommentValue,inputProps:{type:"text",value:this.state.comment},floatingLabel:!0,fullWidth:!0,multiline:!0,rows:2,rowsMax:4}))))))},this._renderSIFTable=()=>{const{classes:e}=this.props,{isSIFLoading:t}=this.state;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"pending"===this.state.sifStatus?"Pending SIF":"completed"===this.state.sifStatus?"Completed SIF":"archived"===this.state.sifStatus?"Archived SIF":"Available SIF")),i.a.createElement(kt,null,t?null:i.a.createElement(ht,{xs:12,sm:12,md:4,style:{flexDirection:"row"}},i.a.createElement(oa,{labelText:"Search",id:"search",onChange:this._handleSearchValue,inputProps:{type:"text"},formControlProps:{fullWidth:!1}}),i.a.createElement(Q,{onClick:this._handleSearchFilter,color:"info",style:{marginLeft:10,bottom:10}},"Search"),this.state.multiLabIDSelected.length?i.a.createElement(i.a.Fragment,null,i.a.createElement(Q,{onClick:this._handleMultiSIFsend,color:"info"}," Submit to client "),i.a.createElement(Q,{onClick:()=>this.changeMultipleSIFStatus("archived"),color:"info"}," Archive "),i.a.createElement(Q,{onClick:()=>this.changeMultipleSIFStatus("completed"),color:"info"}," Complete ")):null),t?i.a.createElement(ht,{xs:12,sm:12,md:4},i.a.createElement(Je.a,{type:"ThreeDots",color:"#a5d1e6",height:50,width:50})):i.a.createElement("div",{className:e.tableResponsive},i.a.createElement(et.a,{className:e.table},i.a.createElement(tt.a,{className:e.info},i.a.createElement(at.a,{className:e.tableHeadRow},i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"check"},i.a.createElement("input",{id:"select-all",name:"select-all",type:"checkbox",onChange:this._handleSelectAll})),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"customer"},"PDF"),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"customer"},"Customer"),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"company"},"Company"),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"labid"},"Lab ID"),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"sample-id"},"Sample ID"),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"email"},"Email"),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"status"},"Status"),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"option"},"Options"))),i.a.createElement(st.a,null,this.state.sifList.length?this.state.sifList.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((t,a)=>i.a.createElement(at.a,{key:a,tabIndex:-1,className:e.tableBodyRow},i.a.createElement(it.a,{className:e.tableCell,key:"check"+a},i.a.createElement("input",{id:t.labid,type:"checkbox",onChange:this._handleMultiSelect})),i.a.createElement(it.a,{className:e.tableCell,key:"customername"+a},i.a.createElement(nt.a,{onClick:()=>this.getpdf(t.labid,!1)})),i.a.createElement(it.a,{className:e.tableCell,key:"customername"+a},t.customer),i.a.createElement(it.a,{className:e.tableCell,key:"company"+a},t.company),i.a.createElement(it.a,{className:e.tableCell,key:"labid"+a},t.labid),i.a.createElement(it.a,{className:e.tableCell,key:"sampleid"+a},t.sampleid),i.a.createElement(it.a,{className:e.tableCell,key:"additionamemail"+a},t.additionalemail.length?t.additionalemail.length:0),i.a.createElement(it.a,{className:e.tableCell,key:"status"+a},t.status?t.status.slice(0,1).toUpperCase()+t.status.slice(1):""),i.a.createElement(it.a,{className:e.tableCell,key:"option"+a},i.a.createElement(Kt.a,{onClick:()=>this.deleteSIF(t.labid),style:{color:$t.a[500]}}),i.a.createElement(qt.a,{onClick:()=>this.getSIFbyID(t.labid)})))):i.a.createElement(at.a,null,"No records available"))),i.a.createElement(Bt.a,{component:"div",count:this.state.sifList.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this._handleChangePage,onChangeRowsPerPage:this._handleChangeRowsPerPage}))))))},this._renderSIFForm=()=>{const{classes:e}=this.props,{isCreateSIF:t,requireCustomLabIDSection:a}=this.state,s={name:this.state.defaultLocation||""};return i.a.createElement(Et,null,i.a.createElement(_t,{color:"primary"},i.a.createElement("h4",{className:e.cardTitleWhite},t?"Create Sample Order":"Sample Details of "+this.state.labid),t?i.a.createElement("p",{className:e.cardCategoryWhite},"Complete order form"):null),i.a.createElement(kt,null,i.a.createElement(pt,null,t?i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(ua,{id:"location-type-selection",onChange:(e,t)=>this._handleLocationSelection(t),options:this.state.locationList,getOptionLabel:e=>e.name,style:{backgroundColor:"white"},autoComplete:!0,includeInputInList:!0,renderInput:e=>i.a.createElement(Ut.a,Object.assign({},e,{label:"Location",variant:"outlined"}))}))):null,this.state.isEditSIF?i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(ua,{size:"small",id:"location-type-selection",onChange:(e,t)=>this._handleLocationSelection(t),options:this.state.locationList,getOptionLabel:e=>e.name,style:{backgroundColor:"white"},autoComplete:!0,includeInputInList:!0,renderInput:e=>i.a.createElement(Ut.a,Object.assign({},e,{label:"Location",variant:"outlined"})),value:s}))):null,t?i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(Ot.a,{className:e.InputLabelGrey,id:"priority-type-selection"},"Priority"),i.a.createElement(Dt.a,{labelId:"priority-type-selection",id:"priority-type-selection",single:!0,value:this.state.selectedPriority?this.state.selectedPriority:[],onChange:this._handlePrioritySelection,input:i.a.createElement(Vt.a,{id:"select-priority-chip"}),renderValue:t=>i.a.createElement("div",{className:e.chips},t.map(t=>i.a.createElement(Mt.a,{key:t.id,label:t.name,className:e.chip}))),MenuProps:Ea},this.state.rushList.map(e=>i.a.createElement(X.a,{key:e.id,value:e},e.name))))):null,this.state.isEditSIF?i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Priority",id:"priority",disabled:!0,inputProps:{type:"text",value:this.state.priority},formControlProps:{fullWidth:!0}})):null,i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Due",id:"dueDate",disabled:!0,inputProps:{type:"text",value:this.state.dueDate},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Tank capacity",onChange:e=>this.setState({tankCapacity:e.target.value}),id:"tankCapacity",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.tankCapacity},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Quantity tank",onChange:e=>this.setState({tankQuantity:e.target.value}),id:"tankQuantity",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.tankQuantity},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(Ot.a,{className:e.InputLabelGrey,id:"component-type-selection"},"Component Make"),i.a.createElement(Dt.a,{labelId:"component-type-selection",id:"component-type-selection",single:!0,value:this.state.SelectedComponentMake?this.state.SelectedComponentMake:[],onChange:this._handleComponentMakeSelection,input:i.a.createElement(Vt.a,{id:"select-chip"}),renderValue:t=>i.a.createElement("div",{className:e.chips},t.map(t=>i.a.createElement(Mt.a,{key:t.id,label:t.name,className:e.chip}))),MenuProps:Ea},this.state.componentMakeList.map(e=>i.a.createElement(X.a,{key:e.id,value:e},e.name))))),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Component model",onChange:e=>this.setState({componentModel:e.target.value}),id:"componentModel",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.componentModel},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Purchase order",onChange:e=>this.setState({po:e.target.value}),id:"po",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.po},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Work order",onChange:e=>this.setState({wo:e.target.value}),id:"wo",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.wo},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Location",onChange:e=>this.setState({woLocation:e.target.value}),id:"woLocation",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.woLocation},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Zip code",onChange:e=>this.setState({woZipCode:e.target.value}),id:"woZipCode",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.woZipCode},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Sample ID",onChange:e=>this.setState({sampleid:e.target.value}),id:"sampleid",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.sampleid},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Sample taken from",onChange:e=>this.setState({sampleLoc:e.target.value}),id:"sample-taken-from",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.sampleLoc},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Serial number",onChange:e=>this.setState({serialNumber:e.target.value}),id:"serialnumber",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.serialNumber},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Collection date",id:"collectiondate",onChange:this._handleCollectionDate,disabled:this.state.isDisabled,labelProps:{shrink:!0},inputProps:{type:"date",value:this.state.collectionDate},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(ca,{error:this.state.error,id:"email",disabled:!0,inputProps:{type:"text",value:this.state.value},labelText:"Email",onKeyDown:this.handleKeyDown,onChange:this._handleEmailAddChange,onPaste:this._handleEmailPasteChange,formControlProps:{fullWidth:!0}}),null!==this.state.emailError?i.a.createElement("span",{style:{color:"red"}},this.state.emailError):null,this.state.emailCollection.map((t,a)=>i.a.createElement("div",{className:e.chips,key:t},"   ",i.a.createElement(Mt.a,{onClick:()=>this._handleEmailRemoveChange(t),key:a,label:t+"  X",className:e.chip})))),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(Ot.a,{className:e.InputLabelGrey,id:"fuel-type-selection"}," Fuel type "),i.a.createElement(Dt.a,{labelId:"fuel-type-selection",id:"fuel-type-multiple-selection",single:!0,value:this.state.selectedFuelTypes,onChange:this._handleFuelSelection,input:i.a.createElement(Vt.a,{id:"select-multiple-chip"}),renderValue:t=>i.a.createElement("div",{className:e.chips},"  ",t.map(t=>i.a.createElement(Mt.a,{key:t.id,label:t.name,className:e.chip}))," "),MenuProps:Ea},this.state.fuelList.map(e=>i.a.createElement(X.a,{key:e.id,value:e},"  ",e.name," "))))),this.state.selectedFuelTypes.length&&this.state.applicableTest.length?i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(Ot.a,{className:e.InputLabelGrey,id:"fuel-test-selection"}," Test selection   "),i.a.createElement(Dt.a,{labelId:"fuel-test-selection",id:"fuel-test-selection",name:"fuel-test-selection",multiple:!0,value:this.state.selectedFuelTest,onChange:this._handleTestSelection,input:i.a.createElement(Vt.a,{id:"select-multiple-test"}),renderValue:t=>i.a.createElement("div",{className:e.chips}," ",t.map(t=>i.a.createElement(Mt.a,{key:t.id,label:t.name,className:e.chip}))," "),MenuProps:Ea},this.state.applicableTest.map(e=>i.a.createElement(X.a,{key:e.id,value:e},"  ",e.name,"  "))))):null,i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(Ot.a,{className:e.InputLabelGrey,id:"fuel-type-selection"},"Package"),i.a.createElement(Dt.a,{labelId:"package-selection",id:"package-selection",single:!0,required:!0,error:this.state.packageError,value:this.state.selectedPackage?this.state.selectedPackage:[],onChange:this._handlePackageSelection,input:i.a.createElement(Vt.a,{id:"select-multiple-chip"}),renderValue:t=>i.a.createElement("div",{className:e.chips}," ",t.map(t=>i.a.createElement(Mt.a,{key:t.id,label:t.name,className:e.chip}))),MenuProps:Ea},this.state.packageList.map(e=>i.a.createElement(X.a,{key:e.id,value:e}," ",e.name," "))))),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(Ot.a,{className:e.InputLabelGrey,id:"fuel-type-selection"}," Reporting company "),i.a.createElement(Dt.a,{labelId:"reporting-company-selection",id:"reporting-company-selection",single:!0,required:!0,value:this.state.selectedReportComp?this.state.selectedReportComp:[],onChange:this._handleReportCompSelection,input:i.a.createElement(Vt.a,{id:"select-multiple-chip"}),renderValue:t=>i.a.createElement("div",{className:e.chips}," ",t.map(t=>i.a.createElement(Mt.a,{key:t.id,label:t.name,className:e.chip}))," "),MenuProps:Ea},this.state.reportCompList.map(e=>i.a.createElement(X.a,{key:e.id,value:e}," ",e.name," "))))),t?i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement("br",null),i.a.createElement(Ht.a,{control:i.a.createElement(Wt.a,{defaultChecked:!0,color:"default",checked:a,onChange:this._handleRequireCustomLabIDSection,inputProps:{"aria-label":"checkbox with default color"}}),label:" Click here if you need to create sample with custom LAB ID"}),a?i.a.createElement(oa,{labelText:"Custom LAB ID",onChange:e=>this.setState({customLabID:e.target.value}),id:"custom-labid",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.customLabID},formControlProps:{fullWidth:!0}}):null,a?i.a.createElement(oa,{labelText:"Created Date",id:"created-date-date-in",onChange:this._handleCreatedDate,disabled:this.state.isDisabled,labelProps:{shrink:!0},inputProps:{type:"date",value:this.state.createdDate},formControlProps:{fullWidth:!0}}):null):null)),i.a.createElement(Xt,null,t?i.a.createElement(Q,{onClick:this.onCreateSIF,color:"success"}," Create SIF "):null,t?i.a.createElement(Q,{onClick:this._handleReset,color:"success"},"  Reset "):null))},this._renderHeader=()=>{const{classes:e}=this.props,{isSIFLoading:t}=this.state,{disabledNext:a,disabledPrev:s}=this.state;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:4},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info",stats:!0,icon:!0},i.a.createElement(yt,{color:"info"},i.a.createElement(We.a,null,"P")),i.a.createElement("p",{className:e.cardCategory},"Pending test"),i.a.createElement("h3",{className:e.cardTitle},this.state.sifPendingCount)),t?null:i.a.createElement(Xt,{stats:!0},i.a.createElement("div",{className:e.stats},i.a.createElement("a",{href:"#filter_pending",onClick:e=>{this.setState({isPendingSIFView:!this.state.isPendingSIFView,isCompletedSIFView:!1,isArchivedSIFView:!1,isSIFLoading:!0},()=>{this.getSIFList()})}},this.state.sifPendingCount?this.state.isPendingSIFView?"Show full":"View":"No results"))))),i.a.createElement(ht,{xs:12,sm:12,md:4},i.a.createElement(Et,null,i.a.createElement(_t,{color:"success",stats:!0,icon:!0},i.a.createElement(yt,{color:"success"},i.a.createElement(We.a,null,"C")),i.a.createElement("p",{className:e.cardCategory},"Completed test"),i.a.createElement("h3",{className:e.cardTitle},this.state.sifCompletedCount)),t?null:i.a.createElement(Xt,{stats:!0},i.a.createElement("a",{href:"#filter_completed",onClick:e=>{this.setState({isPendingSIFView:!1,isCompletedSIFView:!this.state.isCompletedSIFView,isArchivedSIFView:!1,isSIFLoading:!0},()=>{this.getSIFList()})}},this.state.sifCompletedCount?this.state.isCompletedSIFView?"Show full":"View":"No results"," ")))),i.a.createElement(ht,{xs:12,sm:12,md:4},i.a.createElement(Et,null,i.a.createElement(_t,{color:"danger",stats:!0,icon:!0},i.a.createElement(yt,{color:"danger"},i.a.createElement(We.a,null,"A")),i.a.createElement("p",{className:e.cardCategory},"Archived test"),i.a.createElement("h3",{className:e.cardTitle},this.state.sifArchivedCount)),t?null:i.a.createElement(Xt,{stats:!0},i.a.createElement("div",{className:e.stats},i.a.createElement("a",{href:"#filter_archived",onClick:e=>{this.setState({isPendingSIFView:!1,isCompletedSIFView:!1,isArchivedSIFView:!this.state.isArchivedSIFView,isSIFLoading:!0},()=>{this.getSIFList()})}},this.state.sifArchivedCount?this.state.isArchivedSIFView?"Show full":"View":"No results"))))),i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist"},i.a.createElement("li",{className:"nav-item"},i.a.createElement("a",{className:this.state.onShowSIFTab?" nav-link active":"nav-link",style:{fontSize:24},id:"home-tab","data-toggle":"tab",href:"#SIF",onClick:()=>{this.setState({onShowSIFTab:!0}),this._handleReset()},role:"tab","aria-controls":"home","aria-selected":"true"},"SIF"))))),i.a.createElement(ht,{xs:6,sm:6,md:6},"  ",i.a.createElement(Q,{onClick:()=>{this._handleReset(),this.setState({isCreateSIF:!this.state.isCreateSIF})},color:"info"}," ",this.state.isCreateSIF?" Return ":"Create SIF"," ")," "),this.state.isEditSIF?i.a.createElement(ht,{xs:6,sm:6,md:6,container:!0,justify:"flex-end"},i.a.createElement(Q,{onClick:this.toggleNext.bind(this),disabled:a}," ",i.a.createElement("svg",{className:"MuiSvgIcon-root",focusable:"false","aria-hidden":"true"}," ",i.a.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"  ")," "),i.a.createElement(Q,{onClick:this.togglePrev.bind(this),disabled:s}," ",i.a.createElement("svg",{className:"MuiSvgIcon-root",focusable:"false","aria-hidden":"true"}," ",i.a.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"})," ")," ")):null,i.a.createElement(ht,null,this.state.isEditSIF?this._renderSIFForm():null,this.state.isPendingSIFView||this.state.isCompletedSIFView||this.state.isArchivedSIFView?this._handleReset():null))},this._setToggleButtonAvailability=e=>{console.log(`DEBUG || INDEX ${e} || SIF LENGTH => ${this.state.sifList.length-1}`);let t=!1,a=!1;e<=0&&(t=!0),e>=this.state.sifList.length-1&&(a=!0),this.setState({index:e,disabledPrev:t,disabledNext:a})},this._renderAlert=()=>i.a.createElement(jt.a,{open:!0,onClose:this._handleReset,position:"right center"},i.a.createElement(Et,null,this.state.triggerMessage)),this.state=ga}_handleEmailIsValid(e){let t=null;return this._handleEmailIsInList(e)&&(t=e+" has already been added."),this._handleEmailIsIsEmail(e)||(t=e+" is not a valid email address."),!t||(this.setState({emailError:t}),!1)}_handleEmailIsInList(e){return this.state.emailCollection.includes(e)}_handleEmailIsIsEmail(e){return/[\w\d\.-]+@[\w\d\.-]+\.[\w\d\.-]+/.test(e)}togglePrev(e){let t=this.state.index-1;const a=this.state.Available_SifList[t].labid;this.getSIFbyID(a),this._renderSIFForm()}toggleNext(e){let t=this.state.index+1;const a=this.state.Available_SifList[t].labid;this.getSIFbyID(a),this._renderSIFForm()}render(){return i.a.createElement("div",null,this._renderHeader(),this.state.triggerMessage?this._renderAlert():null,this.state.isCreateSIF?this._renderSIFForm():null,this.state.isEditSIF?this._renderTestUpdate():null,this.state.onShowSIFTab?this._renderSIFTable():null)}}var Ca=Object(Qe.a)(()=>wt)(ba),_a=a(69),fa=a.n(_a),La=a(83),ya=a.n(La),Sa=a(167),Ra=a.n(Sa),ka=a(175),wa=a(168);const va="#FF0000",xa={chart:{map:"countries/us/us-all"},title:{text:"Locations Map"},credits:{enabled:!1},mapNavigation:{enabled:!0},tooltip:{headerFormat:"",pointFormat:"<b>Company: {point.company}</b><br><b>Location: {point.customer}</b><br><b>Tests: {point.sampleCount}</b><br><b>Pass: {point.passCount}</b><br><b>Fails: {point.failedCount}</b>"},series:[{name:"Locations",mapData:wa,borderColor:"#A0A0A0",nullColor:"rgba(200, 200, 200, 0.3)",showInLegend:!1},{type:"mappoint",name:"Customer Locations",color:"#4169E1",data:[],cursor:"pointer",point:{events:{click:function(e){console.log("Warning: No click-able function || Reporting ")}}}}]},Pa={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Sample Passed/Failed"},tooltip:{pointFormat:"{series.name}: <b>{point.count}</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.count}"}}},series:[{name:"Pass/Fail",colorByPoint:!0,data:[{name:"Passed",y:10,sliced:!0,selected:!0},{name:"Failed",y:10}]}]},Ta=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],Na={chart:{type:"column"},title:{text:""},xAxis:{categories:[],labels:{formatter:function(){console.log("testResultsOptions label click")}}},yAxis:{title:{text:"Count"}},series:[{name:"Count",data:[]}]},Ia={chart:{type:"line"},title:{text:""},xAxis:{type:"datetime",categories:[],labels:{formatter:function(){console.log("testResultsOptions label click")}}},yAxis:{title:{text:"Test Results"}},series:[{name:"Cetane Index",data:[]}],plotOptions:{series:{events:{cursor:"pointer",click:function(e){console.log("DEBUG"),console.log(e)}}}}},Aa={chart:{type:"column"},title:{text:""},yAxis:{title:{text:"Count"}},xAxis:{step:1,categories:[],labels:{formatter:function(){return this.value}}},plotOptions:{series:{events:{cursor:"pointer",click:function(e){console.log(e)}}}},series:[{name:"Count",data:[]}]},Fa={workOrders:[],sampleLocations:[],sifList:[],selectedCustomer:null,selectedWorkOrder:null,selectedSampleLocation:null,selectedWOLocation:null,selectedDateOut:null,selectedDateOutStart:null,selectedDateOutEnd:null,selectedTest:"",selectedTestCount:0,testResults:[],testPassFail:[],submittedCount:0,pendingCount:null,completedCount:null,failedCount:0,customers:[],selectedLocationId:"",locations:[],dateOuts:[],chartsUpdated:!1,ready:!1,monthNames:[],sampleLocationsMap:[],dateOutRange:[null,null],years:[],selectedYear:null,limit:10,skip:0,loading:!0,TEST_KEYS_IN_SAMPLE:null},Oa=["Cetane Index","Distillation, 50%","Distillation, 90%","Copper Strip Corrosion","Water and Sediment","Water by Karl Fischer","Sulfur","Flash Point","API Gravity by Hydrometer","Acid Number","pH"];"undefined"!==typeof window&&(window.proj4=window.proj4||ka.a),Ra()(fa.a);class Da extends i.a.Component{constructor(e){super(e),this.componentDidMount=()=>{this._loadData()},this._loadData=()=>{vt.getAllLocation(e=>{if(e&&e.data&&e.data.length){let t=e.data||[];t=t.sort((e,t)=>e.name&&t.name?e.name.localeCompare(t.name):-1),this.setState({locations:t})}}),this.setState({loading:!0}),Pt.searchSIFList(this.state.limit,{},e=>{this.processData(e)}),Pt.searchSIFListCount({},e=>{const t=e.data||{};this.setState({pendingCount:t.totalPending||0,completedCount:t.totalCompleted||0,failedCount:t.failed||0,passedCount:t.passed||0,sampleLocations:t.sampleid||[],workOrders:t.wolocation||[]},()=>{this.pieChart.chart.series[0].setData([{name:"Pass",count:this.state.passedCount,y:this.state.passedCount},{name:"Fail",count:this.state.failedCount,y:this.state.failedCount}],!0)})})},this.resultConversion=(e,t)=>e&&"convert_to_celsius"===t?((e.trim()-32)*(5/9)).toFixed(2):e,this.selectTest=e=>{let t=this.state.TEST_KEYS_IN_SAMPLE[e.point.x],a=e.point.y,s=[];this.state.sifList.forEach(e=>{let a=new Date(e.dateout);const i=a.getFullYear()+"-"+(a.getMonth()>8?"":"0")+(a.getMonth()+1)+"-"+(a.getDate()>9?"":"0")+a.getDate();a=new Date(i),e.fueltests.forEach(i=>{if(i.name===t){let t=i.result;i.name.match(/^Distillation/)&&(t=this.resultConversion(t,"convert_to_celsius")),s.push({...e,dateout:a,result:t,labid:e.labid,customer:e.customer,company:e.company})}})});let i=s.sort((e,t)=>new Date(e.dateout)<new Date(t.dateout)?-1:new Date(e.dateout)>new Date(t.dateout)?1:0),l=i.map(e=>parseFloat(e.result)),n=i.map(e=>e.labid);this.setState({testResults:i,ready:!0},()=>{this.testResultsChart.chart.series[0].name=t,this.testResultsChart.chart.yAxis[0].setTitle({text:t},!0),this.testResultsChart.chart.xAxis[0].setCategories([...n],!0),this.testResultsChart.chart.series[0].update({name:t,data:l}),this.testResultsChart.chart.setTitle({align:"left",text:t+"/ Count: "+a},{},!0),this.setState({selectedTest:t,selectedTestCount:a,ready:!1})})},this.selectSampleByTest=e=>{e.point.category&&this.getpdf(e.point.category)},this.processData=e=>{const t=e.sif||[];if(!t||t.length<0)return!1;let a={},s={},i=!1,l={},n={},o={},r=[],c=[],d=[],h={},m={},p={},u=[],g=null;t.forEach(e=>{const t=new Date(e.dateout).getFullYear();(!g||t<g)&&(g=t),p[t]=t,i=e.isfailed,e.locationid&&(e.geolat||e.geolon)&&(void 0===h[e.locationid]&&(h[e.locationid]={z:5,company:e.company,customer:e.customer,sampleCount:0,lat:parseFloat(e.geolat),lon:parseFloat(e.geolon),failedCount:0,passCount:0}),h[e.locationid].sampleCount+=1,e.isfailed&&(h[e.locationid].failedCount+=1),e.isfailed||(h[e.locationid].passCount+=1));let r=new Date(e.dateout),c=r.getMonth(),d=r.getFullYear();e.wolocation&&""!==e.wolocation&&(l[e.wolocation]={location:e.wolocation});const u=e.labid;if(e.sampleid&&""!==e.sampleid&&void 0!==e.sampleid&&(n[u]={location:e.sampleid}),e.fueltests.forEach(e=>{m[e.name]=e.name,!0===e.isfailed&&(i=!0),void 0===a[e.name]?a[e.name]=1:a[e.name]+=1}),g&&d!==g||(void 0===s[c]?s[c]=1:s[c]+=1),e.dateout){const t=rt()(new Date(e.dateout)).format("YYYY-MM-DD");o[t]={dateStr:t,fullDateStr:e.dateout}}});let E=[];Object.keys(h).forEach(e=>{E.push({...h[e]})});let b=[];const C=Oa;Oa.forEach(e=>{b.push([e,a[e]||0])});let _=[];Ta.forEach((e,t)=>{_.push([e,s[t]||0])}),Object.keys(l).forEach(e=>{r.push(l[e])}),r=r.sort((e,t)=>e.location.localeCompare(t.location)),Object.keys(n).forEach(e=>{c.push(n[e])}),c=c.sort((e,t)=>e.location.localeCompare(t.location)),Object.keys(o).forEach(e=>{d.push(o[e])}),d=d.sort((e,t)=>e.dateStr.localeCompare(t.dateStr)),Object.keys(p).forEach(e=>{u.push(p[e])}),u=u.sort(),this.setState({sifList:e.sif||[],sampleCounts:b,monthlyCounts:_,sampleLocationsMap:E,dateOuts:d,selectedTest:"",TEST_KEYS_IN_SAMPLE:Oa,ready:!1,monthNames:Ta,testResults:[],years:u,selectedYear:g,loading:!1},()=>{this.setState({chartsUpdated:!0},()=>{this.testResultsChart.chart.series[0].setData([],!0),this.testResultsChart.chart.setTitle({align:"left",text:""},{},!0),this.sampleCountsChart.chart.xAxis[0].setCategories([...C],!0),this.sampleCountsChart.chart.series[0].setData(b,!0),this.mapChart.chart.series[1].setData(E,!0),this.monthlyCountsChart&&(this.monthlyCountsChart.chart.xAxis[0].setCategories([...Ta],!0),this.monthlyCountsChart.chart.series[0].setData(_,!0)),this.mapChart.chart.series[1].data.forEach((e,t)=>(e.failedCount&&(e.color=va),e))})})},this._reloadData=()=>{let e="";this.state.dateOutRange[0]&&(e=rt()(this.state.dateOutRange[0]).format("YYYY-MM-DD"));let t="";this.state.dateOutRange[1]&&(t=rt()(this.state.dateOutRange[1]).format("YYYY-MM-DD"));var a={customerid:this.state.selectedCustomer&&this.state.selectedCustomer.id||"",locationid:this.state.selectedLocation&&this.state.selectedLocation.id||"",wolocation:this.state.selectedWOLocation||"",sampleid:this.state.selectedSampleLocation||"",dateoutstart:e||"",dateoutend:t||"",skip:this.state.skip};this.setState({loading:!0}),Pt.searchSIFList(this.state.limit,a,e=>{this.processData(e)}),Pt.searchSIFListCount(a,e=>{const t=e.data||{};this.setState({pendingCount:t.totalPending||0,completedCount:t.totalCompleted||0,failedCount:t.failed||0,passedCount:t.passed||0,sampleLocations:t.sampleid||[],workOrders:t.wolocation||[]},()=>{this.pieChart.chart.series[0].setData([{name:"Pass",count:this.state.passedCount,y:this.state.passedCount},{name:"Fail",count:this.state.failedCount,y:this.state.failedCount}],!0)})})},this._handleLocationSelection=e=>{if(e){var t;t=e.name.trim(),this.setState({selectedLocation:e,selectedLocationId:e.id,locationName:t,workOrders:[],selectedWOLocation:"",sampleLocations:[],selectedSampleLocation:"",skip:0},()=>{this._reloadData()})}else this.setState({selectedLocation:null,selectedLocationId:"",locationName:"",workOrders:[],selectedWOLocation:"",sampleLocations:[],selectedSampleLocation:"",skip:0},()=>{this._reloadData()})},this.updateSearch=(e,t,a)=>{let s="selectedCustomer",i=a||"",l={skip:0};"woLocation"===e&&(s="selectedWOLocation",l.selectedSampleLocation="",l.sampleLocations=[]),"sampleLocation"===e&&(s="selectedSampleLocation"),"dateout"===e&&(s="selectedDateOut"),l[s]=i,this.setState(l,()=>{this._reloadData()})},this.changeYear=e=>{this.setState({selectedYear:e.target.value});const t=this.state.sifList;let a={},s=e.target.value||null;t.forEach(e=>{let t=new Date(e.dateout),i=t.getMonth(),l=t.getFullYear();s&&l!==s||(void 0===a[i]?a[i]=1:a[i]+=1)});let i=[];Ta.forEach((e,t)=>{i.push([e,a[t]||0])}),this.setState({chartsUpdated:!0},()=>{this.monthlyCountsChart&&(this.monthlyCountsChart.chart.xAxis[0].setCategories([...Ta],!0),this.monthlyCountsChart.chart.series[0].setData(i,!0))})},this.changeDateOutRange=e=>{null===e&&(e=[null,null]),this.setState({skip:0,dateOutRange:[...e]},()=>{this._reloadData()})},this.getpdf=e=>{Pt.downloadpdf(e,()=>{})},this._renderGraph=()=>{const{classes:e}=this.props;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Locations Map / Sample Months Table")),i.a.createElement(kt,null,i.a.createElement(Ft.a,{className:e.formControl,style:{minWidth:120,marginTop:-30}},i.a.createElement(Ot.a,null)),i.a.createElement(ya.a,{ref:e=>this.mapChart=e,allowChartUpdate:!1,constructorType:"mapChart",highcharts:fa.a,options:xa})))),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Samples Tested By Month")),i.a.createElement(kt,null,i.a.createElement("div",{align:"right"},i.a.createElement(Ft.a,{className:e.formControl,style:{minWidth:80,marginTop:-30}},i.a.createElement(Ot.a,{htmlFor:"year-select"}),i.a.createElement(Dt.a,{value:this.state.selectedYear||"",onChange:this.changeYear,inputProps:{name:"year",id:"year-select"}},this.state.years.map(e=>i.a.createElement(X.a,{key:"year-"+e,value:e},e))))),i.a.createElement(ya.a,{highcharts:fa.a,ref:e=>this.monthlyCountsChart=e,allowChartUpdate:!1,options:Na})))),i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Tests")),i.a.createElement(kt,null,i.a.createElement(ya.a,{highcharts:fa.a,ref:e=>this.sampleCountsChart=e,allowChartUpdate:!1,options:Aa})))),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Expand Chart")),i.a.createElement(kt,null,i.a.createElement(ya.a,{highcharts:fa.a,ref:e=>this.testResultsChart=e,allowChartUpdate:!1,options:Ia})))),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Pass/Fail Chart")),i.a.createElement(kt,null,i.a.createElement(ya.a,{highcharts:fa.a,ref:e=>this.pieChart=e,allowChartUpdate:!1,options:Pa})))))},this._renderSearchFilters=()=>i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:3},i.a.createElement(ha.a,{id:"locationSearch",onChange:(e,t)=>this._handleLocationSelection(t),options:this.state.locations,getOptionLabel:e=>e.name,style:{backgroundColor:"white",width:260,marginBottom:20},autoComplete:!0,includeInputInList:!0,renderInput:e=>i.a.createElement(Ut.a,Object.assign({},e,{label:"Location",variant:"outlined"}))})),i.a.createElement(ht,{xs:12,sm:12,md:3},i.a.createElement(ha.a,{id:"woLocationSearch",ref:"woLocationSearch",onChange:(e,t)=>this.updateSearch("woLocation",e,t),options:this.state.workOrders,getOptionLabel:e=>e||"",style:{backgroundColor:"white",width:260,marginBottom:20},autoComplete:!0,includeInputInList:!0,renderInput:e=>i.a.createElement(Ut.a,Object.assign({},e,{label:"Work Order Location",variant:"outlined"}))})),i.a.createElement(ht,{xs:12,sm:12,md:3},i.a.createElement(ha.a,{id:"sampleIDSearch",ref:"sampleIDSearch",onChange:(e,t)=>this.updateSearch("sampleLocation",e,t),options:this.state.sampleLocations,getOptionLabel:e=>e||"",style:{backgroundColor:"white",width:260},autoComplete:!0,includeInputInList:!0,renderInput:e=>i.a.createElement(Ut.a,Object.assign({},e,{label:"Sample ID",variant:"outlined"}))})),i.a.createElement(ht,{xs:12,sm:12,md:3},i.a.createElement(ra,{id:"sifsearchdatepicker",onChange:this.changeDateOutRange,inputProps:{value:this.state.dateOutRange},style:{backgroundColor:"white",width:260},formControlProps:{fullWidth:!0}}))),this._renderHeader=()=>{const{classes:e}=this.props;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Et,null,i.a.createElement(_t,{color:"success",stats:!0,icon:!0},i.a.createElement(yt,{color:"success"},i.a.createElement(We.a,null,"C")),i.a.createElement("p",{className:e.cardCategory},"SIFs Completed"),i.a.createElement("h3",{className:e.cardTitle},this.state.completedCount," ")))),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info",stats:!0,icon:!0},i.a.createElement(yt,{color:"info"},i.a.createElement(We.a,null,"P")),i.a.createElement("p",{className:e.cardCategory},"SIFs Pending"),i.a.createElement("h3",{className:e.cardTitle},this.state.pendingCount)))))},this._loadMore=()=>{this.setState({skip:parseInt(this.state.skip)+10},()=>{const{selectedCustomer:e,selectedLocation:t,selectedWOLocation:a,selectedSampleLocation:s,dateOutRange:i,skip:l}=this.state;let n="";i[0]&&(n=rt()(i[0]).format("YYYY-MM-DD"));let o="";i[1]&&(o=rt()(i[1]).format("YYYY-MM-DD"));let r={skip:l};this.state.selectedCustomer&&this.state.selectedCustomer.id&&(r.customerid=e&&e.id||""),this.state.selectedLocation&&this.state.selectedLocation.id&&(r.locationid=t&&t.id||""),a&&(r.wolocation=a||""),s&&(r.sampleid=s||""),n&&(r.dateoutstart=n),o&&(r.dateoutend=o),this.setState({loading:!0}),Pt.searchSIFList(this.state.limit,r,e=>{let t={sif:[...this.state.sifList,...e.sif]};this.processData(t)})})},this.state=Fa,this.testResultsChart=null,this.sampleCountsChart=null,this.mapChart=null,this.monthlyCountsChart=null,this.pieChart=null,Aa.plotOptions.series.events.click=this.selectTest,Ia.plotOptions.series.events.click=this.selectSampleByTest}componentDidUpdate(){}shouldComponentUpdate(e,t){return this.state.selectedTest===t.selectedTest&&!(!this.state.chartsUpdated&&t.chartsUpdated)}render(){return i.a.createElement("div",null,this._renderSearchFilters(),this._renderHeader(),i.a.createElement(ht,{xs:12,sm:12,md:3},this.state.loading?null:i.a.createElement(Q,{onClick:this._loadMore,color:"success"}," Load More ")),this._renderGraph())}}var Va=Object(Qe.a)(()=>wt)(Da);class Ma extends i.a.Component{constructor(e){super(e),this.componentDidMount=()=>{this.loadCompanyList()},this.loadCompanyList=()=>{this.setState({isLoading:!0}),Tt.reportCompanyList(e=>{e&&this.setState({companyList:e}),this.setState({isLoading:!1})})},this._handleReset=()=>{this.setState({isCreate:!1,isEdit:!1,message:" ",isDisabled:!1,selectedid:"",name:" ",address:" ",city:" ",state:" ",zipcode:" ",phone1:"",phone2:"",logo:""})},this.onCreate=()=>{Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to create",buttons:[{label:"Create",color:"green",onClick:()=>{Tt.reportCompanyCreate(this.state,e=>{e&&(this._handleReset(),this.loadCompanyList())})}},{label:"Cancel",onClick:()=>console.log("cancel create")}]})},this.getCompany=e=>{Tt.reportCompanyGetId(e,e=>{e&&this.setState({isEdit:!0,name:e.name,address:e.address,city:e.city,state:e.state,zipcode:e.zipcode,phone1:e.phone1,phone2:e.phone2,image:Ee.a.SERVER+e.logo,selectedid:e.id,logo:Ee.a.SERVER+e.logo})})},this.onUpdate=()=>{Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to create",buttons:[{label:"Update",color:"green",onClick:()=>{Tt.reportCompanyUpdate(this.state,()=>{this.loadCompanyList()})}},{label:"Cancel",onClick:()=>console.log("cancel create")}]})},this.onDelete=e=>{Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to delete",buttons:[{label:"Delete",color:"green",onClick:()=>{Tt.reportCompanyDelete(e,()=>{this.loadCompanyList()})}},{label:"Cancel",onClick:()=>console.log("cancel delete")}]})},this.onChangeLogo=e=>{this.state.isEdit?Tt.reportLogoUpload(e.target.files[0],this.state.selectedid,()=>{}):this.setState({logo:e.target.files[0]})},this._handleValidate=()=>{},this._handleChangePage=(e,t)=>{this.setState({page:t})},this._handleChangeRowsPerPage=e=>{this.setState({rowsPerPage:+e.target.value}),this.setState({page:0})},this._renderList=()=>{const{classes:e}=this.props;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Q,{onClick:()=>{this._handleReset(),this.setState({isCreate:!this.state.isCreate})},color:"info"},this.state.isCreate?" Return ":"Create")),i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Reported companies")),i.a.createElement(kt,null,this.state.isLoading?i.a.createElement(Je.a,{type:"ThreeDots",color:"#a5d1e6",height:50,width:50}):i.a.createElement("div",{className:e.tableResponsive},i.a.createElement(et.a,{className:e.table},i.a.createElement(tt.a,{className:e.info},i.a.createElement(at.a,{className:e.tableHeadRow},i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"name"}," Name "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"phone"}," Phone "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"option"}," Options "))),i.a.createElement(st.a,null,this.state.companyList.length?this.state.companyList.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((t,a)=>i.a.createElement(at.a,{key:a,tabIndex:-1,className:e.tableBodyRow},i.a.createElement(it.a,{className:e.tableCell,key:"name"+a}," ",t.name," "),i.a.createElement(it.a,{className:e.tableCell,key:"phone"+a}," ",t.phone1?t.phone1.toString().slice(0,3)+"-"+t.phone1.toString().slice(3,6)+"-"+t.phone1.toString().slice(6,10):" "," "),i.a.createElement(it.a,{className:e.tableCell,key:"option"+a},i.a.createElement(Kt.a,{onClick:()=>this.onDelete(t.id),style:{color:$t.a[500]}}),i.a.createElement(qt.a,{onClick:()=>this.getCompany(t.id)})))):i.a.createElement(at.a,null,"No records available"))),i.a.createElement(Bt.a,{component:"div",count:this.state.companyList.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this._handleChangePage,onChangeRowsPerPage:this._handleChangeRowsPerPage}))))))},this._renderForm=()=>{const{classes:e}=this.props;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Q,{onClick:()=>{this._handleReset(),this.setState({isCreate:!this.state.isCreate})},color:"info"},this.state.isCreate?" Return ":"Create")),i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement(_t,{color:"primary"},i.a.createElement("h4",{className:e.cardTitleWhite},this.state.isCreate?"Reported company":"Create reported companies"),i.a.createElement("p",{className:e.cardCategoryWhite},this.state.isCreate?" ":"Complete new reported companies form")),i.a.createElement(kt,null,i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({name:e.target.value}),this._handleValidate()},labelText:"Company name",disabled:this.state.isDisabled,id:"name",inputProps:{type:"text",value:this.state.name},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({address:e.target.value}),this._handleValidate()},labelText:"Company address",disabled:this.state.isDisabled,id:"address",inputProps:{type:"text",value:this.state.address},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({city:e.target.value}),this._handleValidate()},labelText:"Company city",disabled:this.state.isDisabled,id:"city",inputProps:{type:"text",value:this.state.city},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({state:e.target.value}),this._handleValidate()},labelText:"Company state",disabled:this.state.isDisabled,id:"state",inputProps:{type:"text",value:this.state.state},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({zipcode:e.target.value}),this._handleValidate()},labelText:"Company zipcode",disabled:this.state.isDisabled,id:"zipcode",inputProps:{type:"text",value:this.state.zipcode},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({phone1:e.target.value}),this._handleValidate()},labelText:"Company phone 1",disabled:this.state.isDisabled,id:"phone1",inputProps:{type:"text",value:this.state.phone1},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({phone2:e.target.value}),this._handleValidate()},labelText:"Company phone 2",disabled:this.state.isDisabled,id:"phone2",inputProps:{type:"text",value:this.state.phone2},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:this.onChangeLogo,labelText:"Logo",disabled:this.state.isDisabled,id:"file",name:"file",inputProps:{type:"file"},formControlProps:{fullWidth:!0}})),this.state.isEdit&&this.state.logo?i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement("img",{style:{maxWidth:"200px",maxHeight:"200px"},src:this.state.logo,alt:this.state.name})):null)),i.a.createElement(Xt,null,i.a.createElement("h5",{style:{color:"red"}},this.state.message),this.state.isCreate?i.a.createElement(Q,{disabled:this.state.isDisabled,onClick:()=>this.onCreate(),color:"success"},"Create"):null,this.state.isEdit?i.a.createElement(Q,{disabled:this.state.isDisabled,onClick:()=>this._handleReset(),color:"success"},"Reset"):null,this.state.isEdit?i.a.createElement(Q,{disabled:this.state.isDisabled,onClick:()=>this.onUpdate(),color:"warning"},"Update"):null,this.state.isEdit?i.a.createElement(Q,{disabled:this.state.isDisabled,onClick:()=>{this.onDelete(this.state.selectedid),this._handleReset()},color:"danger"},"Delete"):null))))},this.state={isCreate:!1,isEdit:!1,message:"",isDisabled:!1,selectedid:"",name:" ",address:" ",city:" ",state:" ",zipcode:" ",phone1:" ",phone2:" ",logo:null,companyList:[],isLoading:!0,page:0,rowsPerPage:10}}render(){return this.state.isCreate||this.state.isEdit?this._renderForm():this._renderList()}}var Ua=Object(Qe.a)(()=>wt)(Ma);const Ha={PaperProps:{style:{maxHeight:224,width:250}}};class Wa extends i.a.Component{constructor(e){super(e),this.componentDidMount=()=>{this._onLoadData()},this._onLoadData=()=>{this.getLabTestList(),this.getAllPackages()},this._handleReset=()=>{this.setState({selectedLabTest:{},selectedLabTestList:[],packageName:"",packageError:"",isViewPackageDetails:!1,selectedPackage:{},isCreatePackage:!1})},this.getLabTestList=()=>{this.setState({isLoading:!0}),Tt.getLabTestList(e=>{e&&this.setState({LabTestList:e}),this.setState({isLoading:!1})})},this._handleLabTestSelection=e=>{this.setState({selectedLabTestList:e.target.value})},this.onCreatePackage=()=>{if(this.state.packageName&&this.state.selectedLabTestList.length){var e={name:this.state.packageName},t=[];this.state.selectedLabTestList.length&&this.state.selectedLabTestList.map(e=>t.push({testid:e.id,testname:e.name})),e.test=t,Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to create this package",buttons:[{label:"Create",onClick:()=>{Tt.createPackage(e,e=>{this._handleReset(),this.getAllPackages()})}},{label:"Cancel",onClick:()=>console.log("cancel create")}]})}else this.setState({packageError:"Incomplete form"})},this.getAllPackages=()=>{Tt.getAllPackage(e=>{this.setState({packageList:e})})},this.getPackageById=e=>{Tt.getPackageById(e,e=>{if(e.test.length){var t=[],a=[];e.test.map(e=>t.push(e.testid)),t.map(e=>(this.state.LabTestList.map(t=>t.id===e&&a.push(t)),!0)),this.setState({isViewPackageDetails:!0,selectedPackage:e,packageName:e.name,selectedLabTestList:a})}})},this.onUpdatePackage=()=>{if(this.state.packageName&&this.state.selectedLabTestList.length){var e={id:this.state.selectedPackage.id,name:this.state.packageName},t=[];this.state.selectedLabTestList.length&&this.state.selectedLabTestList.map(e=>t.push({testid:e.id,testname:e.name})),e.test=t,Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to update",buttons:[{label:"Update",onClick:()=>{Tt.updatePackage(e,e=>{this.getAllPackages()})}},{label:"Cancel",onClick:()=>console.log("cancel update")}]})}},this.onDeletePackage=e=>{Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to delete",buttons:[{label:"Delete",onClick:()=>{Tt.deletePackage(e,e=>{this._handleReset(),this.getAllPackages()})}},{label:"Cancel",onClick:()=>console.log("cancel delete package")}]})},this._handleChangePage=(e,t)=>{this.setState({page:t})},this._handleChangeRowsPerPage=e=>{this.setState({rowsPerPage:+e.target.value}),this.setState({page:0})},this._renderPackageTab=()=>{const{classes:e}=this.props;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Q,{onClick:()=>{this._handleReset(),this.setState({isCreatePackage:!this.state.isCreatePackage})},color:"info"},this.state.isCreatePackage?"Return":"Create")),this.state.isCreatePackage||this.state.isViewPackageDetails?i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement(_t,{color:"primary"},i.a.createElement("h4",{className:e.cardTitleWhite},this.state.isViewFuel?"Package details":"Create Package"),i.a.createElement("p",{className:e.cardCategoryWhite},this.state.isViewFuel?"":"Complete new package")),i.a.createElement(kt,null,i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>this.setState({packageName:e.target.value,packageError:""}),labelText:"Name",error:!this.state.packageName,id:"packageName",inputProps:{type:"text",value:this.state.packageName},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(Ot.a,{className:e.InputLabelGrey,id:"fuel-selection"},"Fuel test selection"),i.a.createElement(Dt.a,{labelId:"fuel-selection",id:"fuel-selection",multiple:!0,error:!this.state.selectedLabTestList.length,value:this.state.selectedLabTestList?this.state.selectedLabTestList:[],onChange:e=>{this._handleLabTestSelection(e),this.setState({packageError:""})},input:i.a.createElement(Vt.a,{id:"select-fuel"}),renderValue:t=>i.a.createElement("div",{className:e.chips},t.map(t=>i.a.createElement(Mt.a,{key:t.id,label:t.name,className:e.chip}))),MenuProps:Ha},this.state.LabTestList.map(e=>i.a.createElement(X.a,{key:e.id,value:e},e.name)))))),i.a.createElement(Xt,null,i.a.createElement("h5",{style:{color:"red"}},this.state.packageError),this.state.isViewPackageDetails?null:i.a.createElement(Q,{onClick:()=>this.onCreatePackage(),color:"success"},"Create"),this.state.isViewPackageDetails?i.a.createElement(Q,{onClick:()=>this.onUpdatePackage(),color:"warning"},"Update"):null,this.state.isViewPackageDetails?i.a.createElement(Q,{onClick:()=>this.onDeletePackage(this.state.selectedPackage.id),color:"danger"},"Delete"):null,this.state.isViewPackageDetails?i.a.createElement(Q,{onClick:()=>this._handleReset(),color:"success"},"Reset"):null))):null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Packages")),i.a.createElement(kt,null,this.state.isLoading?i.a.createElement(Je.a,{type:"ThreeDots",color:"#a5d1e6",height:50,width:50}):i.a.createElement("div",{className:e.tableResponsive},i.a.createElement(et.a,{className:e.table},i.a.createElement(tt.a,{className:e.info},i.a.createElement(at.a,{className:e.tableHeadRow},i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"name"}," Name "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"testcount"}," Test count "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"options"}," Options "))),i.a.createElement(st.a,null,this.state.packageList.length?this.state.packageList.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((t,a)=>i.a.createElement(at.a,{key:a,tabIndex:-1,className:e.tableBodyRow},i.a.createElement(it.a,{className:e.tableCell,key:"name"+a}," ",t.name," "),i.a.createElement(it.a,{className:e.tableCell,key:"test"+a}," ",t.test.length," "),i.a.createElement(it.a,{className:e.tableCell,key:"options"+a},i.a.createElement(Kt.a,{style:{color:$t.a[500]},onClick:()=>this.onDeletePackage(t.id)}),i.a.createElement(qt.a,{onClick:()=>this.getPackageById(t.id)})))):"No packages found")),i.a.createElement(Bt.a,{component:"div",count:this.state.packageList.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this._handleChangePage,onChangeRowsPerPage:this._handleChangeRowsPerPage}))))))},this.state={LabTestList:[],isLoading:!0,page:0,rowsPerPage:10,selectedLabTest:{},selectedLabTestList:[],packageName:"",packageError:"",isViewPackageDetails:!1,selectedPackage:{},packageList:[],isCreatePackage:!1}}render(){return this._renderPackageTab()}}var Ba=Object(Qe.a)(()=>wt)(Wa);class ja extends i.a.Component{constructor(e){super(e),this.componentDidMount=()=>{this._onLoadData()},this._onLoadData=()=>{this.getFuelKitList()},this._handleReset=()=>{this.setState({fuelKitName:"",selectedFuelKit:{},isViewFuelKit:!1,fuelKitNameError:!1,isCreateKit:!1})},this.addFuelKit=()=>{this.state.fuelKitName?Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to create "+this.state.fuelKitName+" as a new kit",buttons:[{label:"Create",onClick:()=>{Tt.createFuelKit(this.state.fuelKitName,e=>{e&&(this._handleReset(),this.getFuelKitList())})}},{label:"Cancel",onClick:()=>console.log("cancel create")}]}):this.setState({fuelKitNameError:!0})},this.getFuelKitList=()=>{this.setState({isLoading:!0}),Tt.getKitList(e=>{e&&this.setState({kitList:e}),this.setState({isLoading:!1})})},this.getFuelKitById=e=>{Tt.getKitById(e,e=>{this.setState({selectedFuelKit:e,fuelKitName:e.name,isViewFuelKit:!0})})},this.onDeleteKit=e=>{Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to delete",buttons:[{label:"Delete",onClick:()=>{Tt.deletetKit(e,e=>{this._handleReset(),this.getFuelKitList()})}},{label:"Cancel",onClick:()=>console.log("cancel delete")}]})},this.onUpdateKit=e=>{if(this.state.fuelKitName){const t={name:this.state.fuelKitName,id:e};Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to Update ",buttons:[{label:"Update",onClick:()=>{Tt.updateFuelKit(t,e=>{e&&this.getFuelKitList()})}},{label:"Cancel",onClick:()=>console.log("cancel update")}]})}else this.setState({fuelKitNameError:!0})},this._handleChangePage=(e,t)=>{this.setState({page:t})},this._handleChangeRowsPerPage=e=>{this.setState({rowsPerPage:+e.target.value}),this.setState({page:0})},this._renderKitTab=()=>{const{classes:e}=this.props;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Q,{onClick:()=>{this._handleReset(),this.setState({isCreateKit:!this.state.isCreateKit})},color:"info"},this.state.isCreateKit?"Return":"Create")),this.state.isCreateKit||this.state.isViewFuelKit?i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement(_t,{color:"primary"},i.a.createElement("h4",{className:e.cardTitleWhite},this.state.isViewFuelKit?"Kit details":"Create Fuels Kit"),i.a.createElement("p",{className:e.cardCategoryWhite},this.state.isViewFuelKit?"":"Complete new fuels Kit")),i.a.createElement(kt,null,i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({fuelKitName:e.target.value}),e.target.value,this.setState({fuelKitNameError:!1})},labelText:"Name",id:"fuelKitName",inputProps:{type:"text",value:this.state.fuelKitName},formControlProps:{fullWidth:!0}})))),i.a.createElement(Xt,null,i.a.createElement("h5",{style:{color:"red"}},this.state.fuelKitNameError?"Enter a kit name":""),this.state.isViewFuelKit?null:i.a.createElement(Q,{onClick:()=>this.addFuelKit(),color:"success"},"Create"),this.state.isViewFuelKit?i.a.createElement(Q,{onClick:()=>this.onUpdateKit(this.state.selectedFuelKit.id),color:"warning"},"Update"):null,this.state.isViewFuelKit?i.a.createElement(Q,{onClick:()=>this.onDeleteKit(this.state.selectedFuelKit.id),color:"danger"},"Delete"):null,this.state.isViewFuelKit?i.a.createElement(Q,{onClick:()=>this._handleReset(),color:"info"},"Reset"):null))):null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Fuel Kits")),i.a.createElement(kt,null,this.state.isLoading?i.a.createElement(Je.a,{type:"ThreeDots",color:"#a5d1e6",height:50,width:50}):i.a.createElement("div",{className:e.tableResponsive},i.a.createElement(et.a,{className:e.table},i.a.createElement(tt.a,{className:e.info},i.a.createElement(at.a,{className:e.tableHeadRow},i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"name"},"Name"),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"options"},"Options"))),i.a.createElement(st.a,null,this.state.kitList.length?this.state.kitList.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((t,a)=>i.a.createElement(at.a,{key:a,tabIndex:-1,className:e.tableBodyRow},i.a.createElement(it.a,{className:e.tableCell,key:"name"+a},t.name),i.a.createElement(it.a,{className:e.tableCell,key:"options"+a},i.a.createElement(Kt.a,{style:{color:$t.a[500]},onClick:()=>this.onDeleteKit(t.id)}),i.a.createElement(qt.a,{onClick:()=>this.getFuelKitById(t.id)})))):"No fuel kit records found")),i.a.createElement(Bt.a,{component:"div",count:this.state.kitList.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this._handleChangePage,onChangeRowsPerPage:this._handleChangeRowsPerPage}))))))},this.state={kitList:[],fuelKitName:"",selectedFuelKit:{},isViewFuelKit:!1,fuelKitNameError:!1,isCreateKit:!1,page:0,rowsPerPage:10,isLoading:!0}}render(){return this._renderKitTab()}}var za=Object(Qe.a)(()=>wt)(ja);class Ka extends i.a.Component{constructor(e){super(e),this.componentDidMount=()=>{this.getFuelList()},this._handleReset=()=>{this.setState({fuelName:"",selectedFuel:{},isViewFuel:!1,fuelNameError:!1,isCreateFuel:!1})},this.addFuel=()=>{this.state.fuelName?Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to create "+this.state.fuelName+" as a new fuel",buttons:[{label:"Create",onClick:()=>{Tt.createFuel({fuelName:this.state.fuelName},e=>{e&&(this._handleReset(),this.getFuelList())})}},{label:"Cancel",onClick:()=>console.log("cancel delete")}]}):this.setState({fuelNameError:!0})},this.getFuelList=()=>{this.setState({isLoading:!0}),Tt.getFuelList(e=>{e&&this.setState({fuelList:e}),this.setState({isLoading:!1})})},this.getFuelById=e=>{Tt.fuelById(e,e=>{e&&this.setState({isViewFuel:!0,selectedFuel:e,fuelName:e.name})})},this.onDeleteFuel=e=>{Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to delete",buttons:[{label:"Delete",onClick:()=>{Tt.deleteFuel(e,e=>{e&&(this._handleReset(),this.getFuelList())})}},{label:"Cancel",onClick:()=>console.log("cancel delete")}]})},this.onUpdateFuel=e=>{if(this.state.fuelName){const t={name:this.state.fuelName,id:e};Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to update",buttons:[{label:"Update",onClick:()=>{Tt.updateFuel(t,e=>{e&&this.getFuelList()})}},{label:"Cancel",onClick:()=>console.log("cancel update")}]})}else this.setState({fuelNameError:!0})},this._handleChangePage=(e,t)=>{this.setState({page:t})},this._handleChangeRowsPerPage=e=>{this.setState({rowsPerPage:+e.target.value}),this.setState({page:0})},this._renderFuelTab=()=>{const{classes:e}=this.props;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Q,{onClick:()=>{this._handleReset(),this.setState({isCreateFuel:!this.state.isCreateFuel})},color:"info"},this.state.isCreateFuel?"Return":"Create")),this.state.isCreateFuel||this.state.isViewFuel?i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement(_t,{color:"primary"},i.a.createElement("h4",{className:e.cardTitleWhite},this.state.isViewFuel?"Fuel details":"Create Fuels"),i.a.createElement("p",{className:e.cardCategoryWhite},this.state.isViewFuel?"":"Complete new fuels")),i.a.createElement(kt,null,i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({fuelName:e.target.value}),e.target.value,this.setState({fuelNameError:!1})},labelText:"Name",id:"fuelName",error:this.state.fuelNameError,inputProps:{type:"text",value:this.state.fuelName},formControlProps:{fullWidth:!0}})))),i.a.createElement(Xt,null,i.a.createElement("h5",{style:{color:"red"}},this.state.fuelNameError?"Enter a fuel name":""),this.state.isViewFuel?null:i.a.createElement(Q,{onClick:()=>this.addFuel(),color:"success"},"Create"),this.state.isViewFuel?i.a.createElement(Q,{onClick:()=>this.onUpdateFuel(this.state.selectedFuel.id),color:"warning"},"Update"):null,this.state.isViewFuel?i.a.createElement(Q,{onClick:()=>this.onDeleteFuel(this.state.selectedFuel.id),color:"danger"},"Delete"):null,this.state.isViewFuel?i.a.createElement(Q,{onClick:()=>this._handleReset(),color:"info"},"Reset"):null))):null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Fuels")),i.a.createElement(kt,null,this.state.isLoading?i.a.createElement(Je.a,{type:"ThreeDots",color:"#a5d1e6",height:50,width:50}):i.a.createElement("div",{className:e.tableResponsive},i.a.createElement(et.a,{className:e.table},i.a.createElement(tt.a,{className:e.info},i.a.createElement(at.a,{className:e.tableHeadRow},i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"name"},"Name"),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"options"},"Options"))),i.a.createElement(st.a,null,this.state.fuelList?this.state.fuelList.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((t,a)=>i.a.createElement(at.a,{hover:!0,key:a,tabIndex:-1,className:e.tableBodyRow},i.a.createElement(it.a,{className:e.tableCell,key:"name"+a},t.name),i.a.createElement(it.a,{className:e.tableCell,key:"options"+a},i.a.createElement(Kt.a,{style:{color:$t.a[500]},onClick:()=>this.onDeleteFuel(t.id)}),i.a.createElement(qt.a,{onClick:()=>this.getFuelById(t.id)})))):" No fuel records found")),i.a.createElement(Bt.a,{component:"div",count:this.state.fuelList.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this._handleChangePage,onChangeRowsPerPage:this._handleChangeRowsPerPage}))))))},this.state={fuelList:[],fuelName:"",selectedFuel:{},isViewFuel:!1,fuelNameError:!1,isCreateFuel:!1,page:0,rowsPerPage:10,isLoading:!0}}render(){return this._renderFuelTab()}}var Ya=Object(Qe.a)(()=>wt)(Ka),qa=a(169),$a=a.n(qa),Ga=a(93),Za=a.n(Ga);const Qa={tablePopulationControlValue:[{title:"Name",keyPair:"name"},{title:"Method",keyPair:"method"},{title:"Result type",keyPair:"resulttype"},{title:"Limits",keyPair:"limits",type:"get-length"},{title:"Fuels",keyPair:"fuels",type:"get-length"},{title:"Options",keyPair:"action"}]};class Xa extends i.a.Component{constructor(e){super(e),this.onDeleteLabTest=e=>{Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to delete ",buttons:[{label:"Delete",onClick:()=>Tt.deleteLabTest(e,e=>this.props.handleReset("delete"))},{label:"Cancel",onClick:()=>console.log("cancel delete")}]})},this._handleChangePage=(e,t)=>{this.setState({page:t})},this._handleChangeRowsPerPage=e=>{this.setState({rowsPerPage:+e.target.value}),this.setState({page:0})},this.state={page:Za.a.page,rowsPerPage:Za.a.rowsPerPage}}render(){const{classes:e,isLoading:t,LabTestList:a=[],getLabTestById:s}=this.props;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Laboratory tests")),i.a.createElement(kt,null,t?i.a.createElement(Je.a,{type:"ThreeDots",color:"#a5d1e6",height:50,width:50}):i.a.createElement("div",{className:e.tableResponsive},i.a.createElement(et.a,{className:e.table},i.a.createElement(tt.a,{className:e.info},i.a.createElement(at.a,{className:e.tableHeadRow},Qa.tablePopulationControlValue.map((t,a)=>{let{title:s}=t;return i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:`${s.toLowerCase()}-${a}`},s)}))),i.a.createElement(st.a,null,a.length?a.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((t,a)=>i.a.createElement(at.a,{key:a,tabIndex:-1,className:e.tableBodyRow},Qa.tablePopulationControlValue.map((a,l)=>{let{title:n,keyPair:o,type:r}=a;return i.a.createElement(it.a,{className:e.tableCell,key:`${o}-${n.toLowerCase()}-${l}`},"action"===o?i.a.createElement(i.a.Fragment,null,i.a.createElement(Kt.a,{style:{color:$t.a[500]},onClick:()=>this.onDeleteLabTest(t.id)}),i.a.createElement(qt.a,{onClick:()=>s(t)})):"get-length"===r?t[o]&&t[o].length?t[o].length:0:t[o]||"")}))):"No Laboraroty test record found")),i.a.createElement(Bt.a,{component:"div",count:a.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this._handleChangePage,onChangeRowsPerPage:this._handleChangeRowsPerPage}))))))}}var Ja=Object(Qe.a)(()=>wt)(Xa);const{MenuProps:es,limitType:ts}=$a.a;class as extends i.a.Component{constructor(e){super(e),this.componentDidMount=()=>{this._onLoadData(),document.addEventListener("keydown",this._handlePredefinedValues)},this._onLoadData=()=>{Tt.getFuelList(e=>{e&&this.setState({fuelList:e})}),this.getLabTestList(),this.getLabTestResultType()},this._handleReset=()=>{this.setState({labTestName:"",labTestMethod:"",labTestDLT:"",isViewLabTest:!1,labTestNameError:!1,selectedResultType:[],selectedFuelList:[],selectedLabTest:{},isCreateLabTest:!1,selectedLabTestLimit:[],selectedLabTestLimitFuel:[],labTextLimitText:"",labTestLimitValue:"",labTestLimitAdditionError:"",selectedLabTestResponseLimit:[],selectedLimitIndex:"",isLimitEdit:!1,labTestLimitMinComment:"",labTestLimitMaxComment:"",selectedLabTestList:[],packageName:"",packageError:"",isViewPackageDetails:!1,selectedPackage:{},isCreatePackage:!1,selectedResultValue:[{id:"user defined",name:"user defined"}],LabTestResultValue:[{id:"user defined",name:"user defined"},{id:"predefined",name:"predefined"}],resultValues:[],showPredefinedValues:!1,resultValue:""})},this.getLabTestResultType=()=>{Tt.getLabTestResultType(e=>{this.setState({LabTestResultType:e})})},this._handleResultSelection=e=>{this.setState({selectedResultType:[e.target.value]})},this._handleResultValueSelection=e=>{this.setState({selectedResultValue:[e.target.value]},()=>{"predefined"===this.state.selectedResultValue[0].name?this.setState({showPredefinedValues:!0}):this.setState({showPredefinedValues:!1},()=>{this.setState({resultValues:[]})})})},this._handlePredefinedValues=e=>{if(["Enter","Tab",","].includes(e.key)){e.preventDefault();const t=this.state.resultValue.trim();t&&this.setState({resultValues:[...this.state.resultValues,t],resultValue:""})}},this._handleResultValue=e=>{this.setState({resultValue:e.target.value})},this._handleDeleteResultValue=e=>{this.setState({resultValues:this.state.resultValues.filter(t=>t!==e)})},this._handleFuelSelection=e=>{this.setState({selectedFuelList:e.target.value})},this._handleLimitSelection=e=>{this.setState({selectedLabTestLimit:[e.target.value]})},this._handleLimitFuelSelection=e=>{this.setState({selectedLabTestLimitFuel:e.target.value})},this.onCreateLabTest=()=>{if(this.state.labTestName){let t={name:this.state.labTestName,method:this.state.labTestMethod,dlt:this.state.labTestDLT,resulttype:this.state.selectedResultType.length?this.state.selectedResultType[0].id:" ",dataAvailable:"user defined"!==this.state.selectedResultValue[0].name,dataValue:this.state.resultValues};if(this.state.selectedFuelList.length){var e=[];this.state.selectedFuelList.map(t=>e.push(t.id)),t.fuels=e}Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to create "+this.state.labTestName+" as new laboratory test?",buttons:[{label:"Create",onClick:()=>{Tt.createLabTest(t,e=>{if(e.data){const t=e.data;this._handleReset(),this.getLabTestList(),t.id&&this.getLabTestById(t.id)}})}},{label:"Cancel",onClick:()=>console.log("cancel create")}]})}else this.setState({labTestNameError:!0})},this.getLabTestList=()=>{this.setState({isLoading:!0}),Tt.getLabTestList(e=>{e&&this.setState({LabTestList:e}),this.setState({isLoading:!1})})},this.getLabTestById=e=>{this._handleReset(),Tt.getLabTestById(e,e=>{e.resulttype&&this.state.LabTestResultType.map(t=>t.id===e.resulttype&&this.setState({selectedResultType:[t]}));let t=[];e.fuels&&e.fuels.length&&e.fuels.map(e=>(this.state.fuelList.map(a=>(console.log("Fuel validate",a._id,"against",e),a.id===e&&(console.log("Fuel match"),t.push(a)))),!1)),console.log(t,"selectedFuelList"),this.setState({selectedLabTest:e,isViewLabTest:!0,labTestName:e.name,labTestMethod:e.method,labTestDLT:e.dlt,selectedLabTestResponseLimit:e.limits,selectedFuelList:t,selectedResultValue:e.dataAvailable?[{id:"predefined",name:"predefined"}]:[{id:"user defined",name:"user defined"}],resultValues:e.dataValue,showPredefinedValues:!!e.dataAvailable})})},this.onUpdateLabTest=()=>{if(this.state.labTestName){let t={id:this.state.selectedLabTest.id,name:this.state.labTestName,method:this.state.labTestMethod,dlt:this.state.labTestDLT,resulttype:this.state.selectedResultType.length?this.state.selectedResultType[0].id:" ",dataAvailable:"user defined"!==this.state.selectedResultValue[0].name,dataValue:this.state.resultValues};if(this.state.selectedFuelList.length){var e=[];this.state.selectedFuelList.map(t=>e.push(t._id)),t.fuels=e}Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to update ",buttons:[{label:"Update",onClick:()=>{Tt.updateLabTest(t,e=>{this._handleReset(),this.getLabTestById(t.id),this.getLabTestList()})}},{label:"Cancel",onClick:()=>console.log("cancel update")}]})}else this.setState({labTestNameError:!0})},this.onCreateLimitLabTest=()=>{if(this.state.labTestName&&this.state.labTextLimitText&&this.state.labTestLimitValue&&this.state.selectedLabTestLimitFuel.length&&this.state.selectedLabTestLimit.length){let a={id:this.state.selectedLabTest.id};var e={},t=[];this.state.selectedLabTestLimitFuel.length&&(this.state.selectedLabTestLimitFuel.map(e=>t.push(e.id)),e.fuels=t),e.limittext=this.state.labTextLimitText,e.maxcomment=this.state.labTestLimitMaxComment,e.mincomment=this.state.labTestLimitMinComment,this.state.selectedLabTestLimit.length&&(e.limitype=this.state.selectedLabTestLimit[0].id),e.limit=this.state.labTestLimitValue,t=[];const s=this.state.selectedLabTest.limits;s.length&&s.map(e=>t.push(e)),t.push(e),a.limits=t,Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to add limit ",buttons:[{label:"Add limit",onClick:()=>{Tt.updateLabTest(a,e=>{this._handleReset(),this.getLabTestById(a.id),this.getLabTestList()})}},{label:"Cancel",onClick:()=>console.log("cancel add limit")}]})}else this.setState({labTestLimitAdditionError:"Please fill all fields to create limit"})},this.onDeleteLabTestLimit=e=>{let t={id:this.state.selectedLabTest.id},a=[];this.state.selectedLabTestResponseLimit.map((t,s)=>s!==e&&a.push(t)),t.limits=a,Object(Gt.confirmAlert)({title:"Delete",message:"Are you sure you want to delete ",buttons:[{label:"Delete",onClick:()=>{Tt.updateLabTest(t,e=>{this._handleReset(),this.getLabTestById(t.id),this.getLabTestList()})}},{label:"Cancel",onClick:()=>console.log("cancel delete")}]})},this.onUpdateLabTestLimitSelection=e=>{if(this.state.selectedLabTestResponseLimit.length){const s=this.state.selectedLabTestResponseLimit[e];var t=[];s.fuels.map(e=>(this.state.selectedFuelList.map(a=>a.id===e&&t.push(a)),!0));var a=[];ts.map(e=>e.id===s.limitype&&a.push(e)),this.setState({labTestLimitMinComment:s.mincomment?s.mincomment:"",labTestLimitMaxComment:s.maxcomment?s.maxcomment:"",labTextLimitText:s.limittext?s.limittext:"",labTestLimitValue:s.limit?s.limit:"",selectedLabTestLimitFuel:t,selectedLabTestLimit:a,selectedLimitIndex:e,isLimitEdit:!0})}},this.onUpdateLabTestLimit=()=>{if(this.state.labTextLimitText&&this.state.labTestLimitValue&&this.state.selectedLabTestLimitFuel.length&&this.state.selectedLabTestLimit.length){let a={id:this.state.selectedLabTest.id};var e={},t=[];this.state.selectedLabTestLimitFuel.length&&(this.state.selectedLabTestLimitFuel.map(e=>t.push(e.id)),e.fuels=t),e.limittext=this.state.labTextLimitText,e.maxcomment=this.state.labTestLimitMaxComment,e.mincomment=this.state.labTestLimitMinComment,this.state.selectedLabTestLimit.length&&(e.limitype=this.state.selectedLabTestLimit[0].id),e.limit=this.state.labTestLimitValue,t=[];const s=this.state.selectedLabTest.limits;s.length&&s.map((e,a)=>a!==this.state.selectedLimitIndex&&t.push(e)),t.push(e),a.limits=t;let i={id:this.state.selectedLabTest.id},l=[];this.state.selectedLabTestResponseLimit.map((e,t)=>t!==this.state.selectedLimitIndex&&l.push(e)),i.limits=l,Object(Gt.confirmAlert)({title:"Update",message:"Are you sure you want to update",buttons:[{label:"Update",onClick:()=>{Tt.updateLabTest(i,e=>{Tt.updateLabTest(a,e=>{this._handleReset(),this.getLabTestById(a.id),this.getLabTestList()})})}},{label:"Cancel",onClick:()=>console.log("cancel update")}]})}else this.setState({labTestLimitAdditionError:"Please fill all fields to update limit"})},this._handleChangePage=(e,t)=>{this.setState({page:t})},this._handleChangeRowsPerPage=e=>{this.setState({rowsPerPage:+e.target.value}),this.setState({page:0})},this._renderLabTestLimit=()=>{const{classes:e}=this.props;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(Ot.a,{className:e.InputLabelGrey,id:"result-type-selection"},"Fuels for limit"),i.a.createElement(Dt.a,{labelId:"result-type-selection",id:"result-type-selection",multiple:!0,value:this.state.selectedLabTestLimitFuel?this.state.selectedLabTestLimitFuel:[],onChange:e=>{this._handleLimitFuelSelection(e),this.setState({labTestLimitAdditionError:""})},input:i.a.createElement(Vt.a,{id:"select-chip"}),renderValue:t=>i.a.createElement("div",{className:e.chips},t.map(t=>i.a.createElement(Mt.a,{key:t.id,label:t.name,className:e.chip}))),MenuProps:es},this.state.selectedFuelList.map(e=>i.a.createElement(X.a,{key:e.id,value:e},e.name))))),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(Ot.a,{className:e.InputLabelGrey,id:"result-type-selection"},"Limit type"),i.a.createElement(Dt.a,{labelId:"result-type-selection",id:"result-type-selection",single:!0,value:this.state.selectedLabTestLimit?this.state.selectedLabTestLimit:[],onChange:e=>{this._handleLimitSelection(e),this.setState({labTestLimitAdditionError:""})},input:i.a.createElement(Vt.a,{id:"select-chip"}),renderValue:t=>i.a.createElement("div",{className:e.chips},t.map(t=>i.a.createElement(Mt.a,{key:t.id,label:t.name,className:e.chip}))),MenuProps:es},ts.map(e=>i.a.createElement(X.a,{key:e.id,value:e},e.name))))),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>this.setState({labTextLimitText:e.target.value,labTestLimitAdditionError:""}),labelText:"Limit text",id:"labTextLimitText",inputProps:{type:"text",value:this.state.labTextLimitText},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({labTestLimitValue:e.target.value,labTestLimitAdditionError:""})},labelText:"Limit",id:"labTestLimitValue",inputProps:{type:"text",value:this.state.labTestLimitValue},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>this.setState({labTestLimitMinComment:e.target.value}),labelText:"Min Recommendation",id:"labTestLimitMinComment",inputProps:{type:"text",value:this.state.labTestLimitMinComment},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>this.setState({labTestLimitMaxComment:e.target.value}),labelText:"Max Recommendation",id:"labTestLimitMaxComment",inputProps:{type:"text",value:this.state.labTestLimitMaxComment},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement("h5",{style:{color:"red"}},this.state.labTestLimitAdditionError),this.state.isViewLabTest&&!this.state.isLimitEdit?i.a.createElement(Q,{onClick:()=>this.onCreateLimitLabTest(),color:"success"},"Add Limit"):null,this.state.isViewLabTest&&this.state.isLimitEdit?i.a.createElement(Q,{onClick:()=>this.onUpdateLabTestLimit(),color:"warning"},"Update"):null,this.state.isViewLabTest&&this.state.isLimitEdit?i.a.createElement(Q,{onClick:()=>this.setState({labTextLimitText:"",labTestLimitValue:"",selectedLabTestLimitFuel:[],selectedLabTestLimit:[],selectedLimitIndex:"",labTestLimitMinComment:"",labTestLimitMaxComment:"",isLimitEdit:!1}),color:"success"},"Reset"):null),i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement("div",{className:e.tableResponsive},i.a.createElement(et.a,{className:e.table},i.a.createElement(tt.a,{className:e.info},i.a.createElement(at.a,{className:e.tableHeadRow},i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"limittext"}," Limit text "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"limittype"}," Limit type "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"limit"}," Limit "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"fueladded"}," Fuels added "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"options"}," Options "))),i.a.createElement(st.a,null,this.state.selectedLabTestResponseLimit.length?this.state.selectedLabTestResponseLimit.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((t,a)=>i.a.createElement(at.a,{key:a,tabIndex:-1,className:e.tableBodyRow},i.a.createElement(it.a,{className:e.tableCell,key:"limittext"+a}," ",t.limittext," "),i.a.createElement(it.a,{className:e.tableCell,key:"limittype"+a}," ",t.limitype," "),i.a.createElement(it.a,{className:e.tableCell,key:"limit"+a}," ",t.limit," "),i.a.createElement(it.a,{className:e.tableCell,key:"fuels"+a}," ",t.fuels.length?t.fuels.length:0," "),i.a.createElement(it.a,{className:e.tableCell,key:"options"+a},i.a.createElement(Kt.a,{style:{color:$t.a[500]},onClick:()=>this.onDeleteLabTestLimit(a)}),i.a.createElement(qt.a,{onClick:()=>this.onUpdateLabTestLimitSelection(a)})))):"No laboratory test record found")),i.a.createElement(Bt.a,{component:"div",count:this.state.selectedLabTestResponseLimit.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this._handleChangePage,onChangeRowsPerPage:this._handleChangeRowsPerPage}))))},this.handleTableResetData=e=>{"delete"===e&&this.getLabTestList()},this._renderLabTestTab=()=>{const{classes:e}=this.props;return i.a.createElement(i.a.Fragment,null,i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Q,{onClick:()=>{this._handleReset(),this.setState({isCreateLabTest:!this.state.isCreateLabTest})},color:"info"},this.state.isCreateLabTest?"Return":"Create")),this.state.isCreateLabTest||this.state.isViewLabTest?i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement(_t,{color:"primary"},i.a.createElement("h4",{className:e.cardTitleWhite},this.state.isViewLabTest?"Laboratory test details":"Create Laboratory Test"),i.a.createElement("p",{className:e.cardCategoryWhite},this.state.isViewLabTest?"":"Complete new laboratory test form")),i.a.createElement(kt,null,i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({labTestName:e.target.value}),e.target.value,this.setState({labTestNameError:!1})},labelText:"Name",id:"labTestName",error:this.state.labTestNameError,inputProps:{type:"text",value:this.state.labTestName},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>this.setState({labTestMethod:e.target.value}),labelText:"Method",id:"labTestMethod",inputProps:{type:"text",value:this.state.labTestMethod},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>this.setState({labTestDLT:e.target.value}),labelText:"Default Limit Test ( Set default if test will have no limits )",id:"labTestDLT",inputProps:{type:"text",value:this.state.labTestDLT},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(Ot.a,{className:e.InputLabelGrey,id:"result-type-selection"},"Result type"),i.a.createElement(Dt.a,{labelId:"result-type-selection",id:"result-type-selection",single:!0,value:this.state.selectedResultType?this.state.selectedResultType:[],onChange:this._handleResultSelection,input:i.a.createElement(Vt.a,{id:"select-chip"}),renderValue:t=>i.a.createElement("div",{className:e.chips},t.map(t=>i.a.createElement(Mt.a,{key:t.id,label:t.name,className:e.chip}))),MenuProps:es},this.state.LabTestResultType.map(e=>i.a.createElement(X.a,{key:e.id,value:e},e.name))))),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(Ot.a,{className:e.InputLabelGrey,id:"fuel-selection"},"Fuel selection"),i.a.createElement(Dt.a,{labelId:"fuel-selection",id:"fuel-selection",multiple:!0,value:this.state.selectedFuelList?this.state.selectedFuelList:[],onChange:this._handleFuelSelection,input:i.a.createElement(Vt.a,{id:"select-fuel"}),renderValue:t=>i.a.createElement("div",{className:e.chips},t.map(t=>i.a.createElement(Mt.a,{key:t._id,label:t.name,className:e.chip}))),MenuProps:es},this.state.fuelList.map(e=>i.a.createElement(X.a,{key:e.id,value:e},e.name))))),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(Ot.a,{className:e.InputLabelGrey,id:"result-value-selection"},"Result value"),i.a.createElement(Dt.a,{labelId:"result-value-selection",id:"result-value-selection",single:!0,value:this.state.selectedResultValue?this.state.selectedResultValue:[],onChange:this._handleResultValueSelection,input:i.a.createElement(Vt.a,{id:"select-chip"}),renderValue:t=>i.a.createElement("div",{className:e.chips},t.map(t=>i.a.createElement(Mt.a,{key:t.id,label:t.name,className:e.chip}))),MenuProps:es},this.state.LabTestResultValue.map(e=>i.a.createElement(X.a,{key:e.id,value:e},e.name))))),this.state.showPredefinedValues?i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Predefined values",id:"resultValuesChip",inputProps:{type:"text",value:this.state.resultValue},onChange:this._handleResultValue,tabIndex:"0",onKeyDown:this._handlePredefinedValues,formControlProps:{fullWidth:!0}}),i.a.createElement("div",{className:e.chips},this.state.resultValues.map((t,a)=>i.a.createElement(Mt.a,{label:t,className:e.chip,onDelete:()=>this._handleDeleteResultValue(t)})))):i.a.createElement(ht,{style:{display:"none"}}))),i.a.createElement(Xt,null,i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement("h5",{style:{color:"red"}},this.state.labTestNameError?"Enter a Laboratory test name":""),this.state.isViewLabTest?null:i.a.createElement(Q,{onClick:()=>this.onCreateLabTest(),color:"success"},"Create"),this.state.isViewLabTest?i.a.createElement(Q,{onClick:()=>this.onUpdateLabTest(),color:"warning"},"Update"):null)))),i.a.createElement(Et,null,i.a.createElement(kt,null,this.state.isViewLabTest?this._renderLabTestLimit():null),i.a.createElement(Xt,null,i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},this.state.isViewLabTest?i.a.createElement(Q,{onClick:()=>this._handleReset(),color:"info"},"Reset"):null))))):null),this.state.isCreateLabTest&&this.state.isViewLabTest?null:i.a.createElement(Ja,{isLoading:this.state.isLoading,LabTestList:this.state.LabTestList,getLabTestById:e=>this.getLabTestById(e.id),handleReset:e=>this.handleTableResetData(e)}))},this.state=Za.a}render(){return this._renderLabTestTab()}}var ss=Object(Qe.a)(()=>wt)(as);class is extends i.a.Component{constructor(e){super(e),this.componentDidMount=()=>{this._onLoadData()},this._onLoadData=()=>{this.getShippingMethodList()},this._handleReset=()=>{this.setState({name:"",cost:"",duration:"",selectedMethod:{},isViewMethod:!1,nameError:!1,costError:!1,durationError:!1,isCreateMethod:!1})},this.createShippingMethod=()=>{if(this.state.name){const e={name:this.state.name,cost:parseInt(this.state.cost),duration:parseInt(this.state.duration)};Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to create "+this.state.name+" as a new Shipping Method",buttons:[{label:"Create",onClick:()=>{Tt.createShippingMethod(e,e=>{e&&(this._handleReset(),this.getShippingMethodList())})}},{label:"Cancel",onClick:()=>console.log("cancel delete")}]})}else this.setState({nameError:!0,costError:!0,durationError:!0})},this.getShippingMethodList=()=>{this.setState({isLoading:!0}),Tt.getShippingMethodList(e=>{e&&this.setState({ShippingList:e.data}),this.setState({isLoading:!1})})},this.getShippingMethodById=e=>{Tt.getShippingMethodById(e,e=>{e&&this.setState({isViewMethod:!0,selectedMethod:e,name:e.name,cost:e.cost,duration:e.duration})})},this.onDeleteMethod=e=>{Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to delete",buttons:[{label:"Delete",onClick:()=>{Tt.deleteShippingMethod(e,e=>{e&&(this._handleReset(),this.getShippingMethodList())})}},{label:"Cancel",onClick:()=>console.log("cancel delete")}]})},this.updateShippingMehtodById=e=>{if(this.state.name){const t={name:this.state.name,cost:parseInt(this.state.cost),duration:parseInt(this.state.duration),id:e};Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to update",buttons:[{label:"Update",onClick:()=>{Tt.updateShippingMehtodById(e,t,e=>{e&&this.getShippingMethodList()})}},{label:"Cancel",onClick:()=>console.log("cancel update")}]})}else this.setState({nameError:!0})},this._handleChangePage=(e,t)=>{this.setState({page:t})},this._handleChangeRowsPerPage=e=>{this.setState({rowsPerPage:+e.target.value}),this.setState({page:0})},this._renderShippingMethodTab=()=>{const{classes:e}=this.props;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Q,{onClick:()=>{this._handleReset(),this.setState({isCreateMethod:!this.state.isCreateMethod})},color:"info"},this.state.isCreateMethod?"Return":"Create")),this.state.isCreateMethod||this.state.isViewMethod?i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement(_t,{color:"primary"},i.a.createElement("h4",{className:e.cardTitleWhite},this.state.isViewMethod?"Shippimg Method details":"Create Shippimg Methods"),i.a.createElement("p",{className:e.cardCategoryWhite},this.state.isViewMethod?"":"Complete new shipping methods")),i.a.createElement(kt,null,i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({name:e.target.value}),e.target.value,this.setState({nameError:!1})},labelText:"Name",id:"name",error:this.state.nameError,inputProps:{type:"text",value:this.state.name},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({cost:e.target.value}),e.target.value,this.setState({costError:!1})},labelText:"Cost",id:"cost",error:this.state.costError,inputProps:{type:"test",value:this.state.cost},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({duration:e.target.value}),e.target.value,this.setState({durationError:!1})},labelText:"Duration",id:"duration",error:this.state.durationError,inputProps:{type:"test",value:this.state.duration},formControlProps:{fullWidth:!0}})))),i.a.createElement(Xt,null,i.a.createElement("h5",{style:{color:"red"}},this.state.nameError?"Enter a fuel name":""),this.state.isViewMethod?null:i.a.createElement(Q,{onClick:()=>this.createShippingMethod(),color:"success"},"Create"),this.state.isViewMethod?i.a.createElement(Q,{onClick:()=>this.updateShippingMehtodById(this.state.selectedMethod.id),color:"warning"},"Update"):null,this.state.isViewMethod?i.a.createElement(Q,{onClick:()=>this.onDeleteMethod(this.state.selectedMethod.id),color:"danger"},"Delete"):null,this.state.isViewMethod?i.a.createElement(Q,{onClick:()=>this._handleReset(),color:"info"},"Reset"):null))):null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Shipping Methods")),i.a.createElement(kt,null,this.state.isLoading?i.a.createElement(Je.a,{type:"ThreeDots",color:"#a5d1e6",height:50,width:50}):i.a.createElement("div",{className:e.tableResponsive},i.a.createElement(et.a,{className:e.table},i.a.createElement(tt.a,{className:e.info},i.a.createElement(at.a,{className:e.tableHeadRow},i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"name"},"Name"),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"cost"},"Cost"),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"duration"},"Duration"),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"options"},"Options"))),i.a.createElement(st.a,null,this.state.ShippingList?this.state.ShippingList.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((t,a)=>i.a.createElement(at.a,{hover:!0,key:a,tabIndex:-1,className:e.tableBodyRow},i.a.createElement(it.a,{className:e.tableCell,key:"name"+a},t.name),i.a.createElement(it.a,{className:e.tableCell,key:"cost"+a},t.cost),i.a.createElement(it.a,{className:e.tableCell,key:"duration"+a},t.duration),i.a.createElement(it.a,{className:e.tableCell,key:"options"+a},i.a.createElement(Kt.a,{style:{color:$t.a[500]},onClick:()=>this.onDeleteMethod(t.id)}),i.a.createElement(qt.a,{onClick:()=>this.getShippingMethodById(t.id)})))):" No fuel records found")),i.a.createElement(Bt.a,{component:"div",count:this.state.ShippingList.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this._handleChangePage,onChangeRowsPerPage:this._handleChangeRowsPerPage}))))))},this.state={ShippingList:[],name:"",cost:"",duration:"",selectedMethod:{},isViewMethod:!1,nameError:!1,costError:!1,durationError:!1,isCreateMethod:!1,page:0,rowsPerPage:10,isLoading:!0}}render(){return this._renderShippingMethodTab()}}var ls=Object(Qe.a)(()=>wt)(is);class ns extends i.a.Component{constructor(e){super(e),this.UNSAFE_componentWillMount=()=>this.onChangeTab(),this.onChangeTab=e=>{var t=null;switch(e&&(t=e.target.id),t){case"fuel":this.setState({onShowing:t,renderstate:i.a.createElement(Ya,null)});break;case"kit":this.setState({onShowing:t,renderstate:i.a.createElement(za,null)});break;case"labtest":this.setState({onShowing:t,renderstate:i.a.createElement(ss,null)});break;case"package":this.setState({onShowing:t,renderstate:i.a.createElement(Ba,null)});break;case"shippingMethod":this.setState({onShowing:t,renderstate:i.a.createElement(ls,null)});break;case"reportcomp":this.setState({onShowing:t,renderstate:i.a.createElement(Ua,null)});break;default:this.setState({onShowing:"fuel",renderstate:i.a.createElement(Ya,null)})}},this.state={onShowing:"",renderstate:null}}render(){return i.a.createElement("div",null,i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist"},i.a.createElement("li",{className:"nav-item"},i.a.createElement("a",{className:"fuel"===this.state.onShowing?" nav-link active":"nav-link",style:{fontSize:24},id:"fuel","data-toggle":"tab",href:"#fuel_manuplation",onClick:this.onChangeTab,role:"tab","aria-controls":"home","aria-selected":"true"},"Fuel")),i.a.createElement("li",{className:"nav-item"},i.a.createElement("a",{className:"labtest"===this.state.onShowing?" nav-link active":" nav-link",style:{fontSize:24},onClick:this.onChangeTab,id:"labtest","data-toggle":"tab",href:"#lab_test_manuplation",role:"tab","aria-controls":"profile","aria-selected":"false"},"Laboratory test")),i.a.createElement("li",{className:"nav-item"},i.a.createElement("a",{className:"kit"===this.state.onShowing?"nav-link active":"nav-link",style:{fontSize:24},onClick:this.onChangeTab,id:"kit","data-toggle":"tab",href:"#kit_manuplation",role:"tab","aria-controls":"profile","aria-selected":"false"},"Kit")),i.a.createElement("li",{className:"nav-item"},i.a.createElement("a",{className:"shippingMethod"===this.state.onShowing?"nav-link active":"nav-link",style:{fontSize:24},onClick:this.onChangeTab,id:"shippingMethod","data-toggle":"tab",href:"#shippingMethod_manuplation",role:"tab","aria-controls":"profile","aria-selected":"false"},"Shipping Method")),i.a.createElement("li",{className:"nav-item"},i.a.createElement("a",{className:"package"===this.state.onShowing?"nav-link active":"nav-link",style:{fontSize:24},onClick:this.onChangeTab,id:"package","data-toggle":"tab",href:"#package_manuplation",role:"tab","aria-controls":"contact","aria-selected":"false"},"Packages")),i.a.createElement("li",{className:"nav-item"},i.a.createElement("a",{className:"reportcomp"===this.state.onShowing?"nav-link active":"nav-link",style:{fontSize:24},onClick:this.onChangeTab,id:"reportcomp","data-toggle":"tab",href:"#Reporting_companies",role:"tab","aria-controls":"contact","aria-selected":"false"},"Reporting companies")))))),this.state.renderstate)}}var os=Object(Qe.a)(()=>wt)(ns);class rs extends i.a.Component{constructor(e){super(e),this.componentDidMount=()=>{this._getProfile()},this._getProfile=()=>{this.setState({isLoading:!0}),vt.getTokenUser(e=>{this.setState({name:e.fname+" "+e.surname,isLoading:!1})})},this.changePassword=()=>{this.setState({isDisabled:!0}),vt.changePassword(this.state.newPassword,()=>{this.setState({newPassword:"",newPasswordConfirm:"",isDisabled:!1})}),this.setState({isDisabled:!1})},this.state={name:"",newPassword:"",newPasswordConfirm:"",isDisabled:!1,isLoading:!0}}render(){return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:8},i.a.createElement(Et,null,i.a.createElement("form",null,i.a.createElement(kt,null,i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement("h5",null,"Hi, "+this.state.name)),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>this.setState({newPassword:e.target.value}),labelText:"New Password",id:"new-password",disabled:this.state.isDisabled,inputProps:{type:"test",value:this.state.emnewPasswordail},error:this.state.newPasswordError,formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>this.setState({newPasswordConfirm:e.target.value}),labelText:"Confirm Password",id:"new-password-confirm",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.newPasswordConfirm},error:this.state.newPassword!==this.state.newPasswordConfirm,formControlProps:{fullWidth:!0}}))))),i.a.createElement(Xt,null,i.a.createElement(Q,{disabled:!this.state.newPassword||this.state.newPassword!==this.state.newPasswordConfirm||this.state.isDisabled,onClick:()=>this.changePassword(),color:"primary"},"Update")))))}}var cs=Object(Qe.a)(()=>wt)(rs);class ds extends i.a.Component{constructor(e){super(e),this.componentDidMount=()=>{this.getSIFList()},this.getSIFList=()=>{this.setState({isLoading:!0});var e={limit:""};this.state.isPendingSIFView&&(e.filter="pending"),this.state.isCompletedSIFView&&(e.filter="completed"),Pt.getSIFList(e,e=>{if(e){const t=e.count;this.setState({sifList:e.sif||[],sifPendingCount:t.pending||0,sifCompletedCount:t.completed||0})}this.setState({isLoading:!1})})},this.getpdf=e=>{Pt.downloadpdf(e,()=>{})},this.mailpdf=e=>{Pt.sendMail({labid:e},e=>{})},this._handleReset=()=>{this.setState({page:0,rowsPerPage:10,multiLabIDSelected:[],mailEmail:""})},this._handleChangePage=(e,t)=>{this.setState({page:t})},this._handleChangeRowsPerPage=e=>{this.setState({rowsPerPage:+e.target.value}),this.setState({page:0})},this._handleSearchFilter=e=>{Pt.searchSIFListSingleParam(e.target.value,e=>{this.setState({sifList:e})})},this._handleMultiSelect=e=>{var t=this.state.multiLabIDSelected;e.target.checked?t.includes(e.target.id)||t.push(e.target.id):t.includes(e.target.id)&&(t=t.filter(t=>t!==e.target.id)),document.getElementById("select-all").checked=!1,this.setState({multiLabIDSelected:t})},this._handleSelectAll=e=>{if(this.state.sifList&&this.state.sifList.length>0){if(e.target.checked){var t=[];this.state.sifList.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((e,a)=>(document.getElementById(e.labid).checked=!0,t.push(e.labid))),this.setState({multiLabIDSelected:t})}}else document.getElementById("select-all").checked=!1},this._handleMultiSIFsend=()=>{this.state.multiLabIDSelected&&this.state.multiLabIDSelected.length&&this.state.mailEmail&&Pt.mailMultiPersonalSIF(this.state.multiLabIDSelected,[this.state.mailEmail],e=>{if(e){var t=[];this.state.sifList.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((e,a)=>(document.getElementById(e.labid).checked=!1,t.push(e.labid))),document.getElementById("select-all").checked=!1,this.setState({multiLabIDSelected:[],mailEmail:""})}})},this._renderMailOption=()=>i.a.createElement("div",null,i.a.createElement(ht,{xs:12,sm:12,md:4},i.a.createElement(oa,{labelText:"Enter Email Address",onChange:e=>{this.setState({mailEmail:e.target.value})},inputProps:{type:"text"},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:4},i.a.createElement(Q,{onClick:this._handleMultiSIFsend,color:"info"}," ","Email"," "))),this._renderSIFTable=()=>{const{classes:e}=this.props;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Reports")),i.a.createElement(kt,null,this.state.multiLabIDSelected.length?this._renderMailOption():null,this.state.isLoading?i.a.createElement(Je.a,{type:"ThreeDots",color:"#a5d1e6",height:50,width:50}):i.a.createElement("div",{className:e.tableResponsive},i.a.createElement(ht,{xs:12,sm:12,md:4},i.a.createElement(oa,{labelText:"Search",id:"search",onChange:this._handleSearchFilter,inputProps:{type:"text"},formControlProps:{fullWidth:!0}})),i.a.createElement(et.a,{className:e.table},i.a.createElement(tt.a,{className:e.info},i.a.createElement(at.a,{className:e.tableHeadRow},i.a.createElement(it.a,{className:e.tableCell,key:"check"},i.a.createElement("input",{id:"select-all",name:"select-all",type:"checkbox",onChange:this._handleSelectAll})),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"pdf"},"PDF"),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"labid"},"Lab ID"),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"labid"},"Sample ID"),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"customer"},"Location"),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"status"},"Status"),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"company"},"Released"))),i.a.createElement(st.a,null,this.state.sifList.length?this.state.sifList.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((t,a)=>i.a.createElement(at.a,{key:a,tabIndex:-1,className:e.tableBodyRow},i.a.createElement(it.a,{className:`${e.tableCell} ${e.tableHeadCell}`,key:"check"+a},i.a.createElement("input",{id:t.labid,type:"checkbox",onChange:this._handleMultiSelect})),i.a.createElement(it.a,{className:e.tableCell,key:a},i.a.createElement(nt.a,{onClick:()=>this.getpdf(t.labid)})),i.a.createElement(it.a,{className:e.tableCell,key:"labid"+a},t.labid),i.a.createElement(it.a,{className:e.tableCell,key:"labid"+a},t.sampleid," "),i.a.createElement(it.a,{className:e.tableCell,key:"work-order-location"+a}," ",t.customer," "),i.a.createElement(it.a,{className:e.tableCell,key:"status"+a},t.status," "),i.a.createElement(it.a,{className:e.tableCell,key:"company"+a},"  ",t.dateout?rt()(t.dateout).format("ll"):""," "))):i.a.createElement(at.a,null,"No records available"))),i.a.createElement(Bt.a,{component:"div",count:this.state.sifList.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this._handleChangePage,onChangeRowsPerPage:this._handleChangeRowsPerPage}))))))},this._renderHeader=()=>{const{classes:e}=this.props;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info",stats:!0,icon:!0},i.a.createElement(yt,{color:"info"},i.a.createElement(We.a,null,"P")),i.a.createElement("p",{className:e.cardCategory},"Pending test"),i.a.createElement("h3",{className:e.cardTitle},this.state.sifPendingCount," ")),i.a.createElement(Xt,{stats:!0},i.a.createElement("div",{className:e.stats},i.a.createElement("a",{href:"#filter_pending",onClick:()=>{this.setState({isPendingSIFView:!this.state.isPendingSIFView,isCompletedSIFView:!1},()=>{this.getSIFList()})}}," ",this.state.sifPendingCount?this.state.isPendingSIFView?"Show full":"View":"No results"," "))))),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Et,null,i.a.createElement(_t,{color:"success",stats:!0,icon:!0},i.a.createElement(yt,{color:"success"},i.a.createElement(We.a,null,"C")),i.a.createElement("p",{className:e.cardCategory},"Completed test"),i.a.createElement("h3",{className:e.cardTitle},this.state.sifCompletedCount)),i.a.createElement(Xt,{stats:!0},i.a.createElement("a",{href:"#filter_completed",onClick:()=>{this.setState({isPendingSIFView:!1,isCompletedSIFView:!this.state.isCompletedSIFView},()=>{this.getSIFList()})}}," ",this.state.sifCompletedCount?this.state.isCompletedSIFView?"Show full":"View":"No results"," ")))))},this.state={sifList:[],isLoading:!0,sifPendingCount:0,sifCompletedCount:0,page:0,rowsPerPage:10,multiLabIDSelected:[],mailEmail:""}}render(){return i.a.createElement("div",null,this._renderHeader(),this._renderSIFTable())}}var hs=Object(Qe.a)(()=>wt)(ds),ms=a(170);const ps={PaperProps:{style:{maxHeight:224,width:250}}},us={attention:"",bid_number:"",bcontact:"",location:"",isCreateOrder:!1,onShowOrderTab:!0,isEditOrder:!1,selectedManager:[],selectedShippingMethod:[],emailCollection:[],value:"",emailError:null,selectedKit:[],selectedKitID:"",selectedShippingMethodId:"",selectedManagerId:"",order_id:"",defaultLocation:"",isLocation:!1,address:"",city:"",state:"",country:"",zipcode:"",address_check:!1,ErrorMessage:"",shipping_name:"",shipping_address:"",shipping_city:"",shipping_state:"",shipping_country:"",shipping_zipcode:"",shipping_cost:"",tracking_id:"",selectedShippingService:[],selectedShippingServiceId:"",quantity:"",isShippingTrackable:!1,shipping_account:"",comment:"",return_lable_check:!1,return_label_quantity:"",return_label_cost:"",purchase_order:"",charge_card:!1,pendingOrderList:[],completeOrderList:[],isCompletedOrderView:!1,isPendingOrderView:!1,orderStatus:"",created_by:"",shipping_created_at:"",selectedPacking:[de.PRE_DEFINED_VALUES.PACKING[0]]};class gs extends i.a.Component{constructor(e){super(e),this.componentDidMount=()=>{this._onLoad()},this._onLoad=()=>{this._getOrderCountList(),this._getOrderList(),this._getLocationList(),this._getShippingMethodList(),this._getFuelKitList(),this._getManagerList(),this._getShippingSeviceList(),this._getPackaging()},this._getPackaging=()=>this.setState({packingList:de.PRE_DEFINED_VALUES.PACKING}),this._getOrderCountList=()=>{Pt.getOrderCountList(e=>{if(e){const a=e.data;try{this.setState({orderPendingCount:a.orders_pending||this.state.orderPendingCount,orderCompletedCount:a.orders_completed||this.state.orderCompletedCount})}catch(t){console.log(t)}}this.setState({isLoading:!1})})},this._handleReset=()=>{this.setState({attention:"",bid_number:"",bcontact:"",isCreateOrder:!0,location:"",onShowOrderTab:!0,selectedManager:[],selectedShippingMethod:[],selectedKit:[],emailCollection:[],value:"",emailError:null,selectedKitID:"",selectedShippingMethodId:"",selectedManagerId:"",order_id:"",defaultLocation:"",isEditOrder:!1,isLocation:!1,address:"",city:"",state:"",country:"",zipcode:"",address_check:!1,ErrorMessage:"",shipping_name:"",shipping_address:"",shipping_city:"",shipping_state:"",shipping_country:"",shipping_zipcode:"",shipping_cost:"",tracking_id:"",selectedShippingService:[],selectedShippingServiceId:"",quantity:"",isShippingTrackable:!1,shipping_account:"",comment:"",return_lable_check:!1,return_label_quantity:"",return_label_cost:"",purchase_order:"",charge_card:!1,pendingOrderList:[],completeOrderList:[],isCompletedOrderView:!1,isPendingOrderView:!1,orderStatus:"",created_by:"",shipping_created_at:"",selectedPacking:[de.PRE_DEFINED_VALUES.PACKING[0]]})},this._getOrderList=()=>{this.setState({isSIFLoading:!0});var e={};this.state.isPendingOrderView&&(e.sortStatus="pending"),this.state.isCompletedOrderView&&(e.sortStatus="shipped"),Pt.getOrderList(e,t=>{if(t)try{this.setState({orderStatus:e.sortStatus,orderList:t.data||[]})}catch(a){console.log(a)}this.setState({isLoading:!1})})},this._getManagerList=()=>{vt.getUsersList("manager",!1,e=>{e&&this.setState({managerList:e})})},this._getShippingMethodList=()=>{Tt.getShippingMethodList(e=>{e&&this.setState({ShippingList:e.data})})},this._getFuelKitList=()=>{Tt.getKitList(e=>{e&&this.setState({kitList:e})})},this._getLocationList=()=>{vt.getAllLocation(e=>{e&&e.data&&e.data.length&&this.setState({locationList:e.data||[]})})},this._getShippingSeviceList=()=>{Pt.getShippingSeviceList(e=>{this.setState({shippingServiceList:[{name:"Select One"}].concat(e.data||[])})})},this._handleLocationSelection=e=>{if(e){var t={address:"",city:"",state:"",country:""};"undefined"!==e.address&&null!==e.address&&""!==e.address&&(t.address=e.address+", "||!1),"undefined"!==e.city&&null!==e.city&&""!==e.city&&(t.city=e.city+", "||!1),"undefined"!==e.state&&null!==e.state&&""!==e.state&&(t.state=e.state+", "||!1),"undefined"!==e.country&&null!==e.country&&""!==e.country&&(t.country=e.country+", "||!1);var a=[];e.email&&e.email.length>0&&e.email.map(e=>void 0!==e&&"undefined"!==e&&null!==e&&""!==e&&a.push(e)),void 0!==e.primaryemail&&"undefined"!==e.primaryemail&&null!==e.primaryemail&&""!==e.primaryemail&&a.push(e.primaryemail),this.setState({ErrorMessage:"",address_check:!1,location:e._id,address:e.address,city:e.city,state:e.state,country:e.country,zipcode:e.zipcode,phone:e.phone,bcontact:e.phone.toString().slice(0,3)+"-"+e.phone.toString().slice(3,6)+"-"+e.phone.toString().slice(6,10),emailCollection:a||[],isLocation:!0,defaultLocation:e.name})}},this._handleKitSelection=e=>{this.setState({ErrorMessage:"",selectedKit:[e.target.value],selectedKitID:e.target.value.id})},this._handleShippingMethodSelection=e=>{this.setState({ErrorMessage:"",selectedShippingMethod:[e.target.value],selectedShippingMethodId:e.target.value.id})},this._handleManagerSelection=e=>{this.setState({selectedManager:[e.target.value],selectedManagerId:e.target.value.id})},this._handleSelectShippingAddress=()=>{!1===this.state.address_check?this.setState({ErrorMessage:"",address_check:!0,shipping_name:this.state.defaultLocation,shipping_address:this.state.address,shipping_city:this.state.city,shipping_state:this.state.state,shipping_country:this.state.country,shipping_zipcode:this.state.zipcode}):!0===this.state.address_check&&this.setState({ErrorMessage:"",address_check:!1})},this._handlePackingSelection=e=>{this.setState({selectedPacking:e.target.value?[e.target.value]:[de.PRE_DEFINED_VALUES.PACKING[0]]})},this._handleShippingSeviceSelection=e=>{!0===e.target.value.trackable?this.setState({isShippingTrackable:!0,tracking_id:""}):!1===e.target.value.trackable&&this.setState({isShippingTrackable:!1,tracking_id:""}),this.setState({selectedShippingService:[e.target.value],selectedShippingServiceId:e.target.value.id,ErrorMessage:""})},this._handleSelectReturnLabel=()=>{!0===this.state.return_lable_check?this.setState({return_lable_check:!1}):!1===this.state.return_lable_check&&this.setState({return_lable_check:!0})},this._handleSearchFilter=e=>{this.setState({isLoading:!0}),Pt.searchOrder(e.target.value,e=>{e&&this.setState({orderList:e.data,page:0})}),this.setState({isLoading:!1})},this._handleSelectChargeCard=()=>{!0===this.state.charge_card?this.setState({charge_card:!1}):!1===this.state.charge_card&&this.setState({charge_card:!0})},this._handleTrackingURL=e=>{const t=e.shipping_service_url,a=e.shipping_service_payload,s=e.shipping_service_key,i=a.substring(1,a.length-1).replace(/\s/g,"");let l="";"{}"===a?l=t+"?"+s+"="+e.tracking_id:a!=={}&&(l=t+"?"+i+"&&"+s+"="+e.tracking_id),e.shipping_service_url&&window.open(l)},this.handleKeyDown=e=>{if(["Enter","Tab",","].includes(e.key)){e.preventDefault();var t=this.state.value.trim();t&&this._handleEmailIsValid(t)&&this.setState({emailCollection:[...this.state.emailCollection,this.state.value],value:""})}},this._handleEmailAddChange=e=>{this.setState({value:e.target.value,emailError:null})},this._handleEmailRemoveChange=e=>{this.setState({emailCollection:this.state.emailCollection.filter(t=>t!==e)})},this._handleEmailPasteChange=e=>{e.preventDefault();var t=e.clipboardData.getData("text").match(/[\w\d\.-]+@[\w\d\.-]+\.[\w\d\.-]+/g);if(t){var a=t.filter(e=>!this._handleEmailIsInList(e));this.setState({emailCollection:[...this.state.emailCollection,...a]})}},this.NumberFormatCustom=e=>{const{inputRef:t,onChange:a,...s}=e;return i.a.createElement(ms.a,Object.assign({},s,{getInputRef:t,onValueChange:t=>{a({target:{name:e.name,value:t.value}})},isNumericString:!0,prefix:"$",decimalScale:2,fixedDecimalScale:!0}))},this._handleChangePage=(e,t)=>{this.setState({page:t})},this._handleChangeRowsPerPage=e=>{this.setState({rowsPerPage:parseInt(+e.target.value)}),this.setState({page:0})},this._onCreateOrderKit=()=>{let e={location:this.state.location||null,shipping_method:this.state.selectedShippingMethodId||null,shipping_address:this.state.shipping_address,shipping_city:this.state.shipping_city,shipping_state:this.state.shipping_state,shipping_country:this.state.shipping_country,shipping_zipcode:this.state.shipping_zipcode,email:this.state.emailCollection,attention:this.state.attention,phone:this.state.bcontact||" ",bid_number:this.state.bid_number,kit:this.state.selectedKitID||null,manager:this.state.selectedManagerId||null,shipping_service:this.state.selectedShippingServiceId||null,quantity:this.state.quantity,shipping_account:this.state.shipping_account,comment:this.state.comment,return_label_quantity:this.state.return_label_quantity||null,return_label_cost:this.state.return_label_cost||null,purchase_order:this.state.purchase_order,charge_card:this.state.charge_card,shipping_name:this.state.shipping_name,shipping_cost:this.state.shipping_cost||null,isShippingTrackable:this.state.isShippingTrackable,tracking_id:this.state.tracking_id,packing:""};this.state.selectedPacking[0]!=this.state.packingList[0]&&(e.packing=this.state.selectedPacking[0]),Pt.createOrder(e,e=>{e&&(this._handleReset(),this._getOrderCountList(),this._getOrderList())})},this.getOrderbyID=e=>{this._handleReset();let t=[de.PRE_DEFINED_VALUES.PACKING[0]],a=this.state.address_check,s=this.state.return_lable_check;Pt.getOrderById(e,e=>{e&&(this.state.locationList.map(t=>(e.location_name!==t.name&&e.location!==t.id||this.setState({defaultLocation:t.name,isLocation:!0,address:t.address,city:t.city,state:t.state,country:t.country,zipcode:t.zipcode,phone:t.phone}),t.address===e.shipping_address&&t.city===e.shipping_city&&t.state===e.shipping_state&&t.country===e.shipping_country&&t.zipcode==e.shipping_zipcode&&(a=!0),!1)),this.state.kitList.map(t=>(e.kit===t.id&&(this.state.selectedKit=[t]),!1)),null===e.return_label_quantity&&null===e.return_label_cost||(s=!0),null!==e.manager&&this.state.managerList.map(t=>(e.manager===t.id&&(this.state.selectedManager=[t]),!1)),null!==e.shipping_service&&this.state.shippingServiceList.map(t=>(e.shipping_service===t.id&&(this.state.selectedShippingService=[t]),!0===t.trackable&&this.setState({isShippingTrackable:t.trackable}),!1)),null!==e.shipping_method&&this.state.ShippingList.map(t=>(e.shipping_method===t.id&&(this.state.selectedShippingMethod=[t]),!1)),this.state.address===e.shipping_address&&this.state.city===e.shipping_city&&this.state.state===e.shipping_state&&this.state.country===e.shipping_country&&this.state.zipcode==e.shipping_zipcode&&(a=!0),e.packing&&(t=[e.packing]),this.setState({isEditOrder:!0,attention:e.attention,bid_number:e.bid_number,charge_card:e.charge_card,comment:e.comment,created_by:e.created_by_fname&&e.created_by_surname?e.created_by_fname+" "+e.created_by_surname:null,emailCollection:e.email,selectedKitID:e.kit,location:e.location,selectedManagerId:e.manager,order_id:e.order_id,bcontact:e.phone,purchase_order:e.purchase_order,quantity:e.quantity,return_label_cost:e.return_label_cost,return_label_quantity:e.return_label_quantity,selectedShippingMethodId:e.shipping_method,selectedShippingServiceId:e.shipping_service,shipping_name:e.shipping_name,shipping_account:e.shipping_account,shipping_address:e.shipping_address,shipping_city:e.shipping_city,shipping_country:e.shipping_country,shipping_state:e.shipping_state,shipping_zipcode:e.shipping_zipcode,tracking_id:e.tracking_id,shipping_created_at:e.shipping_created_at?rt()(e.shipping_created_at).tz("America/Los_Angeles").format("MMM DD, YYYY"):"",address_check:a,return_lable_check:s,selectedPacking:t}),null!==e.shipping_cost&&e.shipping_cost.$numberDecimal?this.setState({shipping_cost:e.shipping_cost.$numberDecimal}):null!==e.shipping_cost&&this.setState({shipping_cost:e.shipping_cost}))})},this.updateOrderById=()=>{let e={location:this.state.location||null,shipping_method:this.state.selectedShippingMethodId||null,shipping_address:this.state.shipping_address,shipping_city:this.state.shipping_city,shipping_state:this.state.shipping_state,shipping_country:this.state.shipping_country,shipping_zipcode:this.state.shipping_zipcode,email:this.state.emailCollection,attention:this.state.attention,phone:this.state.bcontact||" ",bid_number:this.state.bid_number,kit:this.state.selectedKitID,manager:this.state.selectedManagerId||null,tracking_id:this.state.tracking_id,shipping_service:this.state.selectedShippingServiceId||null,quantity:this.state.quantity,shipping_account:this.state.shipping_account,comment:this.state.comment,return_label_quantity:this.state.return_label_quantity||null,return_label_cost:this.state.return_label_cost||null,purchase_order:this.state.purchase_order,charge_card:this.state.charge_card,shipping_name:this.state.shipping_name,shipping_cost:this.state.shipping_cost||null,isShippingTrackable:this.state.isShippingTrackable,packing:""};this.state.selectedPacking[0]!=this.state.packingList[0]&&(e.packing=this.state.selectedPacking[0]),Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to update",buttons:[{label:"Update",onClick:()=>{Pt.updateOrderById(this.state.order_id,e,e=>{e&&(this.setState({tracking_id:e.tracking_id}),this._getOrderCountList(),this._getOrderList())})}},{label:"Cancel",onClick:()=>console.log("cancel update")}]})},this.deleteOrder=e=>{Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to delete",buttons:[{label:"Delete",onClick:()=>{Pt.deleteOrder(e,e=>{e&&(this._getOrderList(),this._getOrderCountList())})}},{label:"Cancel",onClick:()=>console.log("cancel delete")}]})},this._renderHeader=()=>{const{classes:e}=this.props;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info",stats:!0,icon:!0},i.a.createElement(yt,{color:"info"},i.a.createElement(We.a,null,"P")),i.a.createElement("p",{className:e.cardCategory},"Pending Orders"),i.a.createElement("h3",{className:e.cardTitle},this.state.orderPendingCount)),this.state.isLoading?null:i.a.createElement(Xt,{stats:!0},i.a.createElement("a",{href:"#filter_pending",onClick:e=>{this.setState({isPendingOrderView:!this.state.isPendingOrderView,isCompletedOrderView:!1},()=>{this._getOrderList()})}},this.state.orderPendingCount?this.state.isPendingOrderView?"Show full":"View":"No results")))),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Et,null,i.a.createElement(_t,{color:"success",stats:!0,icon:!0},i.a.createElement(yt,{color:"success"},i.a.createElement(We.a,null,"C")),i.a.createElement("p",{className:e.cardCategory},"Completed Orders"),i.a.createElement("h3",{className:e.cardTitle},this.state.orderCompletedCount)),this.state.isLoading?null:i.a.createElement(Xt,{stats:!0},i.a.createElement("a",{href:"#filter_completed",onClick:e=>{this.setState({isPendingOrderView:!1,isCompletedOrderView:!this.state.isCompletedOrderView},()=>{this._getOrderList()})}},this.state.orderCompletedCount?this.state.isCompletedOrderView?"Show full":"View":"No results"," ")))),i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist"},i.a.createElement("li",{className:"nav-item"},i.a.createElement("a",{className:this.state.onShowOrderTab?" nav-link active":"nav-link",style:{fontSize:24},id:"home-tab","data-toggle":"tab",href:"#Order",role:"tab","aria-controls":"home","aria-selected":"true"},"Order Kit"))))),i.a.createElement(ht,{xs:6,sm:6,md:6},"  ",i.a.createElement(Q,{onClick:()=>{this._handleReset(),this.setState({isCreateOrder:!this.state.isCreateOrder})},color:"info"}," ",this.state.isCreateOrder?" Return ":"Create Order"," ")," "))},this._renderOrderForm=()=>{const{classes:e}=this.props,t={name:this.state.defaultLocation};return i.a.createElement(Et,null,i.a.createElement(_t,{color:"primary"},"    ",i.a.createElement("h4",{className:e.cardTitleWhite},"      ",this.state.isEditOrder?"Edit Order "+this.state.order_id:"Create Order Kit Form","  "),i.a.createElement("p",{className:e.cardCategoryWhite}," Complete order form ")),i.a.createElement(kt,null,i.a.createElement(pt,null,this.state.isLocation?null:i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(ua,{id:"location-type-selection",onChange:(e,t)=>this._handleLocationSelection(t),options:this.state.locationList,getOptionLabel:e=>e.name,style:{backgroundColor:"white"},autoComplete:!0,includeInputInList:!0,renderInput:e=>i.a.createElement(Ut.a,Object.assign({},e,{label:"Location",variant:"outlined"}))}))),this.state.isLocation?i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(ua,{id:"location-type-selection",onChange:(e,t)=>this._handleLocationSelection(t),value:t,options:this.state.locationList,getOptionLabel:e=>e.name,disablePortal:!0,includeInputInList:!0,autoComplete:!0,renderInput:e=>i.a.createElement(Ut.a,Object.assign({},e,{label:"Location",variant:"outlined"}))}))):null,i.a.createElement("br",null),i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement("br",null),"  Present Address   "),i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(oa,{labelText:"Address",onChange:e=>{this.setState({address:e.target.value})},id:"address",inputProps:{type:"text",value:this.state.address,disabled:!0},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"City",onChange:e=>{this.setState({city:e.target.value})},id:"city",inputProps:{type:"text",value:this.state.city,disabled:!0},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"State",onChange:e=>{this.setState({state:e.target.value})},id:"state",inputProps:{type:"text",value:this.state.state,disabled:!0},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Country",onChange:e=>{this.setState({country:e.target.value})},id:"country",inputProps:{type:"text",value:this.state.country,disabled:!0},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Zip Code",onChange:e=>{this.setState({zipcode:e.target.value})},id:"zipcode",inputProps:{type:"text",value:this.state.zipcode,disabled:!0},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement("br",null),i.a.createElement(Ht.a,{control:i.a.createElement(Wt.a,{defaultChecked:!0,color:"default",checked:this.state.address_check,onChange:this._handleSelectShippingAddress,inputProps:{"aria-label":"checkbox with default color"}}),label:" Click here if the shipping address same as present address"})),i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement("br",null),"  Shipping Address  "),i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(oa,{labelText:"Location Name",onChange:e=>{this.setState({shipping_name:e.target.value})},id:"shipping_name",inputProps:{type:"text",value:this.state.shipping_name},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(oa,{labelText:"Shipping Address",onChange:e=>{this.setState({shipping_address:e.target.value})},id:"shipping_address",inputProps:{type:"text",value:this.state.shipping_address},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Shipping City",onChange:e=>{this.setState({shipping_city:e.target.value})},id:"shipping_city",inputProps:{type:"text",value:this.state.shipping_city},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Shipping State",onChange:e=>{this.setState({shipping_state:e.target.value})},id:"shipping_state",inputProps:{type:"text",value:this.state.shipping_state},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Shipping Country",onChange:e=>{this.setState({shipping_country:e.target.value})},id:"shipping_country",inputProps:{type:"text",value:this.state.shipping_country},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Shipping Zipcode",onChange:e=>{this.setState({shipping_zipcode:e.target.value})},id:"shipping_zipcode",inputProps:{type:"text",value:this.state.shipping_zipcode},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Billing Contact",onChange:e=>{this.setState({bcontact:e.target.value})},id:"bcontact",inputProps:{type:"text",value:this.state.bcontact},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(ca,{id:"email",disabled:!0,inputProps:{type:"text",value:this.state.value},labelText:"Billing Email",onKeyDown:this.handleKeyDown,onChange:this._handleEmailAddChange,onPaste:this._handleEmailPasteChange,formControlProps:{fullWidth:!0}}),null!==this.state.emailError?i.a.createElement("span",{style:{color:"red"}},this.state.emailError):null,this.state.emailCollection.map((t,a)=>i.a.createElement("div",{className:e.chips,key:t},"   ",i.a.createElement(Mt.a,{onClick:()=>this._handleEmailRemoveChange(t),key:a,label:t+"  X",className:e.chip})))),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"BId Number",onChange:e=>{this.setState({bid_number:e.target.value})},id:"bid_number",inputProps:{type:"text",value:this.state.bid_number},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Purchase order",onChange:e=>{this.setState({purchase_order:e.target.value})},id:"purchase_order",inputProps:{type:"text",value:this.state.purchase_order},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement("br",null),i.a.createElement(Ft.a,{fullWidth:!0},i.a.createElement(Ut.a,{label:"Total Cost",value:this.state.shipping_cost,onChange:e=>{this.setState({shipping_cost:e.target.value})},name:"shipping_cost",id:"formatted-numberformat-input",InputProps:{inputComponent:this.NumberFormatCustom}}))),i.a.createElement(ht,{xs:12,sm:12,md:6}),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement("br",null),i.a.createElement(Ht.a,{control:i.a.createElement(Wt.a,{defaultChecked:!0,color:"default",checked:this.state.charge_card,onChange:this._handleSelectChargeCard,inputProps:{"aria-label":"checkbox with default color"}}),label:"Charge Card on File"})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement("br",null),i.a.createElement(Ht.a,{control:i.a.createElement(Wt.a,{defaultChecked:!0,color:"default",checked:this.state.return_lable_check,onChange:this._handleSelectReturnLabel,inputProps:{"aria-label":"checkbox with default color"}}),label:" Return Label"})),this.state.return_lable_check?i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Quantity",onChange:e=>{this.setState({return_label_quantity:e.target.value})},id:"return_label_quantity",inputProps:{type:"text",value:this.state.return_label_quantity},formControlProps:{fullWidth:!0}})):null,this.state.return_lable_check?i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement("br",null),i.a.createElement(Ft.a,{fullWidth:!0},i.a.createElement(Ut.a,{label:"Cost",value:this.state.return_label_cost,onChange:e=>{this.setState({return_label_cost:e.target.value})},name:"return_label_cost",id:"formatted-numberformat-input",InputProps:{inputComponent:this.NumberFormatCustom}}))):null,i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(Ot.a,{className:e.InputLabelGrey,id:"manager-selection"},"Manager"),i.a.createElement(Dt.a,{labelId:"manager-selection",id:"manager-selection",name:"manager-selection",single:!0,value:this.state.selectedManager?this.state.selectedManager:null,onChange:this._handleManagerSelection,input:i.a.createElement(Vt.a,{id:"select-multiple-chip"}),renderValue:t=>i.a.createElement("div",{className:e.chips},"    ",t.map(t=>i.a.createElement(Mt.a,{key:t.id,label:t.fname,className:e.chip})),"    "),MenuProps:ps},this.state.managerList.map(e=>i.a.createElement(X.a,{key:e.id,value:e},"  ",e.fname,"  "))))),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(Ot.a,{className:e.InputLabelGrey,id:"shipping-selection"},"Shipping Method"),i.a.createElement(Dt.a,{labelId:"shipping-selection",id:"shipping-selection",name:"shipping-selection",single:!0,value:this.state.selectedShippingMethod,onChange:this._handleShippingMethodSelection,input:i.a.createElement(Vt.a,{id:"select-multiple-chip"}),renderValue:t=>i.a.createElement("div",{className:e.chips}," ",t.map(t=>i.a.createElement(Mt.a,{key:t.id,label:t.name,className:e.chip})),"  "),MenuProps:ps},this.state.ShippingList.map(e=>i.a.createElement(X.a,{key:e.id,value:e},"    ",e.name," "))))),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(Ot.a,{className:e.InputLabelGrey,id:"kit-selection"},"Kit"),i.a.createElement(Dt.a,{labelId:"kit-selection",id:"kit-selection",name:"kit-selection",single:!0,value:this.state.selectedKit,onChange:this._handleKitSelection,input:i.a.createElement(Vt.a,{id:"select-multiple-chip"}),renderValue:t=>i.a.createElement("div",{className:e.chips},"  ",t.map(t=>i.a.createElement(Mt.a,{key:t.id,label:t.name,className:e.chip})),"  "),MenuProps:ps},this.state.kitList.map(e=>i.a.createElement(X.a,{key:e.id,value:e},"   ",e.name,"  "))))),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Quantity",onChange:e=>{this.setState({quantity:e.target.value})},id:"quantity",inputProps:{type:"number",value:this.state.quantity},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(Ot.a,{className:e.InputLabelGrey,id:"packing-selection"},"Packing"),i.a.createElement(Dt.a,{labelId:"packing-selection",id:"packing-selection",name:"packing-selection",single:!0,value:this.state.selectedPacking,onChange:this._handlePackingSelection,input:i.a.createElement(Vt.a,{id:"select-packing-chip"}),renderValue:t=>i.a.createElement("div",{className:e.chips},"  ",t.map((t,a)=>i.a.createElement(Mt.a,{key:a,label:t,className:e.chip})),"  "),MenuProps:ps},this.state.packingList.map((e,t)=>i.a.createElement(X.a,{key:"packing-"+t,value:e},e))))),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(Ot.a,{className:e.InputLabelGrey,id:"shipping-selection"},"Shipping Service"),i.a.createElement(Dt.a,{labelId:"shipping-selection",id:"shipping-selection",name:"shipping-selection",single:!0,value:this.state.selectedShippingService,onChange:this._handleShippingSeviceSelection,input:i.a.createElement(Vt.a,{id:"select-multiple-chip"}),renderValue:t=>i.a.createElement("div",{className:e.chips},"  ",t.map(t=>i.a.createElement(Mt.a,{key:t.id,label:t.name,className:e.chip})),"  "),MenuProps:ps},this.state.shippingServiceList.map(e=>i.a.createElement(X.a,{key:e.id,value:e},"  ",e.name," "))))),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Tracking ID",onChange:e=>{this.setState({tracking_id:e.target.value})},id:"tracking_id",inputProps:{type:"text",value:this.state.tracking_id},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Shipping Account",onChange:e=>{this.setState({shipping_account:e.target.value})},id:"shipping_account",inputProps:{type:"text",value:this.state.shipping_account},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Attention",onChange:e=>{this.setState({attention:e.target.value})},id:"attention",inputProps:{type:"text",value:this.state.attention},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(oa,{labelText:"Comment",onChange:e=>{this.setState({comment:e.target.value})},id:"comment",inputProps:{type:"text",value:this.state.comment},formControlProps:{fullWidth:!0}}))),!0===this.state.isEditOrder?null===this.state.created_by?null:i.a.createElement(i.a.Fragment,null,i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement("p",{style:{paddingTop:15}},i.a.createElement("b",null,"Shipped At : "),this.state.shipping_created_at))),i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement("p",{style:{paddingTop:15}},i.a.createElement("b",null,"Created By : "),this.state.created_by)))):null),i.a.createElement(Xt,null,this.state.ErrorMessage?i.a.createElement("h5",{style:{color:"red"}},this.state.ErrorMessage):null,i.a.createElement(Q,{onClick:this._handleReset,color:"danger"},"Reset"),this.state.isEditOrder?null:i.a.createElement(Q,{onClick:this._onCreateOrderKit,color:"success"}," Create Order "),this.state.isEditOrder?i.a.createElement(Q,{onClick:this.updateOrderById,color:"warning"}," Update Order "):null))},this._renderOrderKitTable=()=>{const{classes:e}=this.props;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"pending"===this.state.orderStatus?"Pending  Order Kit":"shipped"===this.state.orderStatus?"Shipped Order Kit":"Available  Order Kit")),i.a.createElement(kt,null,this.state.isLoading?i.a.createElement(ht,{xs:12,sm:12,md:4},"  ",i.a.createElement(Je.a,{type:"ThreeDots",color:"#a5d1e6",height:50,width:50}),"  "):i.a.createElement("div",null,i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:4},i.a.createElement(oa,{labelText:"Search",id:"search",onChange:this._handleSearchFilter,inputProps:{type:"text"},formControlProps:{fullWidth:!0}}))),i.a.createElement("div",{className:e.tableResponsive},i.a.createElement(et.a,{className:e.table},i.a.createElement(tt.a,{className:e.info},i.a.createElement(at.a,{className:e.tableHeadRow},i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"orderId"},"Order ID "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"shipping_address",width:"130"},"  Location Name "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"kitName"}," Kit "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"quantity"},"Quantity "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"shipping_service_name",width:"140"}," Shipping Service "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"tracking_id"}," Tracking Id "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"status"},"Status"),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"created-on"},"Created on"),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"option"}," Options "))),i.a.createElement(st.a,null,this.state.orderList.length?this.state.orderList.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((t,a)=>i.a.createElement(at.a,{key:a,tabIndex:-1,className:e.tableBodyRow},i.a.createElement(it.a,{className:e.tableCell,key:"orderId"+a}," ",t.order_id," "),i.a.createElement(it.a,{className:e.tableCell,key:"shipping_address"+a},t.location_name," "),i.a.createElement(it.a,{className:e.tableCell,key:"kitName"+a},"  ",t.kit_name," "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"quantity"},t.quantity||null," "),i.a.createElement(it.a,{className:e.tableCell,key:"shipping_service_name"+a}," ",t.shipping_service_name||null,"  "),i.a.createElement(it.a,{className:e.tableCell,key:"tracking_id"+a},i.a.createElement(De.a,{className:e.urlLink,onClick:()=>this._handleTrackingURL(t)}," ",i.a.createElement("b",null,"  ",t.tracking_id||null)," ")),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"status"}," ",t.shipping_service_name?"Shipped":"Pending"," "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"created-at-"+a}," ",t.createdAt?rt()(t.createdAt).tz("America/Los_Angeles").format("MMM DD, YYYY"):""," "),i.a.createElement(it.a,{className:e.tableCell,key:"option"+a},i.a.createElement(Kt.a,{onClick:()=>this.deleteOrder(t.order_id),style:{color:$t.a[500]}}),i.a.createElement(qt.a,{onClick:()=>this.getOrderbyID(t.order_id)})))):i.a.createElement(at.a,null,"No records available"))),i.a.createElement(Bt.a,{component:"div",count:this.state.orderList.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this._handleChangePage,onChangeRowsPerPage:this._handleChangeRowsPerPage})))))))},this.state={...us,locationList:[],orderList:[],kitList:[],managerList:[],ShippingList:[],shippingServiceList:[],isLoading:!0,orderCompletedCount:0,orderPendingCount:0,page:0,rowsPerPage:10,packingList:[]}}_handleEmailIsValid(e){let t=null;return this._handleEmailIsInList(e)&&(t=e+" has already been added."),this._handleEmailIsIsEmail(e)||(t=e+" is not a valid email address."),!t||(this.setState({emailError:t}),!1)}_handleEmailIsInList(e){return this.state.emailCollection.includes(e)}_handleEmailIsIsEmail(e){return/[\w\d\.-]+@[\w\d\.-]+\.[\w\d\.-]+/.test(e)}render(){return i.a.createElement("div",null,this._renderHeader(),this.state.isCreateOrder?this._renderOrderForm():null,this.state.onShowOrderTab?this._renderOrderKitTable():null)}}var Es=Object(Qe.a)(()=>wt)(gs),bs=a(373);const Cs={PaperProps:{style:{maxHeight:224,width:250}}};class _s extends i.a.Component{constructor(e){super(e),this.componentDidMount=()=>{this._onLoad(),vt.getAllLocation(e=>{e&&e.data&&e.data.length&&this.setState({locationList:e.data||[]})})},this._onLoad=()=>{this._getCheckoutList(),Tt.getAdminChecklist(e=>{e&&this.setState({checklist:e||[]})}),this._getCheckoutTestList()},this._handleReset=()=>{this.setState({isCreateCheckoutlist:!0,isEditCheckoutList:!1,tank_id:"",sample_id:"",location:null,isOrderLoading:!1,page:0,rowsPerPage:10,checkout_id:"",selected_checklists:[],updated_by:"",on_date:"",isLocation:!1,defaultLocation:"",inspector_name:"",comment:"",test_values:[],selectedTest_value:"",test:null,defaultselectedTest:"",selectSingleTestValue:""}),this.state.checklist.map((e,t)=>(e.sub_categorys.map(e=>(this.state[e._id]=!1,!1)),!1)),this._getCheckoutList()},this._handleLocationSelection=e=>{e&&this.setState({location:e.id,defaultLocation:e.name})},this._getCheckoutList=()=>{Pt.getCheckoutList(e=>{e&&(this.setState({checkoutList:e.data}),this.setState({isLoading:!1}))})},this._getCheckoutTestList=()=>{Pt.getCheckoutTestList(e=>{e&&(this.setState({checkoutTestList:e.data}),this.setState({isLoading:!1}))})},this._handleTestSelection=e=>(null===e||(this.setState({selectedTest_value:""}),e.values&&1===e.values.length?this.setState({selectedTest_value:e.values[0],test_values:e.values,test:e.id,defaultselectedTest:e.name}):e.values&&1!==e.values.length&&this.setState({test_values:e.values,test:e.id,defaultselectedTest:e.name})),!1),this._handleTestValueSelection=e=>{this.setState({selectedTest_value:e.target.value})},this._onCreateCheckout=()=>{if(this.state){let e={location:this.state.location||null,sample_id:this.state.sample_id,tracking_id:this.state.tank_id,selected_checklists:this.state.selected_checklists||[],inspector_name:this.state.inspector_name,comment:this.state.comment,test:this.state.test,test_value:this.state.selectedTest_value};Pt.createCheckout(e,e=>{e&&(this._handleReset(),this._getCheckoutList())})}},this._getCheckoutbyID=e=>{this._handleReset(),Pt.getCheckoutById(e,e=>{e&&(this.state.locationList.map(t=>(e.location_name===t.name&&this.setState({location:t._id}),!1)),this.state.checkoutTestList.map(t=>(e.test===t.id&&this.setState({defaultselectedTest:t.name,isTestSelected:!0,test_values:t.values}),!1)),this.setState({checkout_id:e._id,defaultLocation:e.location_name,sample_id:e.sample_id,tank_id:e.tank_id,updated_by:e.updated_by_fname+" "+e.updated_by_surname,selected_checklists:e.selected_checklists,on_date:e.updated_at,isEditCheckoutList:!0,isLocation:!0,inspector_name:e.inspector_name,comment:e.comment,test:e.test,selectedTest_value:e.test_value})),this.state.selected_checklists.map(e=>(this.setState({[e]:!0}),!1))})},this._updateCheckoutListById=()=>{if(this.state.checkout_id){const e={location:this.state.location||null,sample_id:this.state.sample_id,tracking_id:this.state.tank_id,selected_checklists:this.state.selected_checklists||[],inspector_name:this.state.inspector_name,comment:this.state.comment,test:this.state.test,test_value:this.state.selectedTest_value};Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to update",buttons:[{label:"Update",onClick:()=>{Pt.updateCheckoutById(this.state.checkout_id,e,e=>{e&&(this.setState({on_date:e.updated_at}),this._getCheckoutList())})}},{label:"Cancel",onClick:()=>console.log("cancel update")}]})}},this._deleteCheckout=e=>{Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to delete",buttons:[{label:"Delete",onClick:()=>{Pt.deleteCheckout(e,e=>{e&&this._getCheckoutList()})}},{label:"Cancel",onClick:()=>console.log("cancel delete")}]})},this._handleSearchFilter=e=>{this.setState({isLoading:!0}),Pt.searchCheckout(e.target.value,e=>{e&&this.setState({checkoutList:e.data,isLoading:!1,page:0})})},this._handleChangePage=(e,t)=>{this.setState({page:t})},this._handleChangeRowsPerPage=e=>{this.setState({rowsPerPage:parseInt(+e.target.value)}),this.setState({page:0})},this._renderHeader=()=>i.a.createElement(pt,null,i.a.createElement(ht,{xs:6,sm:6,md:6},i.a.createElement(Q,{onClick:()=>{this._handleReset(),this.setState({isCreateCheckoutlist:!this.state.isCreateCheckoutlist})},color:"info"}," ",this.state.isCreateCheckoutlist?" Return ":"Create Check List"," "))),this._renderCheckoutListForm=()=>{const{classes:e}=this.props,t={name:this.state.defaultLocation},a={name:this.state.defaultselectedTest};return i.a.createElement(Et,null,i.a.createElement(_t,{color:"primary"},i.a.createElement("h4",{className:e.cardTitleWhite},this.state.isEditCheckoutList?"Check List Details ":"Create Check List Form","  "),i.a.createElement("p",{className:e.cardCategoryWhite},this.state.isEditCheckoutList?" Update Check List form":" Complete Check List form","  ")),i.a.createElement(kt,null,i.a.createElement(pt,null,this.state.isLocation?null:i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(ua,{id:"location-type-selection",onChange:(e,t)=>this._handleLocationSelection(t),options:this.state.locationList,getOptionLabel:e=>e.name,style:{backgroundColor:"white"},autoComplete:!0,includeInputInList:!0,renderInput:e=>i.a.createElement(Ut.a,Object.assign({},e,{label:"Location",variant:"outlined"}))}))),this.state.isLocation?i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(ua,{id:"location-type-selection",onChange:(e,t)=>this._handleLocationSelection(t),value:t,options:this.state.locationList,getOptionLabel:e=>e.name,disablePortal:!0,includeInputInList:!0,autoComplete:!0,renderInput:e=>i.a.createElement(Ut.a,Object.assign({},e,{label:"Location",variant:"outlined"}))}))):null,i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Inspector Name",onChange:e=>{this.setState({inspector_name:e.target.value})},id:"inspector_name",inputProps:{type:"text",value:this.state.inspector_name},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Sample ID",onChange:e=>{this.setState({sample_id:e.target.value})},id:"sample_id",inputProps:{type:"text",value:this.state.sample_id},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Tank ID",onChange:e=>{this.setState({tank_id:e.target.value})},id:"tank_id",inputProps:{type:"text",value:this.state.tank_id},formControlProps:{fullWidth:!0}}))),this._getCheckOutServices(),i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement("h5",{style:{paddingTop:15}},i.a.createElement("b",null,"On-Field Tests "))),i.a.createElement(ht,{xs:12,sm:12,md:6},this.state.isTestSelected?null:i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(ua,{id:"location-type-selection",onChange:(e,t)=>this._handleTestSelection(t),options:this.state.checkoutTestList,getOptionLabel:e=>e.name,style:{backgroundColor:"white"},autoComplete:!0,includeInputInList:!0,renderInput:e=>i.a.createElement(Ut.a,Object.assign({},e,{label:"On-Field Tests",variant:"outlined"}))})),this.state.isTestSelected?i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(ua,{id:"location-type-selection",onChange:(e,t)=>this._handleTestSelection(t),value:a,options:this.state.checkoutTestList,getOptionLabel:e=>e.name,disablePortal:!0,includeInputInList:!0,autoComplete:!0,renderInput:e=>i.a.createElement(Ut.a,Object.assign({},e,{label:"On-Field Tests",variant:"outlined"}))})):null),1===this.state.test_values.length?i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Test Value",onChange:e=>{this.setState({selectedTest_value:e.target.value})},id:"selectedTest_value",inputProps:{type:"text",value:this.state.selectedTest_value},formControlProps:{fullWidth:!0}})," "):i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(Ot.a,{className:e.InputLabelGrey,id:"TestValue-selection"},"Test Values"),i.a.createElement(Dt.a,{labelId:"TestValue-selection",id:"TestValue-selection",name:"TestValue-selection",single:!0,value:this.state.selectedTest_value,onChange:this._handleTestValueSelection,input:i.a.createElement(Vt.a,{id:"select-multiple-chip"}),renderValue:t=>i.a.createElement(Mt.a,{key:t,label:t,className:e.chip}),MenuProps:Cs},this.state.test_values.map((e,t)=>i.a.createElement(X.a,{key:t,value:e},"   ",e,"  "))))),i.a.createElement("br",null),i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(Ut.a,{label:"Comment",multiline:!0,rowsMax:3,value:this.state.comment,onChange:e=>{this.setState({comment:e.target.value})}})))),!0===this.state.isEditCheckoutList?i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement("p",{style:{paddingTop:15}},i.a.createElement("b",null,"Updated By : "),this.state.updated_by)),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement("p",{style:{paddingTop:15}},i.a.createElement("b",null,"Date : "),ce()(this.state.on_date).format("MMM DD, YYYY")))):null),i.a.createElement(Xt,null,i.a.createElement(Q,{onClick:this._handleReset,color:"danger"},"Reset"),this.state.isEditCheckoutList?null:i.a.createElement(Q,{onClick:this._onCreateCheckout,color:"success"}," Create Check List "),this.state.isEditCheckoutList?i.a.createElement(Q,{onClick:this._updateCheckoutListById,color:"success"}," Update Check List "):null))},this._renderCheckoutListTable=()=>{const{classes:e}=this.props;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info"}," ",i.a.createElement("h4",{className:e.cardTitleWhite}," Check List ")," "),i.a.createElement(kt,null,i.a.createElement(ht,{xs:12,sm:12,md:4},i.a.createElement(oa,{labelText:"Search",id:"search",onChange:this._handleSearchFilter,inputProps:{type:"text"},formControlProps:{fullWidth:!0}})),this.state.isLoading?i.a.createElement(ht,{xs:12,sm:12,md:4},"  ",i.a.createElement(Je.a,{type:"ThreeDots",color:"#a5d1e6",height:50,width:50}),"  "):i.a.createElement("div",{className:e.tableResponsive},i.a.createElement(et.a,{className:e.table},i.a.createElement(tt.a,{className:e.info},i.a.createElement(at.a,{className:e.tableHeadRow},i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"location"},"  Location Name  "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"update_by"},"  Updated By  "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"date_in"},"  Date "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"inspector_name"}," Inspector Name"),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"tank_id"},"Tank Id"),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"sampile_id"}," Sample Id "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"option"}," Options "))),i.a.createElement(st.a,null,this.state.checkoutList.length?this.state.checkoutList.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((t,a)=>i.a.createElement(at.a,{key:a,tabIndex:-1,className:e.tableBodyRow},i.a.createElement(it.a,{className:e.tableCell,key:"location"+a},t.location_name," "),i.a.createElement(it.a,{className:e.tableCell,key:"update_by"+a},t.updated_by_fname+" "+t.updated_by_surname," "),i.a.createElement(it.a,{className:e.tableCell,key:"date_in"+a}," ",ce()(t.updated_at).format("MMM DD, YYYY")," "),i.a.createElement(it.a,{className:e.tableCell,key:"inspector_name"+a}," ",t.inspector_name||null," "),i.a.createElement(it.a,{className:e.tableCell,key:"tank_id"+a}," ",t.tank_id," "),i.a.createElement(it.a,{className:e.tableCell,key:"sampile_id"+a},"  ",t.sample_id," "),i.a.createElement(it.a,{className:e.tableCell,key:"option"+a},i.a.createElement(Kt.a,{onClick:()=>this._deleteCheckout(t._id),style:{color:$t.a[500]}}),i.a.createElement(qt.a,{onClick:()=>this._getCheckoutbyID(t._id)})))):i.a.createElement(at.a,null,"No records available"))),i.a.createElement(Bt.a,{component:"div",count:this.state.checkoutList.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this._handleChangePage,onChangeRowsPerPage:this._handleChangeRowsPerPage}))))))},this.state={checklist:[],isCreateCheckoutlist:!1,isEditCheckoutList:!1,tank_id:"",sample_id:"",locationList:[],location:null,isLoading:!0,checkoutList:[],checkout_id:"",selected_checklists:[],updated_by:"",on_date:"",isLocation:!1,defaultLocation:"",inspector_name:"",comment:"",checkoutTestList:[],test_values:[],selectedTest_value:"",test:null,isTestSelected:!1,defaultselectedTest:"",selectSingleTestValue:"",page:0,rowsPerPage:10},Tt.getAdminChecklist(e=>{e&&e.map((e,t)=>(e.sub_categorys.map(e=>(this.state[e._id]=!1,!1)),!1))})}_handleCheckListService(e,t){if(!1===this.state[e])this.setState({[e]:!0}),this.state.selected_checklists.push(e);else if(!0===this.state[e]){let t=this.state.selected_checklists.filter(t=>t!==e);this.setState({selected_checklists:t,[e]:!1})}}_getCheckOutServices(){const{classes:e}=this.props;return this.state.checklist.slice(0).map(t=>i.a.createElement(pt,null,t.sub_categorys.length?i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement("h5",{style:{paddingTop:15}},i.a.createElement("b",null,t.name))):null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Me.a,{className:e.root},t.sub_categorys.map(e=>i.a.createElement(Ue.a,{key:"value",role:void 0,dense:!0,button:!0},i.a.createElement(bs.a,null,i.a.createElement(Wt.a,{defaultChecked:!0,color:"default",checked:this.state[e._id],onChange:t=>this._handleCheckListService(e._id,t),inputProps:{"aria-label":"checkbox with default color"}})),i.a.createElement(He.a,{id:"labelId",primary:e.name})))))))}render(){return i.a.createElement("div",null,this._renderHeader(),this.state.isCreateCheckoutlist?this._renderCheckoutListForm():null,this._renderCheckoutListTable())}}var fs=Object(Qe.a)(()=>wt)(_s);const Ls=(new Date).toLocaleString(),ys=/[\w\d\.-]+@[\w\d\.-]+\.[\w\d\.-]+/g;class Ss extends i.a.Component{constructor(e){super(e),this.componentDidMount=()=>{vt.getAllLocation(e=>{e&&e.data&&e.data.length&&this.setState({locationList:e.data||[]})}),this._onLoad()},this._onLoad=()=>{this._getAllEnv_labreport()},this._handleReset=()=>{this.setState({location:"",lab_id:"",coc_number:"",project_no:"",reportDate:ce()(Ls).format("YYYY-MM-DD"),emailCollection:[],value:"",emailError:null,file_name:"",record_id:"",onEditLabRecord:!1,reportPDF:null,defaultLocation:"",isLocation:!0,po_number:"",report_path:""})},this._handleLocationSelection=e=>{if(e){var t=[];e.email&&e.email.length>0&&e.email.map(e=>void 0!==e&&"undefined"!==e&&null!==e&&""!==e&&t.push(e)),void 0!==e.primaryemail&&"undefined"!==e.primaryemail&&null!==e.primaryemail&&""!==e.primaryemail&&t.push(e.primaryemail),this.setState({location:e.id,emailCollection:t||[],defaultLocation:e.name})}},this._handleReportDate=e=>{this.setState({reportDate:e.target.value})},this._handleChangePage=(e,t)=>{this.setState({page:t})},this._handleChangeRowsPerPage=e=>{this.setState({rowsPerPage:parseInt(+e.target.value)}),this.setState({page:0})},this.handleKeyDown=e=>{if(["Enter","Tab",","].includes(e.key)){e.preventDefault();var t=this.state.value.trim();t&&this._handleEmailIsValid(t)&&this.setState({emailCollection:[...this.state.emailCollection,this.state.value],value:""})}},this._handleEmailAddChange=e=>{this.setState({value:e.target.value,emailError:null})},this._handleEmailRemoveChange=e=>{this.setState({emailCollection:this.state.emailCollection.filter(t=>t!==e)})},this._handleEmailPasteChange=e=>{e.preventDefault();var t=e.clipboardData.getData("text").match(ys);if(t){var a=t.filter(e=>!this._handleEmailIsInList(e));this.setState({emailCollection:[...this.state.emailCollection,...a]})}},this._uploadPDF=e=>{this.dofileUpload.click()},this.handleFile=e=>{e.preventDefault(),this.setState({reportPDF:e.target.files[0],file_name:e.target.files[0].name,report_path:""}),e.target.value=null},this._getAllEnv_labreport=()=>{Pt.getAllEnv_labreport(e=>{e&&(this.setState({Env_labreportList:e.data}),this.setState({isLoading:!1}))})},this.createEnv_labreport=()=>{let e={reportPDF:this.state.reportPDF,location:this.state.location||null,lab_id:this.state.lab_id,emailCollection:this.state.emailCollection,project_no:this.state.project_no,coc_number:this.state.coc_number,reportDate:this.state.reportDate,po:this.state.po_number};this.state&&Pt.createEnv_labreport(e,e=>{e&&(this.setState({onEditLabRecord:!0,record_id:e._id,report_path:e.report_path,file_name:""}),this._getAllEnv_labreport())})},this._getEnv_labreportById=e=>{this._handleReset(),Pt.getEnv_labreportById(e,e=>{e&&(console.log(e),this.state.locationList.map(t=>{if(e.location_name===t.name&&e.location===t.id){var a=[];t.email&&t.email.length>0&&t.email.map(e=>void 0!==e&&"undefined"!==e&&null!==e&&""!==e&&a.push(e)),void 0!==t.primaryemail&&"undefined"!==t.primaryemail&&null!==t.primaryemail&&""!==t.primaryemail&&a.push(t.primaryemail),this.setState({location:t.id,emailCollection:a||[],isLocation:!0})}return!1}),this.setState({onEditLabRecord:!0,isCreateSIF:!0,lab_id:e.labid,defaultLocation:e.location_name,coc_number:e.coc||"",project_no:e.project_number||"",reportDate:null===e.reported_at?ce()(Ls).format("YYYY-MM-DD"):ce()(e.reported_at).format("YYYY-MM-DD"),record_id:e._id,po_number:e.po||"",report_path:e.report_path||""}))})},this._updateEnv_labreport=()=>{let e={reportPDF:this.state.reportPDF,location:this.state.location||null,lab_id:this.state.lab_id,emailCollection:this.state.emailCollection,project_no:this.state.project_no,coc_number:this.state.coc_number,reportDate:this.state.reportDate,po:this.state.po_number};this.state&&Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to update",buttons:[{label:"Update",onClick:()=>{Pt.updateEnv_labreport(this.state.record_id,e,e=>{e&&this._getAllEnv_labreport()})}},{label:"Cancel",onClick:()=>console.log("cancel update")}]})},this._deleteEnv_labreport=e=>{Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to delete",buttons:[{label:"Delete",onClick:()=>{Pt.deleteEnv_labreport(e,e=>{e&&this._getAllEnv_labreport()})}},{label:"Cancel",onClick:()=>console.log("cancel delete")}]})},this.getpdf=e=>{Pt.downloadReportpdf(e,e=>{})},this._handleSearchFilter=e=>{this.setState({isLoading:!0}),Pt.searchEnvLabReport(e.target.value,e=>{e&&this.setState({Env_labreportList:e.data,isLoading:!1,page:0})})},this._sendMail=()=>{Object(Gt.confirmAlert)({title:"Send",message:"Are you sure you want to send this report",buttons:[{label:"Send",onClick:()=>{Pt.sendMailtoClient(this.state.lab_id,e=>{})}},{label:"Cancel",onClick:()=>console.log("cancel send report")}]})},this._renderHeader=()=>i.a.createElement(pt,null,i.a.createElement(ht,{xs:6,sm:6,md:6},i.a.createElement(Q,{onClick:()=>{this._handleReset(),this.setState({isCreateSIF:!this.state.isCreateSIF})},color:"info"}," ",this.state.isCreateSIF?" Return ":"Create SIF"," "))),this._renderForm=()=>{const{classes:e}=this.props,t={name:this.state.defaultLocation};return i.a.createElement(Et,null,i.a.createElement(_t,{color:"primary"},i.a.createElement("h4",{className:e.cardTitleWhite},!0===this.state.onEditLabRecord?"Edit FOI Lab Environmental of "+this.state.lab_id:"FOI Lab Environmental Form"),i.a.createElement("p",{className:e.cardCategoryWhite}," Complete FOI Lab Environmental Form  ")),i.a.createElement(kt,null,i.a.createElement(pt,null,this.state.isLocation?null:i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(ua,{id:"location-type-selection",onChange:(e,t)=>this._handleLocationSelection(t),options:this.state.locationList,getOptionLabel:e=>e.name,style:{backgroundColor:"white"},autoComplete:!0,includeInputInList:!0,renderInput:e=>i.a.createElement(Ut.a,Object.assign({},e,{label:"Location",variant:"outlined"}))}))),this.state.isLocation?i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(ua,{id:"location-type-selection",onChange:(e,t)=>this._handleLocationSelection(t),value:t,options:this.state.locationList,getOptionLabel:e=>e.name,disablePortal:!0,includeInputInList:!0,autoComplete:!0,renderInput:e=>i.a.createElement(Ut.a,Object.assign({},e,{label:"Location",variant:"outlined"}))}))):null,i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Lab ID",onChange:e=>{this.setState({lab_id:e.target.value})},id:"lab_id",inputProps:{type:"text",value:this.state.lab_id},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"C O C Number",onChange:e=>{this.setState({coc_number:e.target.value})},id:"coc_number",inputProps:{type:"text",value:this.state.coc_number},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Project Number",onChange:e=>{this.setState({project_no:e.target.value})},id:"project_no",inputProps:{type:"text",value:this.state.project_no},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"PO Number",onChange:e=>{this.setState({po_number:e.target.value})},id:"po_number",inputProps:{type:"text",value:this.state.po_number},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Report Date",id:"Reportdate",onChange:this._handleReportDate,labelProps:{shrink:!0},inputProps:{type:"date",value:this.state.reportDate},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(ca,{id:"email",disabled:!0,inputProps:{type:"text",value:this.state.value},labelText:"Additional Email",onKeyDown:this.handleKeyDown,onChange:this._handleEmailAddChange,onPaste:this._handleEmailPasteChange,formControlProps:{fullWidth:!0}}),null!==this.state.emailError?i.a.createElement("span",{style:{color:"red"}},this.state.emailError):null,this.state.emailCollection.map((t,a)=>i.a.createElement("div",{className:e.chips,key:t},"   ",i.a.createElement(Mt.a,{onClick:()=>this._handleEmailRemoveChange(t),key:a,label:t+"  X",className:e.chip})))))),i.a.createElement(Xt,null,i.a.createElement("div",{className:e.FileNameAlignment},""!==this.state.report_path?i.a.createElement(Q,{className:e.SIFbutton,onClick:()=>this.getpdf(this.state.report_path),color:"info"}," ",i.a.createElement(nt.a,null)," "):null,i.a.createElement(Q,{className:e.SIFbutton,onClick:this._uploadPDF,color:"info"},"  Upload PDF "),i.a.createElement("span",{style:{paddingLeft:"10px"}},this.state.file_name)),i.a.createElement("input",{type:"file",className:e.hidden,multiple:!1,accept:".pdf",onChange:e=>this.handleFile(e),ref:e=>this.dofileUpload=e}),i.a.createElement("div",{className:e.CardFooterAlignment},i.a.createElement(Q,{className:e.SIFbutton,onClick:this._handleReset,color:"danger"}," Reset "),!0===this.state.onEditLabRecord?i.a.createElement(Q,{className:e.SIFbutton,onClick:this._sendMail,color:"success"}," Submit to Client "):null,!1===this.state.onEditLabRecord?i.a.createElement(Q,{className:e.SIFbutton,onClick:this.createEnv_labreport,color:"success"}," Create  "):null,!0===this.state.onEditLabRecord?i.a.createElement(Q,{className:e.SIFbutton,onClick:this._updateEnv_labreport,color:"warning"}," Update "):null)))},this._renderTable=()=>{const{classes:e}=this.props;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info"}," ",i.a.createElement("h4",{className:e.cardTitleWhite},"FOI Lab Environmental List ")," "),i.a.createElement(kt,null,i.a.createElement(ht,{xs:12,sm:12,md:4},i.a.createElement(oa,{labelText:"Search",id:"search",onChange:this._handleSearchFilter,inputProps:{type:"text"},formControlProps:{fullWidth:!0}})),this.state.isLoading?i.a.createElement(ht,{xs:12,sm:12,md:4},"  ",i.a.createElement(Je.a,{type:"ThreeDots",color:"#a5d1e6",height:50,width:50}),"  "):i.a.createElement("div",{className:e.tableResponsive},i.a.createElement(et.a,{className:e.table},i.a.createElement(tt.a,{className:e.info},i.a.createElement(at.a,{className:e.tableHeadRow},i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"pdf"}," PDF  "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"location"},"  Location  "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"Lab_id"},"  Lab ID  "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"coc"},"  COC Number  "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"po"}," PO Number  "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"report_date"},"  Reported Date  "),"customer"!==this.state.role?i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"option"}," Options "):null,"    ")),i.a.createElement(st.a,null,this.state.Env_labreportList.length?this.state.Env_labreportList.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((t,a)=>i.a.createElement(at.a,{key:a,tabIndex:-1,className:e.tableBodyRow},i.a.createElement(it.a,{className:e.tableCell,key:a}," ",i.a.createElement(nt.a,{onClick:()=>this.getpdf(t.report_path)})," "),i.a.createElement(it.a,{className:e.tableCell,key:"location"+a},t.location_name," "),i.a.createElement(it.a,{className:e.tableCell,key:"Lab_id"+a},"  ",t.labid,"  "),i.a.createElement(it.a,{className:e.tableCell,key:"coc"+a},"  ",t.coc||null,"  "),i.a.createElement(it.a,{className:e.tableCell,key:"po"+a},"  ",t.po||null,"  "),i.a.createElement(it.a,{className:e.tableCell,key:"report_date"+a}," ",null===t.reported_at?null:ce()(t.reported_at).format("MMM DD, YYYY")),"customer"!==this.state.role?i.a.createElement(it.a,{className:e.tableCell,key:"option"+a},i.a.createElement(Kt.a,{onClick:()=>this._deleteEnv_labreport(t._id),style:{color:$t.a[500]}}),i.a.createElement(qt.a,{onClick:()=>this._getEnv_labreportById(t._id)})):null)):i.a.createElement(at.a,null,"No records available"))),i.a.createElement(Bt.a,{component:"div",count:this.state.Env_labreportList.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this._handleChangePage,onChangeRowsPerPage:this._handleChangeRowsPerPage}))))))},this.state={role:Se.authRole(),Env_labreportList:[],isLoading:!0,isCreateSIF:!1,locationList:[],location:"",lab_id:"",coc_number:"",project_no:"",reportDate:ce()(Ls).format("YYYY-MM-DD"),emailCollection:[],value:"",emailError:null,file_name:"",record_id:"",onEditLabRecord:!1,reportPDF:null,defaultLocation:"",isLocation:!1,po_number:"",report_path:"",page:0,rowsPerPage:10}}_handleEmailIsValid(e){let t=null;return this._handleEmailIsInList(e)&&(t=e+" has already been added."),this._handleEmailIsIsEmail(e)||(t=e+" is not a valid email address."),!t||(this.setState({emailError:t}),!1)}_handleEmailIsInList(e){return this.state.emailCollection.includes(e)}_handleEmailIsIsEmail(e){return/[\w\d\.-]+@[\w\d\.-]+\.[\w\d\.-]+/.test(e)}render(){return i.a.createElement("div",null,"customer"!==this.state.role?this._renderHeader():null,this.state.isCreateSIF?this._renderForm():null,this._renderTable())}}var Rs=Object(Qe.a)(()=>wt)(Ss);const ks=(new Date).toLocaleString();class ws extends i.a.Component{constructor(e){super(e),this.componentDidMount=()=>{vt.getAllLocation(e=>{e&&e.data&&e.data.length&&this.setState({locationList:e.data||[]})}),this._onLoad()},this._onLoad=()=>{this._getAllEnv_labreport()},this._handleReset=()=>{this.setState({location:"",lab_id:"",sample_id:"",wo:"",reportDate:ce()(ks).format("YYYY-MM-DD"),emailCollection:[],value:"",emailError:null,file_name:"",record_id:"",onEditLabRecord:!1,reportPDF:null,defaultLocation:"",isLocation:!0,po_number:"",report_path:""})},this._handleLocationSelection=e=>{if(e){var t=[];e.email&&e.email.length>0&&e.email.map(e=>void 0!==e&&"undefined"!==e&&null!==e&&""!==e&&t.push(e)),void 0!==e.primaryemail&&"undefined"!==e.primaryemail&&null!==e.primaryemail&&""!==e.primaryemail&&t.push(e.primaryemail),this.setState({location:e.id,emailCollection:t||[],defaultLocation:e.name})}},this._handleReportDate=e=>{this.setState({reportDate:e.target.value})},this._handleChangePage=(e,t)=>{this.setState({page:t})},this._handleChangeRowsPerPage=e=>{this.setState({rowsPerPage:parseInt(+e.target.value)}),this.setState({page:0})},this.handleKeyDown=e=>{if(["Enter","Tab",","].includes(e.key)){e.preventDefault();var t=this.state.value.trim();t&&this._handleEmailIsValid(t)&&this.setState({emailCollection:[...this.state.emailCollection,this.state.value],value:""})}},this._handleEmailAddChange=e=>{this.setState({value:e.target.value,emailError:null})},this._handleEmailRemoveChange=e=>{this.setState({emailCollection:this.state.emailCollection.filter(t=>t!==e)})},this._handleEmailPasteChange=e=>{e.preventDefault();var t=e.clipboardData.getData("text").match(/[\w\d\.-]+@[\w\d\.-]+\.[\w\d\.-]+/g);if(t){var a=t.filter(e=>!this._handleEmailIsInList(e));this.setState({emailCollection:[...this.state.emailCollection,...a]})}},this._uploadPDF=e=>{this.dofileUpload.click()},this.handleFile=e=>{e.preventDefault(),this.setState({reportPDF:e.target.files[0],file_name:e.target.files[0].name,report_path:""}),e.target.value=null},this._getAllEnv_labreport=()=>{Pt.GC_FTIR_OIL_Report_GetAll(e=>{e&&(this.setState({Env_labreportList:e.data}),this.setState({isLoading:!1}))})},this.GC_FTIR_OIL_Report_Create=()=>{let e={reportPDF:this.state.reportPDF,location:this.state.location||null,lab_id:this.state.lab_id,emailCollection:this.state.emailCollection,wo:this.state.wo,sample_id:this.state.sample_id,reportDate:this.state.reportDate,po:this.state.po_number};this.state&&Pt.GC_FTIR_OIL_Report_Create(e,e=>{e&&(this.setState({onEditLabRecord:!0,record_id:e._id,report_path:e.report_path,file_name:""}),this._getAllEnv_labreport())})},this._getEnv_labreportById=e=>{this._handleReset(),Pt.GC_FTIR_OIL_Report_GetByID(e,e=>{e&&(console.log(e),this.state.locationList.map(t=>{if(e.location_name===t.name&&e.location===t.id){var a=[];t.email&&t.email.length>0&&t.email.map(e=>void 0!==e&&"undefined"!==e&&null!==e&&""!==e&&a.push(e)),void 0!==t.primaryemail&&"undefined"!==t.primaryemail&&null!==t.primaryemail&&""!==t.primaryemail&&a.push(t.primaryemail),this.setState({location:t.id,emailCollection:a||[],isLocation:!0})}return!1}),this.setState({onEditLabRecord:!0,isCreateSIF:!0,lab_id:e.labid,defaultLocation:e.location_name,sample_id:e.sample_id||"",wo:e.wo||"",reportDate:null===e.reported_at?ce()(ks).format("YYYY-MM-DD"):ce()(e.reported_at).format("YYYY-MM-DD"),record_id:e._id,po_number:e.po||"",report_path:e.report_path||""}))})},this._updateEnv_labreport=()=>{let e={reportPDF:this.state.reportPDF,location:this.state.location||null,lab_id:this.state.lab_id,emailCollection:this.state.emailCollection,wo:this.state.wo,sample_id:this.state.sample_id,reportDate:this.state.reportDate,po:this.state.po_number};this.state&&Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to update",buttons:[{label:"Update",onClick:()=>{Pt.GC_FTIR_OIL_Report_Update(this.state.record_id,e,e=>{e&&this._getAllEnv_labreport()})}},{label:"Cancel",onClick:()=>console.log("cancel update")}]})},this._deleteEnv_labreport=e=>{Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to delete",buttons:[{label:"Delete",onClick:()=>{Pt.GC_FTIR_OIL_Report_Delete(e,e=>{e&&this._getAllEnv_labreport()})}},{label:"Cancel",onClick:()=>console.log("cancel delete")}]})},this.getpdf=e=>{Pt.GC_FTIR_OIL_Report_Download_PDF(e,e=>{})},this._handleSearchFilter=e=>{this.setState({isLoading:!0}),Pt.GC_FTIR_OIL_Report_Search(e.target.value,e=>{e&&this.setState({Env_labreportList:e.data,isLoading:!1,page:0})})},this._sendMail=()=>{Object(Gt.confirmAlert)({title:"Send",message:"Are you sure you want to send this report",buttons:[{label:"Send",onClick:()=>{Pt.GC_FTIR_OIL_Report_MailClient(this.state.lab_id,e=>{})}},{label:"Cancel",onClick:()=>console.log("cancel send report")}]})},this._renderHeader=()=>i.a.createElement(pt,null,i.a.createElement(ht,{xs:6,sm:6,md:6},i.a.createElement(Q,{onClick:()=>{this._handleReset(),this.setState({isCreateSIF:!this.state.isCreateSIF})},color:"info"}," ",this.state.isCreateSIF?" Return ":"Create SIF"," "))),this._renderForm=()=>{const{classes:e}=this.props,t={name:this.state.defaultLocation};return i.a.createElement(Et,null,i.a.createElement(_t,{color:"primary"},i.a.createElement("h4",{className:e.cardTitleWhite},!0===this.state.onEditLabRecord?"Edit GC-FTIR-OIL Report of "+this.state.lab_id:"GC-FTIR-OIL Report Form"),i.a.createElement("p",{className:e.cardCategoryWhite}," Complete ","GC-FTIR-OIL"," Form  ")),i.a.createElement(kt,null,i.a.createElement(pt,null,this.state.isLocation?null:i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(ua,{id:"location-type-selection",onChange:(e,t)=>this._handleLocationSelection(t),options:this.state.locationList,getOptionLabel:e=>e.name,style:{backgroundColor:"white"},autoComplete:!0,includeInputInList:!0,renderInput:e=>i.a.createElement(Ut.a,Object.assign({},e,{label:"Location",variant:"outlined"}))}))),this.state.isLocation?i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(ua,{id:"location-type-selection",onChange:(e,t)=>this._handleLocationSelection(t),value:t,options:this.state.locationList,getOptionLabel:e=>e.name,disablePortal:!0,includeInputInList:!0,autoComplete:!0,renderInput:e=>i.a.createElement(Ut.a,Object.assign({},e,{label:"Location",variant:"outlined"}))}))):null,i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Lab ID",onChange:e=>{this.setState({lab_id:e.target.value})},id:"lab_id",inputProps:{type:"text",value:this.state.lab_id},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Sample ID",onChange:e=>{this.setState({sample_id:e.target.value})},id:"sample_id",inputProps:{type:"text",value:this.state.sample_id},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Work Order ID",onChange:e=>{this.setState({wo:e.target.value})},id:"wo",inputProps:{type:"text",value:this.state.wo},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"PO Number",onChange:e=>{this.setState({po_number:e.target.value})},id:"po_number",inputProps:{type:"text",value:this.state.po_number},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{labelText:"Report Date",id:"Reportdate",onChange:this._handleReportDate,labelProps:{shrink:!0},inputProps:{type:"date",value:this.state.reportDate},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(ca,{id:"email",disabled:!0,inputProps:{type:"text",value:this.state.value},labelText:"Additional Email",onKeyDown:this.handleKeyDown,onChange:this._handleEmailAddChange,onPaste:this._handleEmailPasteChange,formControlProps:{fullWidth:!0}}),null!==this.state.emailError?i.a.createElement("span",{style:{color:"red"}},this.state.emailError):null,this.state.emailCollection.map((t,a)=>i.a.createElement("div",{className:e.chips,key:t},"   ",i.a.createElement(Mt.a,{onClick:()=>this._handleEmailRemoveChange(t),key:a,label:t+"  X",className:e.chip})))))),i.a.createElement(Xt,null,i.a.createElement("div",{className:e.FileNameAlignment},""!==this.state.report_path?i.a.createElement(Q,{className:e.SIFbutton,onClick:()=>this.getpdf(this.state.report_path),color:"info"}," ",i.a.createElement(nt.a,null)," "):null,i.a.createElement(Q,{className:e.SIFbutton,onClick:this._uploadPDF,color:"info"},"  Upload PDF "),i.a.createElement("span",{style:{paddingLeft:"10px"}},this.state.file_name)),i.a.createElement("input",{type:"file",className:e.hidden,multiple:!1,accept:".pdf",onChange:e=>this.handleFile(e),ref:e=>this.dofileUpload=e}),i.a.createElement("div",{className:e.CardFooterAlignment},i.a.createElement(Q,{className:e.SIFbutton,onClick:this._handleReset,color:"danger"}," Reset "),!0===this.state.onEditLabRecord?i.a.createElement(Q,{className:e.SIFbutton,onClick:this._sendMail,color:"success"}," Submit to Client "):null,!1===this.state.onEditLabRecord?i.a.createElement(Q,{className:e.SIFbutton,onClick:this.GC_FTIR_OIL_Report_Create,color:"success"}," Create  "):null,!0===this.state.onEditLabRecord?i.a.createElement(Q,{className:e.SIFbutton,onClick:this._updateEnv_labreport,color:"warning"}," Update "):null)))},this._renderTable=()=>{const{classes:e}=this.props;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info"}," ",i.a.createElement("h4",{className:e.cardTitleWhite},"GC-FTIR-OIL"," List ")," "),i.a.createElement(kt,null,i.a.createElement(ht,{xs:12,sm:12,md:4},i.a.createElement(oa,{labelText:"Search",id:"search",onChange:this._handleSearchFilter,inputProps:{type:"text"},formControlProps:{fullWidth:!0}})),this.state.isLoading?i.a.createElement(ht,{xs:12,sm:12,md:4},"  ",i.a.createElement(Je.a,{type:"ThreeDots",color:"#a5d1e6",height:50,width:50}),"  "):i.a.createElement("div",{className:e.tableResponsive},i.a.createElement(et.a,{className:e.table},i.a.createElement(tt.a,{className:e.info},i.a.createElement(at.a,{className:e.tableHeadRow},i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"pdf"}," PDF  "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"location"},"  Location  "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"Lab_id"},"  Lab ID  "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"sample_id"},"  Sample ID  "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"po"}," PO Number  "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"report_date"},"  Reported Date  "),"customer"!==this.state.role?i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"option"}," Options "):null,"    ")),i.a.createElement(st.a,null,this.state.Env_labreportList.length?this.state.Env_labreportList.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((t,a)=>i.a.createElement(at.a,{key:a,tabIndex:-1,className:e.tableBodyRow},i.a.createElement(it.a,{className:e.tableCell,key:a}," ",i.a.createElement(nt.a,{onClick:()=>this.getpdf(t.report_path)})," "),i.a.createElement(it.a,{className:e.tableCell,key:"location"+a},t.location_name," "),i.a.createElement(it.a,{className:e.tableCell,key:"Lab_id"+a},"  ",t.labid,"  "),i.a.createElement(it.a,{className:e.tableCell,key:"sample_id"+a},"  ",t.sample_id||null,"  "),i.a.createElement(it.a,{className:e.tableCell,key:"po"+a},"  ",t.po||null,"  "),i.a.createElement(it.a,{className:e.tableCell,key:"report_date"+a}," ",null===t.reported_at?null:ce()(t.reported_at).format("MMM DD, YYYY")),"customer"!==this.state.role?i.a.createElement(it.a,{className:e.tableCell,key:"option"+a},i.a.createElement(Kt.a,{onClick:()=>this._deleteEnv_labreport(t._id),style:{color:$t.a[500]}}),i.a.createElement(qt.a,{onClick:()=>this._getEnv_labreportById(t._id)})):null)):i.a.createElement(at.a,null,"No records available"))),i.a.createElement(Bt.a,{component:"div",count:this.state.Env_labreportList.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this._handleChangePage,onChangeRowsPerPage:this._handleChangeRowsPerPage}))))))},this.state={role:Se.authRole(),Env_labreportList:[],isLoading:!0,isCreateSIF:!1,locationList:[],location:"",lab_id:"",sample_id:"",wo:"",reportDate:ce()(ks).format("YYYY-MM-DD"),emailCollection:[],value:"",emailError:null,file_name:"",record_id:"",onEditLabRecord:!1,reportPDF:null,defaultLocation:"",isLocation:!1,po_number:"",report_path:"",page:0,rowsPerPage:10}}_handleEmailIsValid(e){let t=null;return this._handleEmailIsInList(e)&&(t=e+" has already been added."),this._handleEmailIsIsEmail(e)||(t=e+" is not a valid email address."),!t||(this.setState({emailError:t}),!1)}_handleEmailIsInList(e){return this.state.emailCollection.includes(e)}_handleEmailIsIsEmail(e){return/[\w\d\.-]+@[\w\d\.-]+\.[\w\d\.-]+/.test(e)}render(){return i.a.createElement("div",null,"customer"!==this.state.role?this._renderHeader():null,this.state.isCreateSIF?this._renderForm():null,this._renderTable())}}var vs=Object(Qe.a)(()=>wt)(ws),xs=a(374);var Ps=function(e){let{selectedIndex:t=0,tabValues:a=[]}=e;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(xs.a,null,i.a.createElement("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist"},a.map((e,a)=>{let{title:s,id:l,href:n,onClick:o}=e;return l||(l=`${s.replace(/\s/g,"-")}-${a}`),i.a.createElement("li",{className:"nav-item"},i.a.createElement("a",{"data-toggle":"tab",role:"tab","aria-controls":"home","aria-selected":"true",style:{fontSize:24},id:l,href:"#"+(n||s),className:t===a?" nav-link active":"nav-link",onClick:o},s))})))))};var Ts=e=>({warningTableHeader:{color:x[0]},primaryTableHeader:{color:v[0]},dangerTableHeader:{color:P[0]},successTableHeader:{color:T[0]},infoTableHeader:{color:N[0]},roseTableHeader:{color:I[0]},grayTableHeader:{color:A[0]},table:{marginBottom:"0",width:"100%",maxWidth:"100%",backgroundColor:"transparent",borderSpacing:"0",borderCollapse:"collapse"},tableHeadCell:{color:"inherit",...w,"&, &$tableCell":{fontSize:"1em"}},tableCell:{...w,lineHeight:"1.42857143",padding:"12px 8px",verticalAlign:"middle",fontSize:"0.8125rem"},tableResponsive:{width:"100%",marginTop:e.spacing(3),overflowX:"auto"},tableHeadRow:{height:"56px",color:"inherit",display:"table-row",outline:"none",verticalAlign:"middle"},tableBodyRow:{height:"48px",color:"inherit",display:"table-row",outline:"none",verticalAlign:"middle"}}),Ns=a(375);const Is=Object(p.a)(Ts);function As(e){const t=Is(),{tableHead:a,tableData:l,tableKey:n,tableHeaderColor:o,onClick:r}=e,[c,d]=Object(s.useState)(0),[h,m]=Object(s.useState)(10);return i.a.createElement("div",{className:t.tableResponsive},i.a.createElement(et.a,{className:t.table},void 0!==a?i.a.createElement(tt.a,{className:t[o+"TableHeader"]},i.a.createElement(at.a,{className:t.tableHeadRow},a.map((e,a)=>i.a.createElement(it.a,{className:t.tableCell+" "+t.tableHeadCell,key:a},e)))):null,i.a.createElement(st.a,null,l?l.slice(c*h,c*h+h).map((e,a)=>i.a.createElement(at.a,{key:a,className:t.tableBodyRow},n.map((a,s)=>i.a.createElement(it.a,{className:t.tableCell,key:s},r?i.a.createElement(Ns.a,{onClick:()=>r(e)},"isapproved"===a?e[a]?"Success":" Pending ":e[a]):e[a])))):null)),i.a.createElement(Bt.a,{component:"div",count:l.length,rowsPerPage:h,page:c,onChangePage:(e,t)=>{d(t)},onChangeRowsPerPage:e=>{m(+e.target.value),d(0)}}))}const Fs=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;var Os=new class{constructor(){this.orderForm=e=>{var t={nameError:!1,phoneError:!1,emailError:!1,stateError:!1,cityError:!1,addressError:!1,selectedCustomerError:!1,status:!0,fuelError:!1,countryError:!1,bidError:!1,deliveryError:!1,priorityError:!1};return e.customerId||e.companyName||e.shippingPhone||e.shippingEmail||e.shippingAddress||e.shippingCity||e.shippingState||e.priority||e.shippingCountry||e.shippingZipcode||e.shippingMethod||(t.selectedCustomerError=!0,t.nameError=!0,t.phoneError=!0,t.emailError=!0,t.addressError=!0,t.fuelError=!0,t.cityError=!0,t.stateError=!0,t.countryError=!0,t.zipCodeError=!0,t.deliveryError=!0,t.priorityError=!0,t.status=!1),e.customerId||(t.selectedCustomerError=!0,t.status=!1),e.companyName||(t.nameError=!0,t.status=!1),e.shippingPhone||(t.phoneError=!0,t.status=!1),e.shippingEmail||(t.emailError=!0,t.status=!1),e.shippingAddress||(t.addressError=!0,t.status=!1),e.shippingCity||(t.cityError=!0,t.status=!1),e.shippingState||(t.stateError=!0,t.status=!1),e.shippingCountry||(t.countryError=!0,t.status=!1),e.shippingZipcode||(t.zipCodeError=!0,t.status=!1),e.shippingMethod||(t.deliveryError=!0,t.status=!1),e.fuel||(t.fuelError=!0,t.status=!1),e.priority||(t.priorityError=!0,t.status=!1),t},this.loginForm=e=>e.email||e.password?Fs.test(e.email)?e.password?{status:!0}:{emailError:!1,passwordError:!0,status:!1}:{emailError:!0,passwordError:!1,status:!1}:{emailError:!0,passwordError:!0,status:!1},this.managerForm=e=>{let{fname:t,surname:a,email:s,address:i,phone:l,city:n,state:o,country:r,zipcode:c}=e;var d={fNameError:!1,lNameError:!1,emailError:!1,phoneError:!1,addressError:!1,cityError:!1,stateError:!1,countryError:!1,pinCodeError:!1,status:!1,message:""};return t||a||s||i||l||n||r||c?t?a?s&&Fs.test(s)?i?l&&10===l.replace(/[^0-9]/g,"").length?n?o?r?c?(d.status=!0,d):(d.status=!1,d.pinCodeError=!0,d.message=" ZIP Code is required",d):(d.status=!1,d.countryError=!0,d.message=" Country is required",d):(d.status=!1,d.stateError=!0,d.message=" State is required",d):(d.status=!1,d.cityError=!0,d.message=" City is required",d):(d.status=!1,d.phoneError=!0,d.message=" Phone number is required",d):(d.status=!1,d.addressError=!0,d.message=" Address is required",d):(d.status=!1,d.emailError=!0,d.message=" Email is required in format info@foilab.com",d):(d.status=!1,d.lNameError=!0,d.message=" Last name is required ",d):(d.status=!1,d.fNameError=!0,d.message=" First name is required ",d):{fNameError:!0,lNameError:!0,emailError:!0,phoneError:!0,addressError:!0,cityError:!0,stateError:!0,countryError:!0,pinCodeError:!0,status:!1,message:"Incomplete form"}},this.employeeForm=e=>{let{managerid:t,fname:a,surname:s,email:i,address:l,phone:n,city:o,state:r,country:c,zipcode:d}=e;var h={managerError:!1,fNameError:!1,lNameError:!1,emailError:!1,phoneError:!1,addressError:!1,cityError:!1,stateError:!1,countryError:!1,pinCodeError:!1,status:!1,message:""};return a||s||i||l||n||o||c||d?t||"admin"!==Se.authRole()?a?s?i&&Fs.test(i.toLowerCase().trim())?l?n&&10===n.replace(/[^0-9]/g,"").length?o?r?c?d?(h.status=!0,h):(h.status=!1,h.pinCodeError=!0,h.message=" ZIP Code is required",h):(h.status=!1,h.countryError=!0,h.message=" Country is required",h):(h.status=!1,h.stateError=!0,h.message=" State is required",h):(h.status=!1,h.cityError=!0,h.message=" City is required",h):(h.status=!1,h.phoneError=!0,h.message=" Phone number is required",h):(h.status=!1,h.addressError=!0,h.message=" Address is required",h):(h.status=!1,h.emailError=!0,h.message=" Email is required in format info@foilab.com",h):(h.status=!1,h.lNameError=!0,h.message=" Last name is required ",h):(h.status=!1,h.fNameError=!0,h.message=" First name is required ",h):(h.status=!1,h.managerError=!0,h.message=" Assign an manager ",h):{fNameError:!0,lNameError:!0,emailError:!0,phoneError:!0,addressError:!0,cityError:!0,countryError:!0,stateError:!0,pinCodeError:!0,status:!1,managerError:!0,message:"Incomplete form"}},this.customerForm=e=>{let{fname:t,surname:a,email:s,address:i,phone:l,city:n,state:o,country:r,zipcode:c}=e;var d={emailError:!1,addressError:!1,cityError:!1,stateError:!1,countryError:!1,pinCodeError:!1,status:!1,message:""};return s||i||n||r||c?s&&Fs.test(s.toLowerCase().trim())?i?n?o?r?c?(d.status=!0,d):(d.status=!1,d.pinCodeError=!0,d.message=" ZIP Code is required",d):(d.status=!1,d.countryError=!0,d.message=" Country is required",d):(d.status=!1,d.stateError=!0,d.message=" State is required",d):(d.status=!1,d.cityError=!0,d.message=" City is required",d):(d.status=!1,d.addressError=!0,d.message=" Address is required",d):(d.status=!1,d.emailError=!0,d.message=" Email is required in format info@foilab.com",d):{emailError:!0,addressError:!0,cityError:!0,stateError:!1,countryError:!0,pinCodeError:!0,status:!1,message:"Incomplete form"}},this.customerLocationForm=e=>{let{phone:t}=e;var a={phoneError:!1};return t&&10!==t.replace(/[^0-9]/g,"").trim().length&&(a.phoneError=!0),a},this.customerUserForm=e=>{let{phone:t}=e;var a={phoneError:!1};return t&&10!==t.replace(/[^0-9]/g,"").trim().length&&(a.phoneError=!0),a},this.orderForm=e=>{let{shippingAddress:t,phone:a,manager:s,attention:i,bid:l,bcontact:n,emailCollection:o,returnLabel:r,ground:c,kit:d}=e;var h={shippingAddressError:!1,phoneError:!1,managerError:!1,attentionError:!1,bidError:!1,bcontactError:!1,emailCollectionError:!1,returnLabelError:!1,groundError:!1,kit:d,message:""};return t||a||s||i||l||n||o||r||c||d?!o.length>0||!Fs.test(o[0].toLowerCase().trim())?(h.status=!1,h.emailCollectionError=!0,h.message=" Email is required in format info@foilab.com",h):t?a?s?i?l?n?r?c?d?(h.status=!0,h):(h.status=!1,h.kitError=!0,h.message=" kit is required",h):(h.status=!1,h.groundError=!0,h.message=" ground is required",h):(h.status=!1,h.returnLabelError=!0,h.message=" returnLabel is required",h):(h.status=!1,h.bcontactError=!0,h.message=" bcontact is required",h):(h.status=!1,h.bidError=!0,h.message=" bid is required",h):(h.status=!1,h.attentionError=!0,h.message=" attention is required",h):(h.status=!1,h.managerError=!0,h.message=" manager is required",h):(h.status=!1,h.phoneError=!0,h.message=" phone is required",h):(h.status=!1,h.shippingAddressError=!0,h.message=" shippingAddress is required",h):{shippingAddressError:!0,phoneError:!0,managerError:!0,attentionError:!0,bidError:!0,bcontactError:!0,emailCollectionError:!0,returnLabelError:!0,groundError:!0,kit:d,message:"Incomplete form"}}}};class Ds extends i.a.Component{constructor(e){super(e),this.componentDidMount=()=>{this._getManagerList()},this._getManagerList=()=>{this.setState({isLoading:!0}),vt.getUsersList("manager",!1,e=>{e&&this.setState({managerList:e}),this.setState({isLoading:!1})})},this.fetchInfo=e=>{let{id:t}=e;this._handleReset(),this.setState({isView:!0}),vt.getUserById(t,e=>{this.setState(e)})},this.onDeleteUser=()=>{Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to delete "+this.state.fname+" "+this.state.surname,buttons:[{label:"Delete",color:"green",onClick:()=>{vt.deleteUser(this.state.id,e=>{this._handleReset(),this._getManagerList()})}},{label:"Cancel",onClick:()=>console.log("cancel delete")}]})},this.onUpdateUser=()=>{this._handleValidate();const e={id:this.state.id,email:this.state.email,fname:this.state.fname,surname:this.state.surname,phone:this.state.phone,address:this.state.address,city:this.state.city,state:this.state.state,country:this.state.country,zipcode:this.state.zipcode};this.state.status?Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to update",buttons:[{label:"Update",color:"green",onClick:()=>{vt.updateUser(e,t=>{this.fetchInfo({id:e.id}),this._getManagerList()})}},{label:"Cancel",onClick:()=>console.log("cancel update")}]}):this._handleValidate()},this._handleReset=()=>{this.setState({isView:!1,fname:"",surname:"",email:"",address:"",phone:"",city:"",state:"",country:"",zipcode:"",status:!1,message:"",fNameError:!1,lNameError:!1,emailError:!1,addressError:!1,phoneError:!1,cityError:!1,stateError:!1,countryError:!1,pinCodeError:!1})},this._onCreateProfile=()=>{this.state.status?Object(Gt.confirmAlert)({title:"Confirm ",message:this.state.fname+" "+this.state.surname+" will be given manager privilages",buttons:[{label:"Create",color:"green",onClick:()=>{vt.register(this.state,"manager",e=>{this._handleReset(),this._getManagerList()})}},{label:"Cancel",onClick:()=>console.log("cancel profile creation")}]}):this._handleValidate()},this._handleValidate=()=>{this.setState(Os.managerForm(this.state))},this.state={managerList:[],fname:"",surname:"",email:"",address:"",phone:"",city:"",state:"",country:"",zipcode:"",id:"",fNameError:!1,lNameError:!1,emailError:!1,addressError:!1,phoneError:!1,cityError:!1,stateError:!1,countryError:!1,pinCodeError:!1,status:!1,isView:!1,isLoading:!0}}render(){const{classes:e}=this.props;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement(_t,{color:"primary"},i.a.createElement("h4",{className:e.cardTitleWhite},this.state.isView?"Manager details":"Create Manager"),i.a.createElement("p",{className:e.cardCategoryWhite},this.state.isView?" ":"Complete new  manager form")),i.a.createElement(kt,null,i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({fname:e.target.value}),this._handleValidate()},labelText:"First Name",id:"fname",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.fname},error:this.state.fNameError,formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({surname:e.target.value}),this._handleValidate()},labelText:"Last name",id:"surname",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.surname},error:this.state.lNameError,formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({email:e.target.value}),this._handleValidate()},labelText:"Email",id:"email-address",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.email},error:this.state.emailError,formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({phone:e.target.value}),this._handleValidate()},labelText:"Phone",id:"phone",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.phone},error:this.state.phoneError,formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(oa,{onChange:e=>{this.setState({address:e.target.value}),this._handleValidate()},labelText:"Address",id:"address",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.address},error:this.state.addressError,formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:4},i.a.createElement(oa,{onChange:e=>{this.setState({city:e.target.value}),this._handleValidate()},labelText:"City",id:"city",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.city},error:this.state.cityError,formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:4},i.a.createElement(oa,{onChange:e=>{this.setState({state:e.target.value}),this._handleValidate()},labelText:"State",id:"state",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.state},error:this.state.stateError,formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:4},i.a.createElement(oa,{onChange:e=>{this.setState({country:e.target.value}),this._handleValidate()},labelText:"Country",id:"country",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.country},error:this.state.countryError,formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:4},i.a.createElement(oa,{onChange:e=>{this.setState({zipcode:e.target.value}),this._handleValidate()},labelText:"Zip Code",id:"zipcode",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.zipcode},error:this.state.pinCodeError,formControlProps:{fullWidth:!0}})))),i.a.createElement(Xt,null,i.a.createElement("h5",{style:{color:"red"}},this.state.message),this.state.isView?null:i.a.createElement(Q,{disabled:this.state.isDisabled,onClick:()=>this._onCreateProfile(),color:"primary"},"Create Profile"),this.state.isView?i.a.createElement(Q,{onClick:this._handleReset,color:"primary"},"Reset"):null,this.state.isView?i.a.createElement(Q,{onClick:this.onUpdateUser,color:"warning"},"Update"):null,this.state.isView?i.a.createElement(Q,{onClick:this.onDeleteUser,color:"danger"},"Delete"):null))),i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Managers"),i.a.createElement("p",{className:e.cardCategoryWhite},"Updated on 31st March, 2020")),i.a.createElement(kt,null,this.state.isLoading?i.a.createElement(Je.a,{type:"ThreeDots",color:"#a5d1e6",height:50,width:50}):this.state.managerList.length?i.a.createElement(As,{onClick:this.fetchInfo,tableHeaderColor:"warning",tableHead:["First name","Last Name","Email"],tableKey:["fname","surname","email"],tableData:this.state.managerList}):null))))}}var Vs=Object(Qe.a)(()=>wt)(Ds);const Ms={PaperProps:{style:{maxHeight:224,width:250}}};class Us extends i.a.Component{constructor(e){super(e),this.componentDidMount=()=>{this._onLoad()},this._onLoad=()=>{this.setState({isLoading:!0}),vt.getUsersList("employee",!1,e=>{e&&this.setState({employeeList:e}),this.setState({isLoading:!1})}),vt.getUsersList("manager",!1,e=>{e&&this.setState({managerList:e})})},this.fetchInfo=e=>{let{id:t}=e;this._handleReset(),this.setState({isView:!0}),vt.getUserById(t,e=>{this.setState(e),this.state.managerList.map(t=>t.id===e.managerid&&this.setState({manager:[t],managerid:e.managerid})),this._handleValidate()})},this._handleReset=()=>{this.setState({isView:!1,fname:"",surname:"",email:"",address:"",phone:"",city:"",state:"",country:"",zipcode:"",message:"",id:"",fNameError:!1,lNameError:!1,emailError:!1,addressError:!1,phoneError:!1,cityError:!1,stateError:!1,countryError:!1,pinCodeError:!1,managerError:!1,manager:[]})},this._handleManagerSelection=e=>{this.setState({manager:[e.target.value],managerid:e.target.value.id}),this._handleValidate()},this.onCreateProfile=()=>{this.state.status&&(this.setState({isDisabled:!0}),Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to create",buttons:[{label:"Create",color:"green",onClick:()=>{vt.register(this.state,"employee",e=>{this._handleReset(),e&&this.setState({message:e.message}),this._onLoad()})}},{label:"Cancel",onClick:()=>console.log("cancel create")}]})),this._handleValidate(),this.setState({isDisabled:!1})},this.onDeleteProfile=()=>{Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to delete",buttons:[{label:"Delete",color:"green",onClick:()=>{vt.deleteUser(this.state.id,e=>{this._handleReset(),this._onLoad()})}},{label:"Cancel",onClick:()=>console.log("cancel delete profile")}]})},this.onUpdateProfile=()=>{const e={id:this.state.id,managerid:this.state.managerid,email:this.state.email,fname:this.state.fname,surname:this.state.surname,phone:this.state.phone,address:this.state.address,city:this.state.city,state:this.state.state,country:this.state.country,zipcode:this.state.zipcode};this.state.status&&Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to update",buttons:[{label:"Update",color:"green",onClick:()=>{vt.updateUser(e,t=>{this.fetchInfo({id:e.id}),this._onLoad()})}},{label:"Cancel",onClick:()=>console.log("cancel update profile")}]})},this._handleValidate=()=>{this.setState(Os.employeeForm(this.state))},this.state={passwordError:!1,employeeList:[],managerList:[],isDisabled:!1,fname:"",surname:"",email:"",address:"",phone:"",city:"",state:"",country:"",zipcode:"",manager:"",managerid:"",status:!1,fNameError:!1,lNameError:!1,emailError:!1,addressError:!1,phoneError:!1,cityError:!1,stateError:!1,countryError:!1,pinCodeError:!1,managerError:!1,isView:!1,isLoading:!0}}render(){const{classes:e}=this.props;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement(_t,{color:"primary"},i.a.createElement("h4",{className:e.cardTitleWhite},this.state.isView?"Employee details":"Create Employee"),i.a.createElement("p",{className:e.cardCategoryWhite},this.state.isView?" ":"Complete new employee form")),i.a.createElement(kt,null,i.a.createElement(pt,null,"admin"===Se.authRole()?i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Ft.a,{className:e.formControl},i.a.createElement(Ot.a,{className:e.InputLabelGrey,id:"manager-type-selection"},"Manager assigned"),i.a.createElement(Dt.a,{labelId:"manager-type-selection",id:"manager-type-selection",single:!0,required:!0,error:this.state.managerError,disabled:this.state.isDisabled,value:this.state.manager?this.state.manager:[],onChange:this._handleManagerSelection,input:i.a.createElement(Vt.a,{id:"select-chip"}),renderValue:t=>i.a.createElement("div",{className:e.chips},t.map(t=>i.a.createElement(Mt.a,{key:t.id,label:t.fname+" "+t.surname,className:e.chip}))),MenuProps:Ms},this.state.managerList.map(e=>i.a.createElement(X.a,{key:e.id,value:e},e.fname+" "+e.surname))))):null,i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({fname:e.target.value}),this._handleValidate()},labelText:"First Name",id:"fname",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.fname},error:this.state.fNameError,formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({surname:e.target.value}),this._handleValidate()},labelText:"Last name",id:"surname",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.surname},error:this.state.lNameError,formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({email:e.target.value}),this._handleValidate()},labelText:"Email",id:"email-address",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.email},error:this.state.emailError,formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({phone:e.target.value}),this._handleValidate()},labelText:"Phone",id:"phone",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.phone},error:this.state.phoneError,formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(oa,{onChange:e=>{this.setState({address:e.target.value}),this._handleValidate()},labelText:"Address",id:"address",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.address},error:this.state.addressError,formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:4},i.a.createElement(oa,{onChange:e=>{this.setState({city:e.target.value}),this._handleValidate()},labelText:"City",id:"city",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.city},error:this.state.cityError,formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:4},i.a.createElement(oa,{onChange:e=>{this.setState({state:e.target.value}),this._handleValidate()},labelText:"State",id:"state",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.state},error:this.state.stateError,formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:4},i.a.createElement(oa,{onChange:e=>{this.setState({country:e.target.value}),this._handleValidate()},inputProps:{type:"text",value:this.state.country},error:this.state.countryError,labelText:"Country",id:"country",disabled:this.state.isDisabled,formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:4},i.a.createElement(oa,{onChange:e=>{this.setState({zipcode:e.target.value}),this._handleValidate()},labelText:"Zip Code",id:"zipcode",disabled:this.state.isDisabled,inputProps:{type:"text",value:this.state.zipcode},error:this.state.pinCodeError,formControlProps:{fullWidth:!0}})))),i.a.createElement(Xt,null,i.a.createElement("h5",{style:{color:"red"}},this.state.message),this.state.isView?null:i.a.createElement(Q,{disabled:this.state.isDisabled,onClick:()=>this.onCreateProfile(),color:"primary"},"Create Profile"),this.state.isView?i.a.createElement(Q,{onClick:this._handleReset,color:"primary"},"Reset"):null,this.state.isView?i.a.createElement(Q,{onClick:this.onUpdateProfile,color:"warning"},"Update"):null,this.state.isView?i.a.createElement(Q,{onClick:this.onDeleteProfile,color:"danger"},"Delete"):null))),i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Employees"),i.a.createElement("p",{className:e.cardCategoryWhite},"Updated on 31st March, 2020")),i.a.createElement(kt,null,this.state.isLoading?i.a.createElement(Je.a,{type:"ThreeDots",color:"#a5d1e6",height:50,width:50}):this.state.employeeList.length?i.a.createElement(As,{onClick:this.fetchInfo,tableHeaderColor:"warning",tableHead:["First name","Last Name","Email"],tableKey:["fname","surname","email"],tableData:this.state.employeeList}):"No employee records found."))))}}var Hs=Object(Qe.a)(()=>wt)(Us),Ws=a(171),Bs=a.n(Ws),js=a(376);class zs extends i.a.Component{constructor(e){super(e),this.componentDidMount=()=>{this.setState({reportedCompaniesList:[{name:"A"},{name:"B"},{name:"C"}],usertype:[{name:"Complete control"},{name:"Managment"},{name:"Report"}],role:Se.authRole()}),Tt.reportCompanyList(e=>{this.setState({reportCompList:[{name:"Select One",id:null}].concat(e||[])})}),this.getCustomerList(),"customer"===Se.authRole()&&this.fetchCustomerInfo({id:""}),this.getPrivilegeOptions()},this.loadReportCompanies=()=>{Tt.reportCompanyList(e=>{this.setState({reportCompList:[{name:"Select One",id:null}].concat(e||[])})})},this._handleReset=()=>{this.setState({isView:!1,isViewUserForm:!1,isViewUser:!1,isViewLocationForm:!1,isViewLocation:!1,isViewLocationDetails:!1,isViewPrivilege:!1,customerUserList:[],customerLocationList:[],selectedCompany:{},userPrimary:!1,isEditLocationForm:!1,isViewUserFormEdit:!1,isLoading:!1,companyName:"",locationName:"",locationAddress:"",locationCity:"",locationState:"",locationCountry:"",locationZipcode:"",locationEmailValue:"",locationEmailCollection:[],selectedLocationIndex:"",loocationPhone:"",privilegeList:[],selectedLocation:[],selectedUsersList:[],userFname:"",userSurname:"",userEmail:"",userPhone:"",userAddress:"",userCity:"",uesrState:"",userCountry:"",userZipcode:"",userAdditionalEmail:[],selectedUserID:"",privilegeOptionSelection:{},locationPhoneError:!1,userPhoneError:!1,comment:""}),this.getCustomerList()},this.onCreateCustomer=()=>{if(this.state.newCompanyName.trim()){this.setState({isLoading:!0});const e={companyName:this.state.newCompanyName};vt.createCustomer(e,()=>{this.setState({newCompanyName:"",isLoading:!1}),this.getCustomerList()})}else vt.showNotification("danger","Company name needed")},this.getCustomerList=()=>{this.setState({isLoading:!0}),vt.getCustomerList(e=>{e&&this.setState({customerList:e,isLoading:!1})})},this.fetchCustomerInfo=e=>{let{id:t}=e;t&&(this.setState({isLoading:!0}),vt.getCustomerById(t,e=>{const t=e.data;t&&t.client&&this.setState({isLoading:!1,isView:!0,customerUserList:t.users||[],customerLocationList:t.locations||[],customerLocationListExt:[{id:"",name:"Choose any"}].concat(t.locations||[]),companyName:t.name,newCompanyName:t.name,selectedCompany:{id:t.client.id,name:t.client.name}})}),vt.getUserPrivilegeByToken(t,e=>{Object.keys(e).length&&this.setState({permission:e})}))},this.onUpdateCustomerUser=e=>{const t={name:e,id:this.state.selectedCompany.id};vt.updateCustomer(t,()=>{this.getCustomerList(),this.setState({isLoading:!1})})},this.deleteCustomer=e=>{let{id:t}=e;Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to delete this customer",buttons:[{label:"Delete",color:"red",onClick:()=>{this.setState({isLoading:!0}),vt.deleteCustomer(t,()=>{this._handleReset(),this.getCustomerList()})}},{label:"Cancel",onClick:()=>console.log("Operation cancelled")}]})},this.onCreateUser=()=>{if(this.state.userFname.trim()||this.state.userEmail.trim()){var e={clientid:this.state.selectedCompany.id||" ",fname:this.state.userFname||" ",surname:this.state.userSurname||" ",phone:this.state.userPhone||" ",email:this.state.userEmail.toLowerCase().trim()||" ",address:this.state.userAddress||" ",city:this.state.userCity||" ",state:this.state.uesrState||" ",country:this.state.userCountry||" ",zipcode:this.state.userZipcode||" ",primary:this.state.userPrimary};this.state.selectedReportComp.length&&(e.reportcomp=this.state.selectedReportComp[0].id),vt.register(e,"customer",()=>{this.setState({isLoading:!0}),this.getUserByCustomerID(),this._handleView("viewUser")})}else vt.showNotification("danger","One or more field empty")},this.getUserByID=e=>{let{id:t}=e;this.setState({isLoading:!0}),vt.getUserById(t,e=>{var t=[];return e.reportcomp&&this.state.reportCompList.map(a=>a.id===e.reportcomp?t=[a]:t),this.setState({isLoading:!1,isViewUserForm:!0,isViewUser:!1,isViewUserFormEdit:!0,selectedUserID:e.id,userFname:e.fname,userSurname:e.surname,userPhone:e.phone,userEmail:e.email,userAddress:e.address,userCity:e.city,uesrState:e.state,userCountry:e.country,userZipcode:e.zipcode,userPrimary:e.primary,selectedReportComp:t}),!0})},this.getUserByCustomerID=()=>{this.setState({isLoading:!0}),vt.getUsersByCustomerID(this.state.selectedCompany.id,e=>{this.setState({isLoading:!1,customerUserList:e})})},this.onUpdateUser=()=>{this.setState({isLoading:!0});var e={id:this.state.selectedUserID,fname:this.state.userFname||" ",surname:this.state.userSurname||" ",phone:this.state.userPhone||" ",email:this.state.userEmail||" ",address:this.state.userAddress||" ",city:this.state.userCity||" ",state:this.state.uesrState||" ",country:this.state.userCountry||" ",zipcode:this.state.userZipcode||" "};this.state.selectedReportComp.length&&(e.reportcomp=this.state.selectedReportComp[0].id),vt.updateUser(e,()=>{this.getUserByCustomerID()})},this.onDeleteUser=e=>{let{id:t}=e;Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to delete this user",buttons:[{label:"Delete",color:"red",onClick:()=>{vt.deleteUser(t,()=>{this.getUserByCustomerID()})}},{label:"Cancel",onClick:()=>console.log("Operation cancelled")}]})},this.makeUserPrimary=e=>{if(e){this.setState({isLoading:!0});const t={userid:e,clientid:this.state.selectedCompany.id};vt.makeUserPrimary(t,e=>{e&&this.getUserByCustomerID(),this.setState({userPrimary:!0,isLoading:!1})})}else this.setState({userPrimary:!0})},this.onCreateLocation=()=>{if(this.state.locationName.trim()){this.setState({isLoading:!0});var e={clientid:this.state.selectedCompany.id,email:this.state.locationEmailCollection||[],name:this.state.locationName||" ",address:this.state.locationAddress||" ",city:this.state.locationCity||" ",state:this.state.locationState||" ",country:this.state.locationCountry||" ",zipcode:this.state.locationZipcode||" ",phone:this.state.locationPhone||" ",comment:this.state.comment};if(this.state.selectedReportComp.length&&(e.reportcomp=this.state.selectedReportComp[0].id),this.state.selectedUser.length&&(e.userid=this.state.selectedUser[0].id),this.state.selectedUsersList.length){var t=[];this.state.selectedUsersList.map(e=>t.push(e.id)),e.usercollection=t}vt.createClientLocation(e,()=>{this.setState({locationEmailCollection:[],locationName:"",locationAddress:"",locationCity:"",locationState:"",locationCountry:"",locationZipcode:"",locationPhone:"",selectedUser:[],selectedReportComp:[],comment:""}),this.getLocationByClientID(),this._handleView("viewLocation")})}else vt.showNotification("danger","Location name in needed")},this.getLocationByClientID=()=>{this.state.selectedCompany.id&&vt.getCustomerLocationByClient(this.state.selectedCompany.id,e=>{this.setState({customerLocationList:e||[],customerLocationListExt:[{id:"",name:"Choose any"}].concat(e||[])})})},this.getLocationByID=e=>{let{_id:t}=e;const a=t;this.setState({isLoading:!0}),vt.getCustomerLocationByID(a,e=>{const t=e;if(t){var s=[];t&&t.userid&&this.state.customerUserList.map(e=>e.id===t.userid?s=[e]:s);var i=[];t.reportcomp&&this.state.reportCompList.map(e=>e.id===t.reportcomp?i=[e]:i);var l=[];t&&t.usercollection&&this.state.customerUserList&&this.state.customerUserList.length&&t.usercollection.map(e=>(this.state.customerUserList.map(t=>t.id===e?l.push(t):t),e)),this.setState({selectedLocationIndex:a,locationEmailCollection:t.email||[],locationName:t.name,locationAddress:t.address,locationCity:t.city,locationState:t.state,locationCountry:t.country,locationZipcode:t.zipcode,locationPhone:t.phone,selectedReportComp:i,selectedUser:s,isEditLocationForm:!0,isViewLocationForm:!0,isViewLocation:!0,isLoading:!1,selectedUsersList:l,comment:t.comment?t.comment:""})}})},this.onUpdateLocation=()=>{this.setState({isLoading:!0});var e={email:this.state.locationEmailCollection||[],name:this.state.locationName||" ",address:this.state.locationAddress||" ",city:this.state.locationCity||" ",state:this.state.locationState||" ",country:this.state.locationCountry||" ",zipcode:this.state.locationZipcode||" ",phone:this.state.locationPhone||" ",comment:this.state.comment};if(this.state.selectedUser.length&&(e.userid=this.state.selectedUser[0].id),this.state.selectedReportComp.length&&(e.reportcomp=this.state.selectedReportComp[0].id),this.state.selectedUsersList.length){var t=[];this.state.selectedUsersList.map(e=>t.push(e.id)),e.usercollection=t}vt.updateClientLocation({id:this.state.selectedLocationIndex,location:e},e=>{this.getLocationByClientID()})},this.onDeleteLocation=e=>{let{id:t}=e;Object(Gt.confirmAlert)({title:"Confirm",message:"Are you sure you want to delete this location",buttons:[{label:"Delete",color:"red",onClick:()=>{this.setState({isLoading:!0}),vt.deleteClientLocation(t,()=>{this.getLocationByClientID()})}},{label:"Cancel",onClick:()=>console.log("Operation cancelled")}]})},this.createPrivilege=()=>{this.setState({isLoading:!0});var e={location:this.state.selectedLocation.length?this.state.selectedLocation[0].name:" ",locationid:this.state.selectedLocation.length?this.state.selectedLocation[0].id:" ",clientid:this.state.selectedCompany.id,options:this.state.privilegeOptionSelection,userid:this.state.selectedUser.length?this.state.selectedUser[0].id:" "};vt.createPrivilege(e,e=>{e&&this._handleView("viewPrivilege")})},this.updatePrivilege=e=>{if(e.target.value){this.setState({isLoading:!0});const t={privilegeid:e.target.value,[e.target.id]:e.target.checked};vt.updatePrivilege(t,()=>{})}},this.getPrivilegeOptions=()=>{this.setState({isLoading:!0}),vt.getUserPrivilegeOptions(e=>{this.setState({privilegeOptions:e||[],isLoading:!1})})},this._handleReportCompSelection=e=>{e.target.value&&e.target.value.id?this.setState({selectedReportComp:[e.target.value]}):this.setState({selectedReportComp:[]})},this._handleUserSelection=e=>{e.target.value?this.setState({selectedUser:[e.target.value]}):this.setState({selectedUser:[]})},this._handleLocationSelection=e=>{e.target.value.id?this.setState({selectedLocation:[e.target.value]}):this.setState({selectedLocation:[]})},this._handleLocationSearch=e=>{this.getLocationByID(e)},this._handleUserSearch=e=>{this.getUserByID(e)},this._handleCustomerSelection=e=>{this.fetchCustomerInfo(e)},this._handleUserSelectionInfo=e=>{if(e.target.value.id){this.setState({selectedUser:[e.target.value],privilegeList:[]});const t={userid:e.target.value.id,clientid:this.state.selectedCompany.id};vt.getUserPrivilege(t,e=>{this.setState({privilegeList:e.data||[],isLoading:!1})})}else this.setState({privilegeList:[],selectedUser:[]})},this._handleCheckbox=e=>{var t=this.state.privilegeOptionSelection,a={};t[e.target.value]&&(a=t[e.target.value]),a[e.target.id]=e.target.checked,t[e.target.value]=a,this.setState({privilegeOptionSelection:t})},this._handleMultiUserSelectionInfo=e=>{this.setState({selectedUsersList:e.target.value})},this.handleKeyDown=e=>{if(["Enter","Tab",","].includes(e.key)){e.preventDefault();var t=this.state.locationEmailValue.trim();t&&this._handleEmailIsValid(t)&&this.setState({locationEmailCollection:[...this.state.locationEmailCollection,this.state.locationEmailValue],locationEmailValue:""})}},this._handleEmailAddChange=e=>{this.setState({locationEmailValue:e.target.value,emailError:null})},this._handleEmailRemoveChange=e=>{this.setState({locationEmailCollection:this.state.locationEmailCollection.filter(t=>t!==e)})},this._handleEmailPasteChange=e=>{e.preventDefault();var t=e.clipboardData.getData("text").match(/[\w\d\.-]+@[\w\d\.-]+\.[\w\d\.-]+/g);if(t){var a=t.filter(e=>!this._handleEmailIsInList(e));this.setState({locationEmailCollection:[...this.state.locationEmailCollection,...a]})}},this._handleCustomerChangePage=(e,t)=>{this.setState({customerListPage:t})},this._handleCustomerChangeRowsPerPage=e=>{this.setState({customerListRowsPerPage:parseInt(+e.target.value),customerListPage:0})},this._handleView=e=>{var t={isView:!0,selectedUser:[],privilegeList:[],isViewUser:!1,isViewUserForm:!1,isViewUserFormEdit:!1,isViewLocation:!1,isViewLocationForm:!1,isEditLocationForm:!1,isViewPrivilege:!1,isViewPrivilegeForm:!1,selectedReportComp:[],locationPhoneError:!1,userPhoneError:!1,isLoading:!1,userFname:"",userSurname:"",userEmail:"",userPhone:"",userAddress:"",userCity:"",uesrState:"",userCountry:"",userZipcode:"",userAdditionalEmail:[],selectedUserID:"",locationName:"",locationAddress:"",locationCity:"",locationState:"",locationCountry:"",locationZipcode:"",locationEmailValue:"",locationEmailCollection:[],selectedLocationIndex:"",locationPhone:"",selectedUsersList:[],privilegeOptionSelection:{},selectedLocation:[],comment:""};switch(e){case"viewUser":t.isViewUser=!this.state.isViewUser,this.setState(t);break;case"viewUserForm":t.isViewUserForm=!this.state.isViewUserForm,this.setState(t);break;case"viewLocation":t.isViewLocation=!this.state.isViewLocation,this.setState(t);break;case"viewLocationForm":t.isViewLocationForm=!this.state.isViewLocationForm,this.setState(t);break;case"viewPrivilege":t.isViewPrivilege=!this.state.isViewPrivilege,this.setState(t);break;case"viewPrivilegeForm":t.isViewPrivilegeForm=!this.state.isViewPrivilegeForm,this.setState(t);break;default:this.setState(t)}},this._checkAccess=e=>{const t=this.state.permission;if("customer"===this.state.role)switch(e){case"customerCreate":case"customerView":return!1;case"userView":return!!t.admin||!(!Object.keys(t).length||!t.user)&&(t.user.isedit||!!t.isadmin);case"userForm":return!!t.admin||!!(Object.keys(t).length>0&&t.user)&&(t.user.iscreate||t.user.isedit||!!t.isadmin);case"locationView":return!!t.admin||!!(Object.keys(t).length>0&&t.location)&&(t.location.isedit||!!t.isadmin);case"locationForm":return!!t.admin||!!(Object.keys(t).length>0&&t.location)&&(t.location.iscreate||t.location.isedit||!!t.isadmin);case"privilegeView":case"privilegeForm":default:return!1}return!0},this._renderPrivilegeForm=()=>{const{classes:e}=this.props;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(da,{id:"user-selection",labelText:"Select user",valuekey:["fname","surname","email"],single:!0,selectedValue:this.state.selectedUser||[],onChange:this._handleUserSelection,value:this.state.customerUserList,formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(da,{id:"location-selection",labelText:"Select location",valuekey:["name"],single:!0,selectedValue:this.state.selectedLocation||[],onChange:this._handleLocationSelection,value:this.state.customerLocationListExt,formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(js.a,{className:e.container},i.a.createElement(et.a,{stickyHeader:!0,"aria-label":"sticky table"},i.a.createElement(tt.a,null,i.a.createElement(at.a,null,i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"section"}," Section "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"create-privilege"},"Admin "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"create-privilege"}," Create "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"update-privilege"}," Edit "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"archive-privilege"}," Archive "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"sent-privilege"}," Sent "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"view-privilege"}," View "))),i.a.createElement(st.a,null,this.state.privilegeOptions.map((t,a)=>i.a.createElement(at.a,{key:a,tabIndex:-1,className:e.tableBodyRow},i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"check"}," ",t.selection," "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"check"},"admin"===t.selectionKey?i.a.createElement("input",{id:"isadmin",name:"admin",type:"checkbox",onClick:this._handleCheckbox,value:t.selectionKey}):null),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"check"},"sif"!==t.selectionKey&&"admin"!==t.selectionKey&&"trending"!==t.selectionKey?i.a.createElement("input",{id:"iscreate",name:"iscreate",type:"checkbox",onClick:this._handleCheckbox,value:t.selectionKey}):null),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"check"},"sif"!==t.selectionKey&&"admin"!==t.selectionKey&&"trending"!==t.selectionKey?i.a.createElement("input",{id:"isedit",name:"isedit",type:"checkbox",onClick:this._handleCheckbox,value:t.selectionKey}):null),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"check"},"sif"!==t.selectionKey&&"admin"!==t.selectionKey&&"trending"!==t.selectionKey?i.a.createElement("input",{id:"isarchive",name:"isarchive",type:"checkbox",onClick:this._handleCheckbox,value:t.selectionKey}):null),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"check"},"sif"===t.selectionKey?i.a.createElement("input",{id:"issent",name:"issent",type:"checkbox",onClick:this._handleCheckbox,value:t.selectionKey}):null),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"check"},"trending"===t.selectionKey||"sif"===t.selectionKey?i.a.createElement("input",{id:"isview",name:"isview",type:"checkbox",onClick:this._handleCheckbox,value:t.selectionKey}):null))))))),i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Q,{color:"warning",size:"sm",onClick:()=>this.createPrivilege()}," Create  ")))},this._renderPrivilegeSelection=()=>{const{classes:e}=this.props;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(da,{id:"user-selection",labelText:"Select user",valuekey:["fname","surname","email"],single:!0,selectedValue:this.state.selectedUser||[],onChange:this._handleUserSelectionInfo,value:this.state.customerUserList,formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(js.a,{className:e.container},i.a.createElement(et.a,{stickyHeader:!0,"aria-label":"sticky table"},i.a.createElement(tt.a,null,i.a.createElement(at.a,null,i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"location-selected"}," Location "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"section-privilege"}," Section "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"create-privilege"}," Admin "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"create-privilege"}," Create "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"update-privilege"}," Edit "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"archive-privilege"}," Archive "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"sent-privilege"}," ","Sent "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"view-privilege"}," ","View"," "))),i.a.createElement(st.a,null,this.state.privilegeList.map((t,a)=>i.a.createElement(at.a,{key:a,tabIndex:-1,className:e.tableBodyRow},i.a.createElement(it.a,{className:e.tableCell,key:"location"+t.id}," ",t.location.trim()?t.location.slice(0,1).toUpperCase()+t.location.slice(1):this.state.selectedCompany.name," "),i.a.createElement(it.a,{className:e.tableCell,key:"location"+t.id}," ",t.selection?t.selection.slice(0,1).toUpperCase()+t.selection.slice(1):" "," "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"check"},"admin"===t.selection?i.a.createElement("input",{id:"isadmin",name:"admin-select",type:"checkbox",defaultChecked:!!t.isadmin&&t.isadmin,value:t.id,onClick:this.updatePrivilege}):null),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"check"},"sif"!==t.selection&&"admin"!==t.selection&&"trending"!==t.selection?i.a.createElement("input",{id:"iscreate",name:"create-select",type:"checkbox",defaultChecked:!!t.iscreate&&t.iscreate,value:t.id,onClick:this.updatePrivilege}):null),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"check"},"sif"!==t.selection&&"admin"!==t.selection&&"trending"!==t.selection?i.a.createElement("input",{id:"isedit",name:"edit-select",type:"checkbox",defaultChecked:!!t.isedit&&t.isedit,value:t.id,onClick:this.updatePrivilege}):null),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"check"},"sif"!==t.selection&&"admin"!==t.selection&&"trending"!==t.selection?i.a.createElement("input",{id:"isarchive",name:"archive-select",type:"checkbox",defaultChecked:!!t.isarchive&&t.isarchive,value:t.id,onClick:this.updatePrivilege}):null),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"check"},"sif"===t.selection?i.a.createElement("input",{id:"issent",name:"sent-select",type:"checkbox",defaultChecked:!!t.issent&&t.issent,value:t.id,onClick:this.updatePrivilege}):null),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"check"},"trending"===t.selection||"sif"===t.selection?i.a.createElement("input",{id:"isview",name:"view-select",type:"checkbox",defaultChecked:!!t.isview&&t.isview,value:t.id,onClick:this.updatePrivilege}):null))))))))},this._renderLocationForm=()=>{const{classes:e}=this.props;return i.a.createElement(Et,null,i.a.createElement(kt,null,i.a.createElement("h4",null,"Location"),i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({locationName:e.target.value})},labelText:"Location name",id:"location-name",inputProps:{type:"text",value:this.state.locationName},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({locationPhone:e.target.value,locationPhoneError:Os.customerLocationForm({phone:e.target.value}).phoneError})},labelText:"Phone",error:this.state.locationPhoneError,id:"location-phone",inputProps:{type:"text",value:this.state.locationPhone||""},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({locationAddress:e.target.value})},labelText:"Address",id:"location-address",inputProps:{type:"text",value:this.state.locationAddress},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({locationCity:e.target.value})},labelText:"City",id:"location-city",inputProps:{type:"text",value:this.state.locationCity},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({locationState:e.target.value})},labelText:"State",id:"location-state",inputProps:{type:"text",value:this.state.locationState},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({locationCountry:e.target.value})},labelText:"Country",id:"location-country",inputProps:{type:"text",value:this.state.locationCountry},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>{this.setState({locationZipcode:e.target.value})},labelText:"Zipcode",id:"location-zipcode",inputProps:{type:"text",value:this.state.locationZipcode},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(ca,{error:this.state.error,id:"email",disabled:!0,inputProps:{type:"text",value:this.state.locationEmailValue},labelText:"Additonal email",onKeyDown:this.handleKeyDown,onChange:this._handleEmailAddChange,onPaste:this._handleEmailPasteChange,formControlProps:{fullWidth:!0}}),null!==this.state.emailError?i.a.createElement("span",{style:{color:"red"}},this.state.emailError):null,this.state.locationEmailCollection.map((t,a)=>i.a.createElement("div",{className:e.chips,key:t},i.a.createElement(Mt.a,{onClick:()=>this._handleEmailRemoveChange(t),key:a,label:t+"  X",className:e.chip})))),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(da,{id:"reportedCompany",labelText:"Reported companies",valuekey:["name"],single:!0,selectedValue:this.state.selectedReportComp||[],onChange:this._handleReportCompSelection,value:this.state.reportCompList,formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(da,{id:"user-primary-selection",labelText:"Select primary user",valuekey:["fname","surname","email"],single:!0,selectedValue:this.state.selectedUser||[],onChange:this._handleUserSelectionInfo,value:this.state.customerUserList,formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(da,{id:"user-selection",labelText:"Select users",valuekey:["fname","surname","email"],inputProps:{multiple:!0},selectedValue:this.state.selectedUsersList||[],onChange:this._handleMultiUserSelectionInfo,value:this.state.customerUserList,formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(oa,{onChange:e=>{this.setState({comment:e.target.value})},labelText:"Comment",id:"comment",inputProps:{type:"text",value:this.state.comment},formControlProps:{fullWidth:!0}})))),i.a.createElement(Xt,null,i.a.createElement(Q,{color:"warning",size:"sm",onClick:()=>this._handleView("viewLocation")},"Cancel"),this.state.isEditLocationForm?i.a.createElement(Q,{color:"warning",size:"sm",onClick:this.onUpdateLocation},"Update"):i.a.createElement(Q,{color:"warning",size:"sm",onClick:this.onCreateLocation},"Create")))},this._renderLocationtable=()=>{const{classes:e}=this.props;return i.a.createElement(Et,null,i.a.createElement(_t,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Location")),i.a.createElement(kt,null,"admin"===this.state.role?i.a.createElement(ua,{id:"location-search-selection",onChange:(e,t)=>this._handleLocationSearch(t),options:this.state.customerLocationList,getOptionLabel:e=>e.name,style:{backgroundColor:"white"},autoComplete:!0,includeInputInList:!0,renderInput:e=>i.a.createElement(Ut.a,Object.assign({},e,{label:"Location",variant:"outlined"}))}):null,this.state.customerLocationList?i.a.createElement(js.a,{className:e.container},i.a.createElement(et.a,{stickyHeader:!0,"aria-label":"sticky table"},i.a.createElement(tt.a,null,i.a.createElement(at.a,null,i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"location-selected"}," ","Location name"," "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"location-selected"}," ","Email"," "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"location-selected"}," ","Phone"," "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"location-options"}," ","Options"," "))),i.a.createElement(st.a,null,this.state.customerLocationList.map((t,a)=>i.a.createElement(at.a,{key:a,tabIndex:-1,className:e.tableBodyRow},i.a.createElement(it.a,{onClick:()=>this.getLocationByID(t),className:e.tableCell,key:"location-name-"+t.id}," ",t.name||" "," "),i.a.createElement(it.a,{onClick:()=>this.getLocationByID(t),className:e.tableCell,key:"primary-email-"+t.id}," ",t.primaryemail||" "," "),i.a.createElement(it.a,{onClick:()=>this.getLocationByID(t),className:e.tableCell,key:"primary-phone-"+t.id},t.primaryphone?t.primaryphone.toString().slice(0,3)+"-"+t.primaryphone.toString().slice(3,6)+"-"+t.primaryphone.toString().slice(6,10):t.phone?t.phone.toString().slice(0,3)+"-"+t.phone.toString().slice(3,6)+"-"+t.phone.toString().slice(6,10):" "," "),i.a.createElement(it.a,{className:e.tableCell,key:"option"+a},i.a.createElement(Kt.a,{onClick:()=>this.onDeleteLocation(t),style:{color:$t.a[500]}}),i.a.createElement(qt.a,{onClick:()=>this.getLocationByID(t)}))))))):"No records found"))},this._renderUserForm=()=>i.a.createElement(Et,null,i.a.createElement(kt,null,i.a.createElement("h4",null,"User"),i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>this.setState({userFname:e.target.value}),labelText:"First name",id:"user-fname",inputProps:{type:"text",value:this.state.userFname},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>this.setState({userSurname:e.target.value}),labelText:"Last name",id:"user-surname",inputProps:{type:"text",value:this.state.userSurname},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>this.setState({userEmail:e.target.value}),labelText:"Email",id:"user-email",inputProps:{type:"text",value:this.state.userEmail},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>this.setState({userPhone:e.target.value,userPhoneError:Os.customerUserForm({phone:e.target.value}).phoneError}),labelText:"Phone",id:"user-phone",error:this.state.userPhoneError,inputProps:{type:"text",value:this.state.userPhone},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>this.setState({userAddress:e.target.value}),labelText:"Address",id:"user-address",inputProps:{type:"text",value:this.state.userAddress},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>this.setState({userCity:e.target.value}),labelText:"City",id:"user-city",inputProps:{type:"text",value:this.state.userCity},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>this.setState({uesrState:e.target.value}),labelText:"State",id:"user-state",inputProps:{type:"text",value:this.state.uesrState},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>this.setState({userCountry:e.target.value}),labelText:"Country",id:"user-country",inputProps:{type:"text",value:this.state.userCountry},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(oa,{onChange:e=>this.setState({userZipcode:e.target.value}),labelText:"Zipcode",id:"user-zipcode",inputProps:{type:"text",value:this.state.userZipcode},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(da,{id:"reportedCompany",labelText:"Reported companies",single:!0,valuekey:["name"],selectedValue:this.state.selectedReportComp||[],onChange:this._handleReportCompSelection,value:this.state.reportCompList,formControlProps:{fullWidth:!0}})))),i.a.createElement(Xt,null,this.state.userPrimary?i.a.createElement(Q,{color:"success",size:"sm"},"Primary"):i.a.createElement(Q,{color:"grey",size:"sm",onClick:()=>this.makeUserPrimary(this.state.selectedUserID)},"Make primary"),this.state.isViewUserFormEdit?i.a.createElement(Q,{color:"success",size:"sm",onClick:this.onUpdateUser},"Update"):i.a.createElement(Q,{color:"success",size:"sm",onClick:this.onCreateUser},"Create"),i.a.createElement(Q,{color:"warning",size:"sm",onClick:()=>this._handleView("viewUser")},"Cancel"))),this._renderUsertable=()=>{const{classes:e}=this.props;return i.a.createElement(Et,null,i.a.createElement(_t,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Users")),i.a.createElement(kt,null,i.a.createElement(ua,{id:"user-search-selection",onChange:(e,t)=>this._handleUserSearch(t),options:this.state.customerUserList,getOptionLabel:e=>e.fname,style:{backgroundColor:"white"},autoComplete:!0,includeInputInList:!0,renderInput:e=>i.a.createElement(Ut.a,Object.assign({},e,{label:"Users",variant:"outlined"}))}),this.state.isLoading?i.a.createElement(Je.a,{type:"ThreeDots",color:"#a5d1e6",height:50,width:50}):this.state.customerUserList?i.a.createElement(js.a,{className:e.container},i.a.createElement(et.a,{stickyHeader:!0,"aria-label":"sticky table"},i.a.createElement(tt.a,null,i.a.createElement(at.a,null,i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"user-fname"}," ","Name"," "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"user-fname"}," ","Email"," "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"user-fname"}," ","Phone"," "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"option"}," ","Option"," "))),i.a.createElement(st.a,null,this.state.customerUserList.map((t,a)=>i.a.createElement(at.a,{key:a,tabIndex:-1,className:e.tableBodyRow},i.a.createElement(it.a,{onClick:()=>this.getUserByID(t),className:e.tableCell,key:"location-name-"+t.id}," ",t.fname||" "," ",t.surname||" "," ",t.primary?i.a.createElement("text",{style:{color:"green"}}," PRIMARY "):null," "),i.a.createElement(it.a,{onClick:()=>this.getUserByID(t),className:e.tableCell,key:"location-name-"+t.id}," ",t.primaryemail||t.email||" "," "),i.a.createElement(it.a,{onClick:()=>this.getUserByID(t),className:e.tableCell,key:"location-name-"+t.id},t.primaryphone?t.primaryphone.toString().slice(0,3)+"-"+t.primaryphone.toString().slice(3,6)+"-"+t.primaryphone.toString().slice(6,10):t.phone?t.phone.toString().slice(0,3)+"-"+t.phone.toString().slice(3,6)+"-"+t.phone.toString().slice(6,10):" "," "),i.a.createElement(it.a,{className:e.tableCell,key:"option"+a},i.a.createElement(Kt.a,{onClick:()=>this.onDeleteUser(t),style:{color:$t.a[500]}}),i.a.createElement(qt.a,{onClick:()=>this.getUserByID(t)}))))))):"No records found"))},this._renderCustomerProfileCards=()=>{const{classes:e}=this.props;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Et,null,i.a.createElement(_t,{color:"warning",stats:!0,icon:!0},i.a.createElement(yt,{color:"warning"},i.a.createElement(le.a,null)),i.a.createElement("p",{className:e.cardCategory},"Users"),i.a.createElement("h3",{className:e.cardTitle},this.state.customerUserList.length||0)),i.a.createElement(Xt,{stats:!0},i.a.createElement("a",{href:"#users",onClick:()=>this._checkAccess("userView")?this._handleView("viewUser"):null}," ",this.state.isViewUser?"Exit":"View"," ")))),i.a.createElement(ht,{xs:12,sm:12,md:6},i.a.createElement(Et,null,i.a.createElement(_t,{color:"warning",stats:!0,icon:!0},i.a.createElement(yt,{color:"warning"},i.a.createElement(Bs.a,null)),i.a.createElement("p",{className:e.cardCategory},"Location"),i.a.createElement("h3",{className:e.cardTitle},this.state.customerLocationList.length||0)),i.a.createElement(Xt,{stats:!0},i.a.createElement("a",{href:"#location",onClick:()=>this._checkAccess("locationView")?this._handleView("viewLocation"):null}," ",this.state.isViewLocation?"Exit":"View"," ")))))},this.state={isView:!1,role:"customer",permission:{},customerList:[],reportedCompaniesList:[],usertype:[],customerLocationList:[],customerUserList:[],customerListRowsPerPage:10,customerListPage:0,isLoading:!1,isViewUser:!1,isViewUserForm:!1,userPrimary:!1,userFname:"",userSurname:"",userEmail:"",userPhone:"",userAddress:"",userCity:"",uesrState:"",userCountry:"",userZipcode:"",userAdditionalEmail:[],selectedUserID:"",isViewUserFormEdit:!1,isViewLocation:!1,isViewLocationDetails:!1,isViewLocationForm:!1,isEditLocationForm:!1,selectedLocationIndex:"",selectedUsersList:[],isViewPrivilege:!1,privilegeList:[],selectedLocation:[],privilegeOptions:[],privilegeOptionSelection:{},selectedCompany:{},locationName:"",locationAddress:"",locationCity:"",locationState:"",locationCountry:"",locationZipcode:"",locationEmailValue:"",locationEmailCollection:[],selectedReportComp:[],reportCompList:[],locationPhone:"",locationPhoneError:!1,userPhoneError:!1,comment:""}}_handleEmailIsValid(e){let t=null;return this._handleEmailIsInList(e)&&(t=e+" has already been added."),this._handleEmailIsIsEmail(e)||(t=e+" is not a valid email address."),!t||(this.setState({emailError:t}),!1)}_handleEmailIsInList(e){return this.state.locationEmailCollection.includes(e)}_handleEmailIsIsEmail(e){return/[\w\d\.-]+@[\w\d\.-]+\.[\w\d\.-]+/.test(e)}render(){const{classes:e}=this.props;return i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,"customer"!==this.state.role?i.a.createElement(_t,{color:"primary"},i.a.createElement("h4",{className:e.cardTitleWhite},this.state.isView?"Details of "+this.state.selectedCompany.name:"Create Customer"),i.a.createElement("p",{className:e.cardCategoryWhite},this.state.isView?" ":"Complete new customer form")):null,i.a.createElement(kt,null,this.state.isView?this._renderCustomerProfileCards():null,"customer"!==this.state.role||this.state.isView?"":" Hi customer",this.state.isView?i.a.createElement("div",null,this._checkAccess("customerCreate")?i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(oa,{onChange:e=>{this.setState({newCompanyName:e.target.value})},labelText:this.state.selectedCompany.name||"Company name",id:"companyname",inputProps:{type:"text",value:this.state.newCompanyName},formControlProps:{fullWidth:!0}})),i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Q,{color:"success",size:"sm",onClick:()=>this.onUpdateCustomerUser(this.state.newCompanyName)},"Update customer name"))):null,this._checkAccess("userForm")?i.a.createElement(Q,{color:"success",size:"sm",onClick:()=>this._handleView("viewUserForm")},"Create user"):null,this._checkAccess("locationForm")?i.a.createElement(Q,{color:"success",size:"sm",onClick:()=>this._handleView("viewLocationForm")},"Create location"):null,this._checkAccess("privilegeForm")?i.a.createElement(Q,{color:"success",size:"sm",onClick:()=>this._handleView("viewPrivilege")},"Create privilege"):null,this.state.isView&&this.state.isViewPrivilege?i.a.createElement(Q,{color:"success",size:"sm",onClick:()=>this._handleView("viewPrivilegeForm")},"Create privilege"):null):this._checkAccess("customerCreate")?i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(oa,{onChange:e=>{this.setState({newCompanyName:e.target.value})},labelText:"Company name",id:"companyname",inputProps:{type:"text",value:this.state.newCompanyName},formControlProps:{fullWidth:!0}}))):null,this._checkAccess("userView")&&this.state.isView&&this.state.isViewUser?this._renderUsertable():null,this._checkAccess("userForm")&&this.state.isView&&this.state.isViewUserForm?this._renderUserForm():null,this._checkAccess("locationView")&&this.state.isView&&this.state.isViewLocation?this._renderLocationtable():null,this._checkAccess("locationForm")&&this.state.isView&&this.state.isViewLocationForm?this._renderLocationForm():null,this._checkAccess("privilegeView")&&this.state.isView&&this.state.isViewPrivilege?this._renderPrivilegeSelection():null,this._checkAccess("privilegeForm")&&this.state.isView&&this.state.isViewPrivilegeForm?this._renderPrivilegeForm():null),i.a.createElement(Xt,null,i.a.createElement("h5",{style:{color:"red"}},this.state.message),"customer"!==this.state.role?this.state.isView?null:i.a.createElement(Q,{disabled:this.state.isDisabled,onClick:()=>this.onCreateCustomer(),color:"primary"},"Create"):null,this.state.isView?i.a.createElement(Q,{onClick:this._handleReset,color:"primary"},"Reset"):null))),this.state.isView?null:i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Customers"),i.a.createElement("p",{className:e.cardCategoryWhite},"Updated on 31st March, 2020")),i.a.createElement(kt,null,i.a.createElement(ua,{id:"client-search-selection",onChange:(e,t)=>this._handleCustomerSelection(t),options:this.state.customerList,getOptionLabel:e=>e.name,style:{backgroundColor:"white"},autoComplete:!0,includeInputInList:!0,renderInput:e=>i.a.createElement(Ut.a,Object.assign({},e,{label:"Customer",variant:"outlined"}))}),this.state.isLoading?i.a.createElement(Je.a,{type:"ThreeDots",color:"#a5d1e6",height:50,width:50}):i.a.createElement("div",null,i.a.createElement(et.a,{className:e.table},i.a.createElement(tt.a,{className:e.info},i.a.createElement(at.a,{className:e.tableHeadRow},i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"company"}," ","Company name"," "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"email"}," ","Email"," "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"phone"}," ","Phone"," "),i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:"option"}," ","Options"," "))),i.a.createElement(st.a,null,this.state.customerList.length?this.state.customerList.slice(this.state.customerListPage*this.state.customerListRowsPerPage,this.state.customerListPage*this.state.customerListRowsPerPage+this.state.customerListRowsPerPage).map((t,a)=>i.a.createElement(at.a,{key:a,tabIndex:-1,className:e.tableBodyRow},i.a.createElement(it.a,{onClick:()=>this.fetchCustomerInfo(t),className:e.tableCell,key:"companyname"+a}," ",t.name||" "," "),i.a.createElement(it.a,{onClick:()=>this.fetchCustomerInfo(t),className:e.tableCell,key:"email"+a},t.primaryemail||t.email||" "," "),i.a.createElement(it.a,{onClick:()=>this.fetchCustomerInfo(t),className:e.tableCell,key:"phone"+a},t.primaryphone?t.primaryphone.toString().slice(0,3)+"-"+t.primaryphone.toString().slice(3,6)+"-"+t.primaryphone.toString().slice(6,10):t.phone?t.phone.toString().slice(0,3)+"-"+t.phone.toString().slice(3,6)+"-"+t.phone.toString().slice(6,10):" "," "),i.a.createElement(it.a,{className:e.tableCell,key:"option"+a},i.a.createElement(Kt.a,{onClick:()=>this.deleteCustomer(t),style:{color:$t.a[500]}}),i.a.createElement(qt.a,{onClick:()=>this.fetchCustomerInfo(t)})))):"No customers records found")),i.a.createElement(Bt.a,{component:"div",count:this.state.customerList.length,rowsPerPage:this.state.customerListRowsPerPage,page:this.state.customerListPage,onChangePage:this._handleCustomerChangePage,onChangeRowsPerPage:this._handleCustomerChangeRowsPerPage}))))))}}var Ks=Object(Qe.a)(()=>wt)(zs);function Ys(){const e=Se.authRole(),[t,a]=Object(s.useState)(2),[l,n]=Object(s.useState)(null),o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;a(e),n(r[e].component)},r=[{title:"Customer",id:"customer",href:"customer",component:i.a.createElement(Ks,null),onClick:()=>o(0)}];return"admin"!=e&&"manager"!=e||r.push({title:"Employee",id:"employee",href:"employee",component:i.a.createElement(Hs,null),onClick:()=>o(1)}),"admin"==e&&r.push({title:"Manager",id:"manager",href:"manager",component:i.a.createElement(Vs,null),onClick:()=>o(2)}),Object(s.useEffect)(()=>{o()},[]),i.a.createElement("div",null,i.a.createElement(Ps,{tabValues:r,selectedIndex:t}),l)}const qs={path:"/user-management",name:"User Management",icon:"assignment_ind",component:Ys,layout:"/home"};var $s={tableColumns:[{title:"Labid",key:"labid"},{title:"Location Name",key:"company",editable:"text"},{title:"Test",key:"result",editable:"textfield"},{title:"Action",key:"button",editable:"update-button",defaultLabel:"Update"}]};var Gs=e=>{let{key:t,index:a,labelText:s,disabled:l,onChange:n,refValue:o,availableInputDataSet:r}=e;return r&&r.length?i.a.createElement(ha.a,{id:`test-update-field-${t}-${a}`,onChange:(e,t)=>n(t),options:r,getOptionLabel:e=>e,style:{backgroundColor:"white"},autoComplete:!0,includeInputInList:!0,renderInput:e=>i.a.createElement(Ut.a,Object.assign({},e,{label:s,variant:"outlined"}))}):i.a.createElement(oa,{id:`test-update-field-${t}-${a}`,key:`test-update-field-${t}-${a}`,labelText:s,disabled:l,inputProps:{type:"text"},formControlProps:{fullWidth:!1},onChange:e=>n(e.target.value,o)})};const Zs={testRecords:[],selectedtestRecord:{},dateReceived:rt()().tz("America/Los_Angeles").format("LL"),dateOutRange:[null,null],tableRecords:[],isLoading:!1,availableInputDataSet:[]};class Qs extends s.Component{constructor(e){super(e),this._initializeData=()=>{},this.getLabTests=()=>{const{dateOutRange:e}=this.state,t=e[0],a=e[1];Tt.getLabTestListByDate(t,a,e=>{let{data:t=[]}=e;console.log(t,"testRecords"),this.setState({testRecords:t})})},this.getTableData=async()=>{const{selectedtestRecord:e,dateOutRange:t}=this.state;if(e&&t[0]&&t[1]){this.setState({isLoading:!0});try{Le(e,"Selected Lab Test");const{data:a=[]}=await Pt.getPendingLabtestsByLabTestFilter({test_id:e._id||null,test_name:e.name||null,start_date:rt()(t[0]).format("ll")||null,end_date:rt()(t[1]).format("ll")||null});this.setState({tableRecords:a,isLoading:!1})}catch(a){Le(a)}}},this.updateTestValue=async(e,t)=>{try{const a=e,s={lab_ref:t._id,test_ref:t.testRefId,result:a};Le(s,"content");const{data:i=[]}=await Pt.updatePendingLabtestsByLabTestFilter(s);Le(i)}catch(a){Le(a,"Update failed")}},this._handletestSelection=e=>{e?this.setState({selectedtestRecord:e,availableInputDataSet:e.dataAvailable?e.dataValue:Zs.availableInputDataSet},()=>this.getTableData()):this.setState({selectedtestRecord:{},availableInputDataSet:Zs.availableInputDataSet},()=>this.getTableData())},this._handleChangeDateOutRange=e=>{null===e&&(e=[null,null]),this.setState({dateOutRange:[...e]},()=>this.getLabTests())},this.componentDidMount=()=>{this._initializeData()},this.RenderRow=e=>"textfield"===e.editable?i.a.createElement(Gs,e):"update-button"===e.editable?i.a.createElement(Q,e,e.label):i.a.createElement(it.a,e,e.label),this.downloadReport=async()=>{const{selectedtestRecord:e,dateOutRange:t}=this.state;if(e&&t[0]&&t[1])try{await Pt.getWorkOrderSectionReportByDate({test_id:e._id||null,test_name:e.name||null,start_date:rt()(t[0]).format("ll")||null,end_date:rt()(t[1]).format("ll")||null})}catch(a){Le(a)}},this.state=Zs}render(){const{classes:e}=this.props,{testRecords:t,isLoading:a,tableRecords:s,selectedtestRecord:l,availableInputDataSet:n,dateOutRange:o}=this.state,r=l.name||"";return Le(s.length,"tableRecords length"),i.a.createElement("div",null,i.a.createElement(pt,{spacing:2},i.a.createElement(ht,{xs:12,sm:12,md:3,lg:3},i.a.createElement(ra,{key:"sifsearchdatepicker",id:"sifsearchdatepicker",onChange:this._handleChangeDateOutRange,inputProps:{value:this.state.dateOutRange},style:{backgroundColor:"white",width:260},formControlProps:{fullWidth:!0}})),o[0]&&o[1]?i.a.createElement(ht,{xs:12,sm:12,md:3,lg:3},i.a.createElement(ha.a,{key:"test-search",id:"test-search",onChange:(e,t)=>this._handletestSelection(t),options:t,getOptionLabel:e=>e.name,style:{backgroundColor:"white",width:260,marginBottom:20},autoComplete:!0,includeInputInList:!0,renderInput:e=>i.a.createElement(Ut.a,Object.assign({},e,{label:"Select a Lab Test",variant:"outlined"}))})):null,i.a.createElement(ht,{xs:12,sm:12,md:3,lg:3},i.a.createElement(Q,{onClick:this.downloadReport,color:"success"},"Download Report")),i.a.createElement(ht,{xs:12,sm:12,md:3,lg:3},i.a.createElement(Q,{onClick:this.downloadReport,color:"success"},"Download Report"))),i.a.createElement(pt,null,i.a.createElement(ht,{xs:12,sm:12,md:12},i.a.createElement(Et,null,i.a.createElement(_t,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Work Flow")),i.a.createElement(kt,null,a?i.a.createElement(ht,{xs:12,sm:12,md:4},i.a.createElement(Je.a,{type:"ThreeDots",color:"#a5d1e6",height:50,width:50})):i.a.createElement("div",{className:e.tableResponsive},i.a.createElement(et.a,{className:e.table},i.a.createElement(tt.a,{className:e.info},i.a.createElement(at.a,{className:e.tableHeadRow},$s.tableColumns.map((t,a)=>{let{title:s}=t;return i.a.createElement(it.a,{className:e.tableCell+" "+e.tableHeadCell,key:`table-header-${Math.random(10)}-${a}`},s)}))),i.a.createElement(st.a,null,s.length?s.map((t,a)=>i.a.createElement(at.a,{key:a,tabIndex:-1,className:e.tableBodyRow},$s.tableColumns.map((a,s)=>{let{key:l,editable:o,defaultLabel:c}=a;return i.a.createElement(it.a,{className:e.tableCell,key:`labid-${l}-${s}`},i.a.createElement(this.RenderRow,{editable:o,key:l,index:s,labelText:r,onChange:e=>this.updateTestValue(e,t),availableInputDataSet:n,label:t[l]||c}))}))):i.a.createElement(at.a,null,"No records available")))))))))}}const Xs={path:"/work-flow-management",name:"Work Flow Management",icon:"content_paste",component:Object(Qe.a)(()=>wt)(Qs),layout:"/home"},Js=Se.authRole(),ei="admin"==Js||"manager"==Js||"employee"==Js||"customer"==Js,ti="admin"==Js||"manager"==Js||"employee"==Js,ai="customer"==Js,si=[{path:"/dashboard",name:"Dashboard",icon:Ye.a,component:At,layout:"/home"}];ai&&si.push({path:"/my-reports",name:"Reports",icon:"content_paste",component:hs,layout:"/home"}),ti&&si.push({path:"/order-booking",name:"Sample",icon:"content_paste",component:Ca,layout:"/home"},{path:Xs.path,name:Xs.name,icon:Xs.icon,component:Xs.component,layout:Xs.layout}),ei&&si.push({path:"/trending",name:"Trending",icon:Ze.a,component:Va,layout:"/home"},{path:"/orderKits",name:"OrderKits",icon:"shopping_cart",component:Es,layout:"/home"},{path:"/checklist",name:"Check List",icon:"fact_check",component:fs,layout:"/home"},{path:"/environmental_lab_reports",name:"FOI Lab Environmental",icon:"assignment_turned_in",component:Rs,layout:"/home"},{path:"/gc_ftir_oil_report",name:"GC-FTIR-OIL Report",icon:"assignment_turned_in",component:vs,layout:"/home"}),"admin"==Js&&si.push({path:"/value-control",name:"Controller",icon:$e.a,component:os,layout:"/home"}),ei&&si.push({path:qs.path,name:qs.name,icon:qs.icon,component:qs.component,layout:qs.layout},{path:"/profile",name:"Profile",icon:"manage_accounts",component:cs,layout:"/home"});var ii=Se.isAuthenticated()&&Js?si:[];var li=e=>({wrapper:{position:"relative",top:"0",height:"100vh",background:"#ffff"},mainPanel:{[e.breakpoints.up("md")]:{width:"calc(100% - 260px)"},overflow:"auto",position:"relative",float:"right",...R,maxHeight:"100%",width:"100%",overflowScrolling:"touch"},content:{marginTop:"70px",padding:"30px 15px",minHeight:"calc(100vh - 123px)"},container:k,map:{marginTop:"70px"}});let ni;const oi=i.a.createElement(r.d,null,ii.map((e,t)=>"/home"===e.layout?i.a.createElement(r.b,{path:e.layout+e.path,component:e.component,key:t}):null),i.a.createElement(r.a,{from:"/",to:"/home/dashboard"})),ri=Object(p.a)(li);a(306);var ci=e=>{let{component:t,...a}=e;return i.a.createElement(r.b,Object.assign({},a,{render:e=>Se.isAuthenticated()?i.a.createElement(t,e):i.a.createElement(r.a,{exact:!0,to:{pathname:"/login",state:{from:e.location}}})}))},di=a(377),hi=(a(307),a(84));const{REACT_APP_VERSION:mi}=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_COMPANY_BRIEF:"Fuel Testing and Analysis",REACT_APP_CLIENT_ID:"FOI-XLPA-YTHF-8599-POYO",REACT_APP_COMPANY_NAME:"FOI Laboratories,",REACT_APP_COMPANY_HREF:"https://foilab.com/",REACT_APP_REPORTS_SERVER:"https://api.foilab.com/api/",REACT_APP_USER_CONTROLLER_SERVER:"https://api.foilab.com/api/",REACT_APP_DATA_CONTROLLER_SERVER:"https://api.foilab.com/api/",REACT_APP_SERVER:"https://api.foilab.com/api/",REACT_APP_VERSION:"$npm_package_version",REACT_APP_DEBUG:"false",REACT_APP_COMPANY_NAME_SHORT:"FOI Labs,",REACT_APP_SAMPLE_CONTROLLER_SERVER:"https://api.foilab.com/api/"}),pi=()=>i.a.createElement(hi.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright © ",i.a.createElement(Ns.a,{color:"inherit",href:ge.COMPANY_HREF},ge.COMPANY_NAME_SHORT)," ",(new Date).getFullYear(),mi);var ui=e=>{Se._onLoad(()=>(e.history.push("/home"),null));const[t,a]=Object(s.useState)(""),[l,n]=Object(s.useState)(""),o=async()=>{const e={email:t.trim(),password:l.trim()};Se.login(e,()=>{})};return i.a.createElement("div",{class:"body"},i.a.createElement("section",{class:"login",id:"login"},i.a.createElement("div",{class:"head"},i.a.createElement("h1",{class:"company"},"Sign In ")),i.a.createElement("div",{class:"form",onSubmit:o},i.a.createElement("form",null,i.a.createElement("input",{type:"text",placeholder:"Email",class:"text",id:"username",required:!0,onChange:e=>a(e.target.value)}),i.a.createElement("input",{type:"password",placeholder:"••••••••••••••",class:"password",id:"password",required:!0,onChange:e=>n(e.target.value)}),i.a.createElement("a",{onClick:o,class:"btn-login",id:"do-login",disabled:!t||!l},"Login"))),i.a.createElement(di.a,{mt:8},i.a.createElement(pi,null))))};const gi=Object(o.a)();h.a.initialize("UA-153857702-1"),n.a.render(i.a.createElement("div",null,i.a.createElement(d.a,null),i.a.createElement(r.c,{history:gi},i.a.createElement(r.d,null,i.a.createElement(r.b,{path:"/login",component:ui}),i.a.createElement(ci,{path:"/home",component:e=>{let{props:t,...a}=e;const s=ri(),l=i.a.createRef(),[n]=i.a.useState("blue"),[o,r]=i.a.useState(!1),c=()=>{r(!o)},d=()=>{window.innerWidth>=960&&r(!1)};return i.a.useEffect(()=>(navigator.platform.indexOf("Win")>-1&&(ni=new m.a(l.current,{suppressScrollX:!0,suppressScrollY:!1}),document.body.style.overflow="hidden"),window.addEventListener("resize",d),function(){navigator.platform.indexOf("Win")>-1&&ni.destroy(),window.removeEventListener("resize",d)}),[l]),i.a.createElement("div",{className:s.wrapper},i.a.createElement(ze,Object.assign({routes:ii,logoText:"FOI Labs",logo:"https://files.foilab.com/assets/uploads/report_company_logo/foi-logo.png",handleDrawerToggle:c,open:o,color:n},a)),i.a.createElement("div",{className:s.mainPanel,ref:l},i.a.createElement(Ne,Object.assign({routes:ii,handleDrawerToggle:c},a)),Se.isAuthenticated()?i.a.createElement("div",{className:s.content},i.a.createElement("div",{className:s.container},oi)):i.a.createElement("div",{className:s.map},oi),i.a.createElement(Oe,null)))}}),localStorage.getItem("foiLabUserToken")?i.a.createElement(r.a,{from:"/",to:"/home/dashboard"}):i.a.createElement(r.a,{from:"/",to:"/login"}),i.a.createElement(r.b,{path:"*",component:()=>"ERROR 404 Page not found. Please reload"})))),document.getElementById("root"))},4:function(e,t){const{REACT_APP_SERVER:a,REACT_APP_DATA_CONTROLLER_SERVER:s,REACT_APP_USER_CONTROLLER_SERVER:i,REACT_APP_SAMPLE_CONTROLLER_SERVER:l,REACT_APP_REPORTS_SERVER:n,REACT_APP_COMPANY_NAME:o,REACT_APP_COMPANY_NAME_SHORT:r,REACT_APP_COMPANY_HREF:c,REACT_APP_COMPANY_BRIEF:d,REACT_APP_COMPANY_SUMMERY:h,REACT_APP_DEBUG:m,REACT_APP_CLIENT_ID:p}=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_COMPANY_BRIEF:"Fuel Testing and Analysis",REACT_APP_CLIENT_ID:"FOI-XLPA-YTHF-8599-POYO",REACT_APP_COMPANY_NAME:"FOI Laboratories,",REACT_APP_COMPANY_HREF:"https://foilab.com/",REACT_APP_REPORTS_SERVER:"https://api.foilab.com/api/",REACT_APP_USER_CONTROLLER_SERVER:"https://api.foilab.com/api/",REACT_APP_DATA_CONTROLLER_SERVER:"https://api.foilab.com/api/",REACT_APP_SERVER:"https://api.foilab.com/api/",REACT_APP_VERSION:"$npm_package_version",REACT_APP_DEBUG:"false",REACT_APP_COMPANY_NAME_SHORT:"FOI Labs,",REACT_APP_SAMPLE_CONTROLLER_SERVER:"https://api.foilab.com/api/"});e.exports={SERVER:a,DATA_CONTROLLER_SERVER:s,USER_CONTROLLER_SERVER:i,SAMPLE_CONTROLLER_SERVER:l,REPORTS_SERVER:n,COMPANY_NAME:o,COMPANY_NAME_SHORT:r,COMPANY_HREF:c,COMPANY_BRIEF:d,COMPANY_SUMMERY:h,DEBUG:m,CLIENT_ID:p}},93:function(e,t){e.exports={fuelList:[],LabTestList:[],isLoading:!0,page:0,rowsPerPage:10,labTestName:"",labTestMethod:"",labTestDLT:"",LabTestResultType:[],isViewLabTest:!1,labTestNameError:!1,selectedResultType:[],selectedFuelList:[],selectedLabTest:{},isCreateLabTest:!1,selectedLabTestLimit:[],selectedLabTestLimitFuel:[],labTextLimitText:"",labTestLimitValue:"",labTestLimitAdditionError:"",selectedLabTestResponseLimit:[],selectedLimitIndex:"",isLimitEdit:!1,labTestLimitMinComment:"",labTestLimitMaxComment:"",selectedResultValue:[{id:"user defined",name:"user defined"}],LabTestResultValue:[{id:"user defined",name:"user defined"},{id:"predefined",name:"predefined"}],resultValues:[""],showPredefinedValues:!1,resultValue:""}}},[[200,1,2]]]);